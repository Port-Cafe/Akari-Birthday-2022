"use strict";(self.webpackChunkproject_akari=self.webpackChunkproject_akari||[]).push([[179],{997:()=>{function ie(t){return"function"==typeof t}function $s(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ia=$s(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ti(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class $t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ie(r))try{r()}catch(s){e=s instanceof Ia?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Zg(s)}catch(o){e=e??[],o instanceof Ia?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ia(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Zg(e);else{if(e instanceof $t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ti(n,e)}remove(e){const{_finalizers:n}=this;n&&Ti(n,e),e instanceof $t&&e._removeParent(this)}}$t.EMPTY=(()=>{const t=new $t;return t.closed=!0,t})();const Xg=$t.EMPTY;function Kg(t){return t instanceof $t||t&&"closed"in t&&ie(t.remove)&&ie(t.add)&&ie(t.unsubscribe)}function Zg(t){ie(t)?t():t.unsubscribe()}const Zr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ta={setTimeout(t,e,...n){const{delegate:r}=Ta;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ta;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Qg(t){Ta.setTimeout(()=>{const{onUnhandledError:e}=Zr;if(!e)throw t;e(t)})}function Aa(){}const kb=Qu("C",void 0,void 0);function Qu(t,e,n){return{kind:t,value:e,error:n}}let Qr=null;function Pa(t){if(Zr.useDeprecatedSynchronousErrorHandling){const e=!Qr;if(e&&(Qr={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Qr;if(Qr=null,n)throw r}}else t()}class Ju extends $t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Kg(e)&&e.add(this)):this.destination=Hb}static create(e,n,r){return new Ra(e,n,r)}next(e){this.isStopped?tc(function Ob(t){return Qu("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?tc(function Vb(t){return Qu("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?tc(kb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Lb=Function.prototype.bind;function ec(t,e){return Lb.call(t,e)}class jb{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Fa(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Fa(r)}else Fa(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Fa(n)}}}class Ra extends Ju{constructor(e,n,r){let i;if(super(),ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Zr.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ec(e.next,s),error:e.error&&ec(e.error,s),complete:e.complete&&ec(e.complete,s)}):i=e}this.destination=new jb(i)}}function Fa(t){Zr.useDeprecatedSynchronousErrorHandling?function Bb(t){Zr.useDeprecatedSynchronousErrorHandling&&Qr&&(Qr.errorThrown=!0,Qr.error=t)}(t):Qg(t)}function tc(t,e){const{onStoppedNotification:n}=Zr;n&&Ta.setTimeout(()=>n(t,e))}const Hb={closed:!0,next:Aa,error:function Ub(t){throw t},complete:Aa},nc="function"==typeof Symbol&&Symbol.observable||"@@observable";function Jr(t){return t}let Fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function zb(t){return t&&t instanceof Ju||function $b(t){return t&&ie(t.next)&&ie(t.error)&&ie(t.complete)}(t)&&Kg(t)}(n)?n:new Ra(n,r,i);return Pa(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ep(r))((i,s)=>{const o=new Ra({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[nc](){return this}pipe(...n){return function Jg(t){return 0===t.length?Jr:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=ep(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function ep(t){var e;return null!==(e=t??Zr.Promise)&&void 0!==e?e:Promise}const Gb=$s(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let zt=(()=>{class t extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new tp(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Gb}next(n){Pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?Xg:(this.currentObservers=null,s.push(n),new $t(()=>{this.currentObservers=null,Ti(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Fe;return n.source=this,n}}return t.create=(e,n)=>new tp(e,n),t})();class tp extends zt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Xg}}function np(t){return ie(t?.lift)}function it(t){return e=>{if(np(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(t,e,n,r,i){return new qb(t,e,n,r,i)}class qb extends Ju{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ae(t,e){return it((n,r)=>{let i=0;n.subscribe(st(r,s=>{r.next(t.call(e,s,i++))}))})}function ei(t){return this instanceof ei?(this.v=t,this):new ei(t)}function Xb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,p){s.push([h,f,g,p])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof ei?Promise.resolve(h.value.v).then(u,c):d(s[0][2],h)}(r[h](f))}catch(g){d(s[0][3],g)}}function u(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Kb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function sp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const ic=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function op(t){return ie(t?.then)}function ap(t){return ie(t[nc])}function lp(t){return Symbol.asyncIterator&&ie(t?.[Symbol.asyncIterator])}function up(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const cp=function Qb(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function dp(t){return ie(t?.[cp])}function hp(t){return Xb(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ei(n.read());if(i)return yield ei(void 0);yield yield ei(r)}}finally{n.releaseLock()}})}function fp(t){return ie(t?.getReader)}function _n(t){if(t instanceof Fe)return t;if(null!=t){if(ap(t))return function Jb(t){return new Fe(e=>{const n=t[nc]();if(ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(ic(t))return function eE(t){return new Fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(op(t))return function tE(t){return new Fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Qg)})}(t);if(lp(t))return gp(t);if(dp(t))return function nE(t){return new Fe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(fp(t))return function rE(t){return gp(hp(t))}(t)}throw up(t)}function gp(t){return new Fe(e=>{(function iE(t,e){var n,r,i,s;return function Wb(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(d){o(d)}}function l(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?s(c.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Kb(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function sr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function ot(t,e,n=1/0){return ie(e)?ot((r,i)=>ae((s,o)=>e(r,s,i,o))(_n(t(r,i))),n):("number"==typeof e&&(n=e),it((r,i)=>function sE(t,e,n,r,i,s,o,a){const l=[];let u=0,c=0,d=!1;const h=()=>{d&&!l.length&&!u&&e.complete()},f=p=>u<r?g(p):l.push(p),g=p=>{s&&e.next(p),u++;let m=!1;_n(n(p,c++)).subscribe(st(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;l.length&&u<r;){const _=l.shift();o?sr(e,o,()=>g(_)):g(_)}h()}catch(_){e.error(_)}}))};return t.subscribe(st(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function Ai(t=1/0){return ot(Jr,t)}const or=new Fe(t=>t.complete());function pp(t){return t&&ie(t.schedule)}function sc(t){return t[t.length-1]}function mp(t){return ie(sc(t))?t.pop():void 0}function zs(t){return pp(sc(t))?t.pop():void 0}function _p(t,e=0){return it((n,r)=>{n.subscribe(st(r,i=>sr(r,t,()=>r.next(i),e),()=>sr(r,t,()=>r.complete(),e),i=>sr(r,t,()=>r.error(i),e)))})}function yp(t,e=0){return it((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function vp(t,e){if(!t)throw new Error("Iterable cannot be null");return new Fe(n=>{sr(n,e,()=>{const r=t[Symbol.asyncIterator]();sr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Qe(t,e){return e?function fE(t,e){if(null!=t){if(ap(t))return function lE(t,e){return _n(t).pipe(yp(e),_p(e))}(t,e);if(ic(t))return function cE(t,e){return new Fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(op(t))return function uE(t,e){return _n(t).pipe(yp(e),_p(e))}(t,e);if(lp(t))return vp(t,e);if(dp(t))return function dE(t,e){return new Fe(n=>{let r;return sr(n,e,()=>{r=t[cp](),sr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}(t,e);if(fp(t))return function hE(t,e){return vp(hp(t),e)}(t,e)}throw up(t)}(t,e):_n(t)}function oc(...t){const e=zs(t),n=function aE(t,e){return"number"==typeof sc(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?_n(r[0]):Ai(n)(Qe(r,e)):or}function Gt(t){return t<=0?()=>or:it((e,n)=>{let r=0;e.subscribe(st(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ac(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Gt(1)).subscribe(()=>t())}function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function lc(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function we(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(we).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function uc(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const pE=Ce({__forward_ref__:Ce});function be(t){return t.__forward_ref__=be,t.toString=function(){return we(this())},t}function V(t){return cc(t)?t():t}function cc(t){return"function"==typeof t&&t.hasOwnProperty(pE)&&t.__forward_ref__===be}class W extends Error{constructor(e,n){super(function Na(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function $(t){return"string"==typeof t?t:null==t?"":String(t)}function ka(t,e){throw new W(-201,!1)}function Wt(t,e){null==t&&function he(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function Y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function sn(t){return{providers:t.providers||[],imports:t.imports||[]}}function dc(t){return Cp(t,Va)||Cp(t,Dp)}function Cp(t,e){return t.hasOwnProperty(e)?t[e]:null}function wp(t){return t&&(t.hasOwnProperty(hc)||t.hasOwnProperty(ME))?t[hc]:null}const Va=Ce({\u0275prov:Ce}),hc=Ce({\u0275inj:Ce}),Dp=Ce({ngInjectableDef:Ce}),ME=Ce({ngInjectorDef:Ce});var F=(()=>((F=F||{})[F.Default=0]="Default",F[F.Host=1]="Host",F[F.Self=2]="Self",F[F.SkipSelf=4]="SkipSelf",F[F.Optional=8]="Optional",F))();let fc;function Un(t){const e=fc;return fc=t,e}function Mp(t,e,n){const r=dc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&F.Optional?null:void 0!==e?e:void ka(we(t))}function Tr(t){return{toString:t}.toString()}var yn=(()=>((yn=yn||{})[yn.OnPush=0]="OnPush",yn[yn.Default=1]="Default",yn))(),Hn=(()=>{return(t=Hn||(Hn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Hn;var t})();const ve=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Pi={},ce=[],Oa=Ce({\u0275cmp:Ce}),gc=Ce({\u0275dir:Ce}),pc=Ce({\u0275pipe:Ce}),Sp=Ce({\u0275mod:Ce}),lr=Ce({\u0275fac:Ce}),Gs=Ce({__NG_ELEMENT_ID__:Ce});let bE=0;function $n(t){return Tr(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===yn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||ce,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Hn.Emulated,id:"c"+bE++,styles:t.styles||ce,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.dependencies,o=t.features;return i.inputs=xp(t.inputs,r),i.outputs=xp(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(bp).filter(Ep):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(bt).filter(Ep):null,i})}function bp(t){return De(t)||St(t)}function Ep(t){return null!==t}const xE={};function vn(t){return Tr(()=>{const e={type:t.type,bootstrap:t.bootstrap||ce,declarations:t.declarations||ce,imports:t.imports||ce,exports:t.exports||ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(xE[t.id]=t.type),e})}function xp(t,e){if(null==t)return Pi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const O=$n;function De(t){return t[Oa]||null}function St(t){return t[gc]||null}function bt(t){return t[pc]||null}function Yt(t,e){const n=t[Sp]||null;if(!n&&!0===e)throw new Error(`Type ${we(t)} does not have '\u0275mod' property.`);return n}const X=11;function Lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function wn(t){return Array.isArray(t)&&!0===t[1]}function yc(t){return 0!=(8&t.flags)}function Ua(t){return 2==(2&t.flags)}function Ha(t){return 1==(1&t.flags)}function Dn(t){return null!==t.template}function RE(t){return 0!=(256&t[2])}function si(t,e){return t.hasOwnProperty(lr)?t[lr]:null}class kE{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function jt(){return Ap}function Ap(t){return t.type.prototype.ngOnChanges&&(t.setInput=OE),VE}function VE(){const t=Rp(this),e=t?.current;if(e){const n=t.previous;if(n===Pi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function OE(t,e,n,r){const i=Rp(t)||function BE(t,e){return t[Pp]=e}(t,{previous:Pi,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new kE(l&&l.currentValue,e,o===Pi),t[r]=e}jt.ngInherit=!0;const Pp="__ngSimpleChanges__";function Rp(t){return t[Pp]||null}let Mc;function Ue(t){return!!t.listen}const Fp={createRenderer:(t,e)=>function Sc(){return void 0!==Mc?Mc:typeof document<"u"?document:void 0}()};function Je(t){for(;Array.isArray(t);)t=t[0];return t}function $a(t,e){return Je(e[t])}function ln(t,e){return Je(e[t.index])}function bc(t,e){return t.data[e]}function Kt(t,e){const n=e[t];return Lt(n)?n:n[0]}function Ec(t){return 64==(64&t[2])}function Ar(t,e){return null==e?null:t[e]}function kp(t){t[18]=0}function xc(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const U={lFrame:zp(null),bindingsEnabled:!0};function Op(){return U.bindingsEnabled}function w(){return U.lFrame.lView}function se(){return U.lFrame.tView}function Oi(t){return U.lFrame.contextLView=t,t[8]}function Bi(t){return U.lFrame.contextLView=null,t}function at(){let t=Bp();for(;null!==t&&64===t.type;)t=t.parent;return t}function Bp(){return U.lFrame.currentTNode}function zn(t,e){const n=U.lFrame;n.currentTNode=t,n.isParent=e}function Ic(){return U.lFrame.isParent}function Tc(){U.lFrame.isParent=!1}function Et(){const t=U.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Li(){return U.lFrame.bindingIndex++}function cr(t){const e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tx(t,e){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ac(e)}function Ac(t){U.lFrame.currentDirectiveIndex=t}function Rc(t){U.lFrame.currentQueryIndex=t}function rx(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function Hp(t,e,n){if(n&F.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&F.Host||(i=rx(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=U.lFrame=$p();return r.currentTNode=e,r.lView=t,!0}function Ga(t){const e=$p(),n=t[1];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $p(){const t=U.lFrame,e=null===t?null:t.child;return null===e?zp(t):e}function zp(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Gp(){const t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const qp=Gp;function qa(){const t=Gp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xt(){return U.lFrame.selectedIndex}function Pr(t){U.lFrame.selectedIndex=t}function He(){const t=U.lFrame;return bc(t.tView,t.selectedIndex)}function Wa(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Ya(t,e,n){Wp(t,e,3,n)}function Xa(t,e,n,r){(3&t[2])===n&&Wp(t,e,n,r)}function Fc(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Wp(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(hx(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function hx(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ks{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Ka(t,e,n){const r=Ue(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];kc(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Yp(t){return 3===t||4===t||6===t}function kc(t){return 64===t.charCodeAt(0)}function Za(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Xp(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Xp(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Kp(t){return-1!==t}function ji(t){return 32767&t}function Ui(t,e){let n=function _x(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Vc=!0;function Qa(t){const e=Vc;return Vc=t,e}let yx=0;const Gn={};function Qs(t,e){const n=Bc(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Oc(r.data,t),Oc(e,null),Oc(r.blueprint,null));const i=Ja(t,e),s=t.injectorIndex;if(Kp(i)){const o=ji(i),a=Ui(i,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function Oc(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Bc(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Ja(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=sm(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function el(t,e,n){!function vx(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Gs)&&(r=n[Gs]),null==r&&(r=n[Gs]=yx++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Jp(t,e,n){if(n&F.Optional)return t;ka()}function em(t,e,n,r){if(n&F.Optional&&void 0===r&&(r=null),0==(n&(F.Self|F.Host))){const i=t[9],s=Un(void 0);try{return i?i.get(e,r,n&F.Optional):Mp(e,r,n&F.Optional)}finally{Un(s)}}return Jp(r,0,n)}function tm(t,e,n,r=F.Default,i){if(null!==t){if(1024&e[2]){const o=function Sx(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=nm(s,o,n,r|F.Self,Gn);if(a!==Gn)return a;let l=s.parent;if(!l){const u=o[21];if(u){const c=u.get(n,Gn,r);if(c!==Gn)return c}l=sm(o),o=o[15]}s=l}return i}(t,e,n,r,Gn);if(o!==Gn)return o}const s=nm(t,e,n,r,Gn);if(s!==Gn)return s}return em(e,n,r,i)}function nm(t,e,n,r,i){const s=function Dx(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Gs)?t[Gs]:void 0;return"number"==typeof e?e>=0?255&e:Mx:e}(n);if("function"==typeof s){if(!Hp(e,t,r))return r&F.Host?Jp(i,0,r):em(e,n,r,i);try{const o=s(r);if(null!=o||r&F.Optional)return o;ka()}finally{qp()}}else if("number"==typeof s){let o=null,a=Bc(t,e),l=-1,u=r&F.Host?e[16][6]:null;for((-1===a||r&F.SkipSelf)&&(l=-1===a?Ja(t,e):e[a+8],-1!==l&&im(r,!1)?(o=e[1],a=ji(l),e=Ui(l,e)):a=-1);-1!==a;){const c=e[1];if(rm(s,a,c.data)){const d=wx(a,e,n,o,r,u);if(d!==Gn)return d}l=e[a+8],-1!==l&&im(r,e[1].data[a+8]===u)&&rm(s,a,e)?(o=c,a=ji(l),e=Ui(l,e)):a=-1}}return i}function wx(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function tl(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const g=o[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){const f=o[l];if(f&&Dn(f)&&f.type===n)return l}return null}(a,o,n,null==r?Ua(a)&&Vc:r!=o&&0!=(3&a.type),i&F.Host&&s===a);return null!==c?Js(e,o,c,a):Gn}function Js(t,e,n,r){let i=t[n];const s=e.data;if(function fx(t){return t instanceof Ks}(i)){const o=i;o.resolving&&function mE(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new W(-200,`Circular dependency in DI detected for ${t}${n}`)}(function ue(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():$(t)}(s[n]));const a=Qa(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Un(o.injectImpl):null;Hp(t,r,F.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function dx(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=Ap(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&Un(l),Qa(a),o.resolving=!1,qp()}}return i}function rm(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function im(t,e){return!(t&F.Self||t&F.Host&&e)}class Hi{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return tm(this._tNode,this._lView,e,r,n)}}function Mx(){return new Hi(at(),w())}function vt(t){return Tr(()=>{const e=t.prototype.constructor,n=e[lr]||Lc(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[lr]||Lc(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Lc(t){return cc(t)?()=>{const e=Lc(V(t));return e&&e()}:si(t)}function sm(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}function eo(t){return function Cx(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(Yp(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(at(),t)}const zi="__parameters__";function qi(t,e,n){return Tr(()=>{const r=function jc(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty(zi)?l[zi]:Object.defineProperty(l,zi,{value:[]})[zi];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class H{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ex=new H("AnalyzeForEntryComponents");function dr(t,e){t.forEach(n=>Array.isArray(n)?dr(n,e):e(n))}function am(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function nl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ro(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Qt(t,e,n){let r=Wi(t,e);return r>=0?t[1|r]=n:(r=~r,function Tx(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Hc(t,e){const n=Wi(t,e);if(n>=0)return t[1|n]}function Wi(t,e){return function cm(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const io={},zc="__NG_DI_FLAG__",il="ngTempTokenPath",Ox=/\n/gm,dm="__source";let so;function sl(t){const e=so;return so=t,e}function Lx(t,e=F.Default){if(void 0===so)throw new W(-203,"");return null===so?Mp(t,void 0,e):so.get(t,e&F.Optional?null:void 0,e)}function I(t,e=F.Default){return(function SE(){return fc}()||Lx)(V(t),e)}function Gc(t){const e=[];for(let n=0;n<t.length;n++){const r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new W(900,"");let i,s=F.Default;for(let o=0;o<r.length;o++){const a=r[o],l=Ux(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(I(i,s))}else e.push(I(r))}return e}function oo(t,e){return t[zc]=e,t.prototype[zc]=e,t}function Ux(t){return t[zc]}const ol=oo(qi("Inject",t=>({token:t})),-1),hr=oo(qi("Optional"),8),ao=oo(qi("SkipSelf"),4);class Mm{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Fr(t){return t instanceof Mm?t.changingThisBreaksApplicationSecurity:t}const cI=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,dI=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var et=(()=>((et=et||{})[et.NONE=0]="NONE",et[et.HTML=1]="HTML",et[et.STYLE=2]="STYLE",et[et.SCRIPT=3]="SCRIPT",et[et.URL=4]="URL",et[et.RESOURCE_URL=5]="RESOURCE_URL",et))();function fo(t){const e=function go(){const t=w();return t&&t[12]}();return e?e.sanitize(et.URL,t)||"":function co(t,e){const n=function oI(t){return t instanceof Mm&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?Fr(t):function dl(t){return(t=String(t)).match(cI)||t.match(dI)?t:"unsafe:"+t}($(t))}function Jc(t){return t.ngOriginalError}class Ki{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Jc(e);for(;n&&Jc(n);)n=Jc(n);return n||null}}const ed=new Map;let FI=0;const nd="__ngContext__";function Ct(t,e){Lt(e)?(t[nd]=e[20],function kI(t){ed.set(t[20],t)}(e)):t[nd]=e}function po(t){const e=t[nd];return"number"==typeof e?function Fm(t){return ed.get(t)||null}(e):e||null}function rd(t){const e=po(t);return e?Lt(e)?e:e.lView:null}const zI=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(ve))();function fr(t){return t instanceof Function?t():t}var Jt=(()=>((Jt=Jt||{})[Jt.Important=1]="Important",Jt[Jt.DashCase=2]="DashCase",Jt))();function sd(t,e){return undefined(t,e)}function mo(t){const e=t[3];return wn(e)?e[3]:e}function od(t){return Hm(t[13])}function ad(t){return Hm(t[4])}function Hm(t){for(;null!==t&&!wn(t);)t=t[4];return t}function Qi(t,e,n,r,i){if(null!=r){let s,o=!1;wn(r)?s=r:Lt(r)&&(o=!0,r=r[0]);const a=Je(r);0===t&&null!==n?null==i?Ym(e,n,a):oi(e,n,a,i||null,!0):1===t&&null!==n?oi(e,n,a,i||null,!0):2===t?function n_(t,e,n){const r=fl(t,e);r&&function sT(t,e,n,r){Ue(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function lT(t,e,n,r,i){const s=n[7];s!==Je(n)&&Qi(e,t,r,s,i);for(let a=10;a<n.length;a++){const l=n[a];_o(l[1],l,t,e,r,s)}}(e,t,s,n,i)}}function ud(t,e,n){if(Ue(t))return t.createElement(e,n);{const r=null!==n?function HE(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function zm(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,xc(i,-1)),n.splice(r,1)}function cd(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&zm(i,r),e>0&&(t[n-1][4]=r[4]);const s=nl(t,10+e);!function ZI(t,e){_o(t,e,e[X],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Gm(t,e){if(!(128&e[2])){const n=e[X];Ue(n)&&n.destroyNode&&_o(t,e,n,3,null,null),function eT(t){let e=t[13];if(!e)return dd(t[1],t);for(;e;){let n=null;if(Lt(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Lt(e)&&dd(e[1],e),e=e[3];null===e&&(e=t),Lt(e)&&dd(e[1],e),n=e&&e[4]}e=n}}(e)}}function dd(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function iT(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ks)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function rT(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Je(e[o]),l=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?a.removeEventListener(n[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Ue(e[X])&&e[X].destroy();const n=e[17];if(null!==n&&wn(e[3])){n!==e[3]&&zm(n,e);const r=e[19];null!==r&&r.detachView(t)}!function VI(t){ed.delete(t[20])}(e)}}function qm(t,e,n){return function Wm(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Hn.None||i===Hn.Emulated)return null}return ln(r,n)}(t,e.parent,n)}function oi(t,e,n,r,i){Ue(t)?t.insertBefore(e,n,r,i):(Km(e)?e.content:e).insertBefore(n,r,i)}function Ym(t,e,n){Ue(t)?t.appendChild(e,n):(Km(e)?e.content:e).appendChild(n)}function Xm(t,e,n,r,i){null!==r?oi(t,e,n,r,i):Ym(t,e,n)}function Km(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}function fl(t,e){return Ue(t)?t.parentNode(e):e.parentNode}function Zm(t,e,n){return Jm(t,e,n)}let Jm=function Qm(t,e,n){return 40&t.type?ln(t,n):null};function gl(t,e,n,r){const i=qm(t,r,e),s=e[X],a=Zm(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Xm(s,i,n[l],a,!1);else Xm(s,i,n,a,!1)}function pl(t,e){if(null!==e){const n=e.type;if(3&n)return ln(e,t);if(4&n)return fd(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return pl(t,r);{const i=t[e.index];return wn(i)?fd(-1,i):Je(i)}}if(32&n)return sd(e,t)()||Je(t[e.index]);{const r=t_(t,e);return null!==r?Array.isArray(r)?r[0]:pl(mo(t[16]),r):pl(t,e.next)}}return null}function t_(t,e){return null!==e?t[16][6].projection[e.projection]:null}function fd(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return pl(r,i)}return e[7]}function gd(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&Ct(Je(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)gd(t,e,n.child,r,i,s,!1),Qi(e,t,i,a,s);else if(32&l){const u=sd(n,r);let c;for(;c=u();)Qi(e,t,i,c,s);Qi(e,t,i,a,s)}else 16&l?r_(t,e,r,n,i,s):Qi(e,t,i,a,s);n=o?n.projectionNext:n.next}}function _o(t,e,n,r,i,s){gd(n,r,t.firstChild,e,i,s,!1)}function r_(t,e,n,r,i,s){const o=n[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Qi(e,t,i,l[u],s);else gd(t,e,l,o[3],i,s,!0)}function i_(t,e,n){Ue(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function pd(t,e,n){Ue(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function s_(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const o_="ng-template";function cT(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==s_(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function a_(t){return 4===t.type&&t.value!==o_}function dT(t,e,n){return e===(4!==t.type||n?t.value:o_)}function hT(t,e,n){let r=4;const i=t.attrs||[],s=function pT(t){for(let e=0;e<t.length;e++)if(Yp(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!dT(t,l,n)||""===l&&1===e.length){if(Mn(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!cT(t.attrs,u,n)){if(Mn(r))return!1;o=!0}continue}const d=fT(8&r?"class":l,i,a_(t),n);if(-1===d){if(Mn(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==s_(f,u,0)||2&r&&u!==h){if(Mn(r))return!1;o=!0}}}}else{if(!o&&!Mn(r)&&!Mn(l))return!1;if(o&&Mn(l))continue;o=!1,r=l|1&r}}return Mn(r)||o}function Mn(t){return 0==(1&t)}function fT(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function mT(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function l_(t,e,n=!1){for(let r=0;r<e.length;r++)if(hT(t,e[r],n))return!0;return!1}function _T(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function u_(t,e){return t?":not("+e.trim()+")":e}function yT(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Mn(o)&&(e+=u_(s,i),i=""),r=o,s=s||!Mn(r);n++}return""!==i&&(e+=u_(s,i)),e}const z={};function $e(t){c_(se(),w(),xt()+t,!1)}function c_(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Ya(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Xa(e,s,0,n)}Pr(n)}const g_=new H("ENVIRONMENT_INITIALIZER"),p_=new H("INJECTOR_DEF_TYPES");function ET(...t){return{\u0275providers:m_(0,t)}}function m_(t,...e){const n=[],r=new Set;let i;return dr(e,s=>{const o=s;md(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&__(i,n),n}function __(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];dr(i,s=>{e.push(s)})}}function md(t,e,n,r){if(!(t=V(t)))return!1;let i=null,s=wp(t);const o=!s&&De(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=wp(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)md(u,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{dr(s.imports,c=>{md(c,e,n,r)&&(u||(u=[]),u.push(c))})}finally{}void 0!==u&&__(u,e)}if(!a){const u=si(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:ce},{provide:p_,useValue:i,multi:!0},{provide:g_,useValue:()=>I(i),multi:!0})}const l=s.providers;null==l||a||dr(l,c=>{e.push(c)})}}return i!==t&&void 0!==t.providers}const xT=Ce({provide:String,useValue:Ce});function _d(t){return null!==t&&"object"==typeof t&&xT in t}function ai(t){return"function"==typeof t}const yd=new H("INJECTOR",-1);class C_{get(e,n=io){if(n===io){const r=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw r.name="NullInjectorError",r}return n}}const vd=new H("Set Injector scope."),ml={},TT={};let Cd;function wd(){return void 0===Cd&&(Cd=new C_),Cd}class li{}class w_ extends li{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Md(e,o=>this.processProvider(o)),this.records.set(yd,Ji(void 0,this)),i.has("environment")&&this.records.set(li,Ji(void 0,this));const s=this.records.get(vd);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(p_.multi,ce,F.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}get(e,n=io,r=F.Default){this.assertNotDestroyed();const i=sl(this),s=Un(void 0);try{if(!(r&F.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function NT(t){return"function"==typeof t||"object"==typeof t&&t instanceof H}(e)&&dc(e);a=l&&this.injectableDefInScope(l)?Ji(Dd(e),ml):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&F.Self?wd():this.parent).get(e,n=r&F.Optional&&n===io?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[il]=o[il]||[]).unshift(we(e)),i)throw o;return function Hx(t,e,n,r){const i=t[il];throw e[dm]&&i.unshift(e[dm]),t.message=function $x(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=we(e);if(Array.isArray(e))i=e.map(we).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):we(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ox,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[il]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{Un(s),sl(i)}}resolveInjectorInitializers(){const e=sl(this),n=Un(void 0);try{const r=this.get(g_.multi,ce,F.Self);for(const i of r)i()}finally{sl(e),Un(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(we(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){let n=ai(e=V(e))?e:V(e&&e.provide);const r=function PT(t){return _d(t)?Ji(void 0,t.useValue):Ji(D_(t),ml)}(e);if(ai(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ji(void 0,ml,!0),i.factory=()=>Gc(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===ml&&(n.value=TT,n.value=n.factory()),"object"==typeof n.value&&n.value&&function FT(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=V(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Dd(t){const e=dc(t),n=null!==e?e.factory:si(t);if(null!==n)return n;if(t instanceof H)throw new W(204,!1);if(t instanceof Function)return function AT(t){const e=t.length;if(e>0)throw ro(e,"?"),new W(204,!1);const n=function wE(t){const e=t&&(t[Va]||t[Dp]);if(e){const n=function DE(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new W(204,!1)}function D_(t,e,n){let r;if(ai(t)){const i=V(t);return si(i)||Dd(i)}if(_d(t))r=()=>V(t.useValue);else if(function v_(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Gc(t.deps||[]));else if(function y_(t){return!(!t||!t.useExisting)}(t))r=()=>I(V(t.useExisting));else{const i=V(t&&(t.useClass||t.provide));if(!function RT(t){return!!t.deps}(t))return si(i)||Dd(i);r=()=>new i(...Gc(t.deps))}return r}function Ji(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function kT(t){return!!t.\u0275providers}function Md(t,e){for(const n of t)Array.isArray(n)?Md(n,e):kT(n)?Md(n.\u0275providers,e):e(n)}function M_(t,e=null,n=null,r){const i=S_(t,e,n,r);return i.resolveInjectorInitializers(),i}function S_(t,e=null,n=null,r,i=new Set){const s=[n||ce,ET(t)];return r=r||("object"==typeof t?void 0:we(t)),new w_(s,e||wd(),r||null,i)}let Tt=(()=>{class t{static create(n,r){if(Array.isArray(n))return M_({name:""},r,n,"");{const i=n.name??"";return M_({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=io,t.NULL=new C_,t.\u0275prov=Y({token:t,providedIn:"any",factory:()=>I(yd)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=F.Default){const n=w();return null===n?I(t,e):tm(at(),n,V(t),e)}function Id(){throw new Error("invalid")}function yl(t,e){return t<<17|e<<2}function Sn(t){return t>>17&32767}function Rd(t){return 2|t}function gr(t){return(131068&t)>>2}function Fd(t,e){return-131069&t|e<<2}function Nd(t){return 1|t}function z_(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Rc(i),o.contentQueries(2,e[s],s)}}}function yo(t,e,n,r,i,s,o,a,l,u,c){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==c||t&&1024&t[2])&&(d[2]|=1024),kp(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[X]=a||t&&t[X],d[12]=l||t&&t[12]||null,d[9]=u||t&&t[9]||null,d[6]=s,d[20]=function NI(){return FI++}(),d[21]=c,d[16]=2==e.type?t[16]:d,d}function ts(t,e,n,r,i){let s=t.data[e];if(null===s)s=function $d(t,e,n,r,i){const s=Bp(),o=Ic(),l=t.data[e]=function fA(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,e,n,r,i),function ex(){return U.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Xs(){const t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return zn(s,!0),s}function ns(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function vo(t,e,n){Ga(e);try{const r=t.viewQuery;null!==r&&Qd(1,r,n);const i=t.template;null!==i&&G_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&z_(t,e),t.staticViewQueries&&Qd(2,t.viewQuery,n);const s=t.components;null!==s&&function cA(t,e){for(let n=0;n<e.length;n++)PA(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,qa()}}function rs(t,e,n,r){const i=e[2];if(128!=(128&i)){Ga(e);try{kp(e),function Lp(t){return U.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&G_(t,e,n,2,r);const o=3==(3&i);if(o){const u=t.preOrderCheckHooks;null!==u&&Ya(e,u,null)}else{const u=t.preOrderHooks;null!==u&&Xa(e,u,0,null),Fc(e,0)}if(function TA(t){for(let e=od(t);null!==e;e=ad(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&xc(s,1),i[2]|=512}}}(e),function IA(t){for(let e=od(t);null!==e;e=ad(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Ec(r)&&rs(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&z_(t,e),o){const u=t.contentCheckHooks;null!==u&&Ya(e,u)}else{const u=t.contentHooks;null!==u&&Xa(e,u,1),Fc(e,1)}!function lA(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Pr(~i);else{const s=i,o=n[++r],a=n[++r];tx(o,s),a(2,e[s])}}}finally{Pr(-1)}}(t,e);const a=t.components;null!==a&&function uA(t,e){for(let n=0;n<e.length;n++)AA(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Qd(2,l,r),o){const u=t.viewCheckHooks;null!==u&&Ya(e,u)}else{const u=t.viewHooks;null!==u&&Xa(e,u,2),Fc(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,xc(e[3],-1))}finally{qa()}}}function dA(t,e,n,r){const i=e[10],o=function Np(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&vo(t,e,r),rs(t,e,n,r)}finally{!o&&i.end&&i.end()}}function G_(t,e,n,r,i){const s=xt(),o=2&r;try{Pr(-1),o&&e.length>22&&c_(t,e,22,!1),n(r,i)}finally{Pr(s)}}function zd(t,e,n){!Op()||(function CA(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Qs(n,e),Ct(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=Dn(l);u&&bA(e,n,l);const c=Js(e,t,a,n);Ct(c,e),null!==o&&EA(0,a-i,c,l,0,o),u&&(Kt(n.index,e)[8]=c)}}(t,e,n,ln(n,e)),128==(128&n.flags)&&function wA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function nx(){return U.lFrame.currentDirectiveIndex}();try{Pr(s);for(let a=r;a<i;a++){const l=t.data[a],u=e[a];Ac(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&J_(l,u)}}finally{Pr(-1),Ac(o)}}(t,e,n))}function Gd(t,e,n=ln){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function W_(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=wl(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function wl(t,e,n,r,i,s,o,a,l,u){const c=22+r,d=c+i,h=function hA(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:z);return n}(c,d),f="function"==typeof u?u():u;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Z_(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function en(t,e,n,r,i,s,o,a){const l=ln(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(uy(t,n,c,r,i),Ua(e)&&function mA(t,e){const n=Kt(e,t);16&n[2]||(n[2]|=32)}(n,e.index)):3&e.type&&(r=function pA(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Ue(s)?s.setProperty(l,r,i):kc(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function qd(t,e,n,r){let i=!1;if(Op()){const s=function DA(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];l_(n,o.selectors,!1)&&(i||(i=[]),el(Qs(n,e),t,o.type),Dn(o)?(ey(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,ty(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=ns(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=Za(n.mergedAttrs,d.hostAttrs),ny(t,n,e,u,d),SA(u,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),u++}!function gA(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,l=null;for(let u=e.directiveStart;u<r;u++){const c=i[u],d=c.inputs,h=null===s||a_(e)?null:xA(d,s);o.push(h),a=Z_(d,u,a),l=Z_(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(t,n)}o&&function MA(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new W(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=Za(n.mergedAttrs,n.attrs),i}function Q_(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function vA(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function J_(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ey(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function SA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Dn(e)&&(n[""]=t)}}function ty(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ny(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=si(i.type)),o=new Ks(s,Dn(i),D);t.blueprint[r]=o,n[r]=o,Q_(t,e,0,r,ns(t,n,i.hostVars,z),i)}function bA(t,e,n){const r=ln(e,t),i=W_(n),s=t[10],o=Dl(t,yo(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}function EA(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(n,d,u,c):n[c]=d}}}function xA(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ry(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function AA(t,e){const n=Kt(e,t);if(Ec(n)){const r=n[1];48&n[2]?rs(r,n,r.template,n[8]):n[5]>0&&Yd(n)}}function Yd(t){for(let r=od(t);null!==r;r=ad(r))for(let i=10;i<r.length;i++){const s=r[i];if(512&s[2]){const o=s[1];rs(o,s,o.template,s[8])}else s[5]>0&&Yd(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Kt(n[r],t);Ec(i)&&i[5]>0&&Yd(i)}}function PA(t,e){const n=Kt(e,t),r=n[1];(function RA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),vo(r,n,n[8])}function Dl(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xd(t){for(;t;){t[2]|=32;const e=mo(t);if(RE(t)&&!e)return t;t=e}return null}function iy(t){!function Kd(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=rd(n);if(null!==r){const i=r[1];dA(i,r,i.template,n)}}}(t[8])}function Qd(t,e,n){Rc(0),e(t,n)}const NA=(()=>Promise.resolve(null))();function sy(t){return t[7]||(t[7]=[])}function oy(t){return t.cleanup||(t.cleanup=[])}function ly(t,e){const n=t[9],r=n?n.get(Ki,null):null;r&&r.handleError(e)}function uy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function pr(t,e,n){const r=$a(e,t);!function $m(t,e,n){Ue(t)?t.setValue(e,n):e.textContent=n}(t[X],r,n)}function Ml(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=uc(i,a):2==s&&(r=uc(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function GA(){const t=at();Wa(w()[1],t)}function pe(t){let e=function wy(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Dn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=eh(t.inputs),o.declaredInputs=eh(t.declaredInputs),o.outputs=eh(t.outputs);const a=i.hostBindings;a&&XA(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&WA(t,l),u&&YA(t,u),lc(t.inputs,i.inputs),lc(t.declaredInputs,i.declaredInputs),lc(t.outputs,i.outputs),Dn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===pe&&(n=!1)}}e=Object.getPrototypeOf(e)}!function qA(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Za(i.hostAttrs,n=Za(n,i.hostAttrs))}}(r)}function eh(t){return t===Pi?{}:t===ce?[]:t}function WA(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function YA(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function XA(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Sl=null;function ui(){if(!Sl){const t=ve.Symbol;if(t&&t.iterator)Sl=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Sl=r)}}}return Sl}function Co(t){return!!th(t)&&(Array.isArray(t)||!(t instanceof Map)&&ui()in t)}function th(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yn(t,e,n){return t[e]=n}function wt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ss(t,e,n,r){return wt(t,Li(),n)?e+$(n)+r:z}function cn(t,e,n,r,i,s,o,a){const l=w(),u=se(),c=t+22,d=u.firstCreatePass?function nP(t,e,n,r,i,s,o,a,l){const u=e.consts,c=ts(e,t,4,o||null,Ar(u,a));qd(e,n,c,Ar(u,l)),Wa(e,c);const d=c.tViews=wl(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,s,o):u.data[c];zn(d,!1);const h=l[X].createComment("");gl(u,l,h,d),Ct(h,l),Dl(l,l[c]=ry(h,l,h,d)),Ha(d)&&zd(u,l,d),null!=o&&Gd(l,d,a)}function ke(t,e,n){const r=w();return wt(r,Li(),e)&&en(se(),He(),r,t,e,r[X],n,!1),ke}function nh(t,e,n,r,i){const o=i?"class":"style";uy(t,n,e.inputs[o],o,r)}function fe(t,e,n,r){const i=w(),s=se(),o=22+t,a=i[X],l=i[o]=ud(a,e,function cx(){return U.lFrame.currentNamespace}()),u=s.firstCreatePass?function sP(t,e,n,r,i,s,o){const a=e.consts,u=ts(e,t,2,i,Ar(a,s));return qd(e,n,u,Ar(a,o)),null!==u.attrs&&Ml(u,u.attrs,!1),null!==u.mergedAttrs&&Ml(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];zn(u,!0);const c=u.mergedAttrs;null!==c&&Ka(a,l,c);const d=u.classes;null!==d&&pd(a,l,d);const h=u.styles;return null!==h&&i_(a,l,h),64!=(64&u.flags)&&gl(s,i,l,u),0===function YE(){return U.lFrame.elementDepthCount}()&&Ct(l,i),function XE(){U.lFrame.elementDepthCount++}(),Ha(u)&&(zd(s,i,u),function q_(t,e,n){if(yc(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,u,i)),null!==r&&Gd(i,u),fe}function Te(){let t=at();Ic()?Tc():(t=t.parent,zn(t,!1));const e=t;!function KE(){U.lFrame.elementDepthCount--}();const n=se();return n.firstCreatePass&&(Wa(n,t),yc(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function px(t){return 0!=(16&t.flags)}(e)&&nh(n,e,w(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function mx(t){return 0!=(32&t.flags)}(e)&&nh(n,e,w(),e.stylesWithoutHost,!1),Te}function ft(t,e,n,r){return fe(t,e,n,r),Te(),ft}function fs(){return w()}function Do(t){return!!t&&"function"==typeof t.then}const sh=function Ry(t){return!!t&&"function"==typeof t.subscribe};function Ve(t,e,n,r){const i=w(),s=se(),o=at();return function Ny(t,e,n,r,i,s,o,a){const l=Ha(r),c=t.firstCreatePass&&oy(t),d=e[8],h=sy(e);let f=!0;if(3&r.type||a){const m=ln(r,e),_=a?a(m):m,v=h.length,y=a?C=>a(Je(C[r.index])):r.index;if(Ue(n)){let C=null;if(!a&&l&&(C=function aP(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,f=!1;else{s=oh(r,e,d,s,!1);const x=n.listen(_,i,s);h.push(s,x),c&&c.push(i,y,v,v+1)}}else s=oh(r,e,d,s,!0),_.addEventListener(i,s,o),h.push(s),c&&c.push(i,y,v,o)}else s=oh(r,e,d,s,!1);const g=r.outputs;let p;if(f&&null!==g&&(p=g[i])){const m=p.length;if(m)for(let _=0;_<m;_+=2){const J=e[p[_]][p[_+1]].subscribe(s),dt=h.length;h.push(s,J),c&&c.push(i,r.index,dt,-(dt+1))}}}(s,i,i[X],o,t,e,!!n,r),Ve}function ky(t,e,n,r){try{return!1!==n(r)}catch(i){return ly(t,i),!1}}function oh(t,e,n,r,i){return function s(o){if(o===Function)return r;Xd(2&t.flags?Kt(t.index,e):e);let l=ky(e,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=ky(e,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function mr(t=1){return function ix(t){return(U.lFrame.contextLView=function sx(t,e){for(;t>0;)e=e[15],t--;return e}(t,U.lFrame.contextLView))[8]}(t)}function lP(t,e){let n=null;const r=function gT(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?l_(t,s,!0):_T(r,s))return i}else n=i}return n}function El(t,e,n,r,i){const s=w(),o=ss(s,e,n,r);return o!==z&&en(se(),He(),s,t,o,s[X],i,!1),El}function Wy(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Sn(s):gr(s),l=!1;for(;0!==a&&(!1===l||o);){const c=t[a+1];dP(t[a],e)&&(l=!0,t[a+1]=r?Nd(c):Rd(c)),a=r?Sn(c):gr(c)}l&&(t[n+1]=r?Rd(s):Nd(s))}function dP(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Wi(t,e)>=0}const ut={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yy(t){return t.substring(ut.key,ut.keyEnd)}function hP(t){return t.substring(ut.value,ut.valueEnd)}function Ky(t,e){const n=ut.textEnd;let r=ut.key=gs(t,e,n);return n===r?-1:(r=ut.keyEnd=function mP(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=Qy(t,r,n),r=ut.value=gs(t,r,n),r=ut.valueEnd=function _P(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const l=t.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=Jy(t,l,o,n):e===o-4&&85===s&&82===i&&76===r&&40===l?a=o=Jy(t,41,o,n):l>32&&(a=o),s=i,i=r,r=-33&l}return a}(t,r,n),Qy(t,r,n))}function gs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Qy(t,e,n,r){return(e=gs(t,e,n))<n&&e++,e}function Jy(t,e,n,r){let i=-1,s=n;for(;s<r;){const o=t.charCodeAt(s++);if(o==e&&92!==i)return s;i=92==o&&92===i?0:o}throw new Error}function xl(t,e){return function En(t,e,n,r){const i=w(),s=se(),o=cr(2);s.firstUpdatePass&&nv(s,t,o,r),e!==z&&wt(i,o,e)&&iv(s,s.data[xt()],i,i[X],t,i[o+1]=function EP(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=we(Fr(t)))),t}(e,n),r,o)}(t,e,null,!0),xl}function Kn(t){!function xn(t,e,n,r){const i=se(),s=cr(2);i.firstUpdatePass&&nv(i,null,s,r);const o=w();if(n!==z&&wt(o,s,n)){const a=i.data[xt()];if(ov(a,r)&&!tv(i,s)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(n=uc(l,n||"")),nh(i,a,o,n,r)}else!function bP(t,e,n,r,i,s,o,a){i===z&&(i=ce);let l=0,u=0,c=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==c||null!==d;){const h=l<i.length?i[l+1]:void 0,f=u<s.length?s[u+1]:void 0;let p,g=null;c===d?(l+=2,u+=2,h!==f&&(g=d,p=f)):null===d||null!==c&&c<d?(l+=2,g=c):(u+=2,g=d,p=f),null!==g&&iv(t,e,n,r,g,p,o,a),c=l<i.length?i[l]:null,d=u<s.length?s[u]:null}}(i,a,o,o[X],o[s+1],o[s+1]=function SP(t,e,n){if(null==n||""===n)return ce;const r=[],i=Fr(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(rv,yP,t,!1)}function yP(t,e){for(let n=function gP(t){return function Zy(t){ut.key=0,ut.keyEnd=0,ut.value=0,ut.valueEnd=0,ut.textEnd=t.length}(t),Ky(t,gs(t,0,ut.textEnd))}(e);n>=0;n=Ky(e,n))rv(t,Yy(e),hP(e))}function tv(t,e){return e>=t.expandoStartIndex}function nv(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[xt()],o=tv(t,n);ov(s,r)&&null===e&&!o&&(e=!1),e=function CP(t,e,n,r){const i=function Pc(t){const e=U.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Mo(n=ah(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ah(i,t,e,n,r),null===s){let l=function wP(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==gr(r))return t[Sn(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=ah(null,t,e,l[1],r),l=Mo(l,e.attrs,r),function DP(t,e,n,r){t[Sn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function MP(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Mo(r,t[s].hostAttrs,n);return Mo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function uP(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Sn(o),l=gr(o);t[r]=n;let c,u=!1;if(Array.isArray(n)){const d=n;c=d[1],(null===c||Wi(d,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const h=Sn(t[a+1]);t[r+1]=yl(h,a),0!==h&&(t[h+1]=Fd(t[h+1],r)),t[a+1]=function QT(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=yl(a,0),0!==a&&(t[a+1]=Fd(t[a+1],r)),a=r;else t[r+1]=yl(l,0),0===a?a=r:t[l+1]=Fd(t[l+1],r),l=r;u&&(t[r+1]=Rd(t[r+1])),Wy(t,c,r,!0),Wy(t,c,r,!1),function cP(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Wi(s,e)>=0&&(n[r+1]=Nd(n[r+1]))}(e,c,t,r,s),o=yl(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function ah(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Mo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Mo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Qt(t,o,!!n||e[++s]))}return void 0===t?null:t}function rv(t,e,n){Qt(t,e,Fr(n))}function iv(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,u=l[a+1];Il(function V_(t){return 1==(1&t)}(u)?sv(l,e,n,i,gr(u),o):void 0)||(Il(s)||function k_(t){return 2==(2&t)}(u)&&(s=sv(l,null,n,i,a,o)),function uT(t,e,n,r,i){const s=Ue(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:Jt.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=Jt.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,$a(xt(),n),i,s))}function sv(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=n[i+1];h===z&&(h=d?ce:void 0);let f=d?Hc(h,r):c===r?h:void 0;if(u&&!Il(f)&&(f=Hc(l,r)),Il(f)&&(a=f,o))return a;const g=t[i+1];i=o?Sn(g):gr(g)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Hc(l,r))}return a}function Il(t){return void 0!==t}function ov(t,e){return 0!=(t.flags&(e?16:32))}function In(t,e=""){const n=w(),r=se(),i=t+22,s=r.firstCreatePass?ts(r,i,1,e,null):r.data[i],o=n[i]=function ld(t,e){return Ue(t)?t.createText(e):t.createTextNode(e)}(n[X],e);gl(r,n,o,s),zn(s,!1)}function ps(t,e,n){const r=w(),i=ss(r,t,e,n);return i!==z&&pr(r,xt(),i),ps}const _s="en-US";let Av=_s;function ch(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(let s=0;s<t.length;s++)ch(t[s],e,n,r,i);else{const s=se(),o=w();let a=ai(t)?t:V(t.provide),l=D_(t);const u=at(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(ai(t)||!t.multi){const f=new Ks(l,i,D),g=hh(a,e,i?c:c+h,d);-1===g?(el(Qs(u,o),s,a),dh(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{const f=hh(a,e,c+h,d),g=hh(a,e,c,c+h),p=f>=0&&n[f],m=g>=0&&n[g];if(i&&!m||!i&&!p){el(Qs(u,o),s,a);const _=function $1(t,e,n,r,i){const s=new Ks(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,tC(s,i,r&&!n),s}(i?H1:U1,n.length,i,r,l);!i&&m&&(n[g].providerFactory=_),dh(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(_),o.push(_)}else dh(s,t,f>-1?f:g,tC(n[i?g:f],l,!i&&r));!i&&r&&m&&n[g].componentProviders++}}}function dh(t,e,n,r){const i=ai(e),s=function IT(t){return!!t.useClass}(e);if(i||s){const l=(s?V(e.useClass):e).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const c=u.indexOf(n);-1===c?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function tC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function hh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function U1(t,e,n,r){return fh(this.multi,[])}function H1(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Js(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),fh(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],fh(i,s);return s}function fh(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Oe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function j1(t,e,n){const r=se();if(r.firstCreatePass){const i=Dn(t);ch(n,r.data,r.blueprint,i,!0),ch(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class G1{resolveComponentFactory(e){throw function z1(t){const e=Error(`No component factory found for ${we(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Io=(()=>{class t{}return t.NULL=new G1,t})();class Vr{}class rC{}class iC{}function W1(){return vs(at(),w())}function vs(t,e){return new tn(ln(t,e))}let tn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=W1,t})();class sC{}let _r=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function K1(){const t=w(),n=Kt(at().index,t);return function X1(t){return t[X]}(Lt(n)?n:t)}(),t})(),Z1=(()=>{class t{}return t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>null}),t})();class To{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Q1=new To("14.0.2"),gh={};function Fl(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Je(s)),wn(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&Fl(l[1],l,u,r)}const o=n.type;if(8&o)Fl(t,e,n.child,r);else if(32&o){const a=sd(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=t_(e,n);if(Array.isArray(a))r.push(...a);else{const l=mo(e[16]);Fl(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ao{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Fl(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(wn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(cd(e,r),nl(n,r))}this._attachedToViewContainer=!1}Gm(this._lView[1],this._lView)}onDestroy(e){!function K_(t,e,n,r){const i=sy(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&oy(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Xd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Zd(t,e,n){const r=e[10];r.begin&&r.begin();try{rs(t,e,t.template,n)}catch(i){throw ly(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function JI(t,e){_o(t,e,e[X],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,"");this._appRef=e}}class J1 extends Ao{constructor(e){super(e),this._view=e}detectChanges(){iy(this._view)}checkNoChanges(){}get context(){return null}}class ph extends Io{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=De(e);return new mh(n,this.ngModule)}}function oC(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class tR{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){const i=this.injector.get(e,gh,r);return i!==gh||n===gh?i:this.parentInjector.get(e,n,r)}}class mh extends iC{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function vT(t){return t.map(yT).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return oC(this.componentDef.inputs)}get outputs(){return oC(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof li?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new tR(e,s):e,a=o.get(sC,Fp),l=o.get(Z1,null),u=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=r?function X_(t,e,n){if(Ue(t))return t.selectRootElement(e,n===Hn.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):ud(a.createRenderer(null,this.componentDef),c,function eR(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),h=this.componentDef.onPush?288:272,f=function Cy(t,e){return{components:[],scheduler:t||zI,clean:NA,playerHandler:e||null,flags:0}}(),g=wl(0,null,null,1,0,null,null,null,null,null),p=yo(null,g,f,h,null,null,a,u,l,o,null);let m,_;Ga(p);try{const v=function yy(t,e,n,r,i,s){const o=n[1];n[22]=t;const l=ts(o,22,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(Ml(l,u,!0),null!==t&&(Ka(i,t,u),null!==l.classes&&pd(i,t,l.classes),null!==l.styles&&i_(i,t,l.styles)));const c=r.createRenderer(t,e),d=yo(n,W_(e),null,e.onPush?32:16,n[22],l,r,c,s||null,null,null);return o.firstCreatePass&&(el(Qs(l,n),o,e.type),ey(o,l),ty(l,n.length,1)),Dl(n,d),n[22]=d}(d,this.componentDef,p,a,u);if(d)if(r)Ka(u,d,["ng-version",Q1.full]);else{const{attrs:y,classes:C}=function CT(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Mn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);y&&Ka(u,d,y),C&&C.length>0&&pd(u,d,C.join(" "))}if(_=bc(g,22),void 0!==n){const y=_.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const x=n[C];y.push(null!=x?Array.from(x):null)}}m=function vy(t,e,n,r,i){const s=n[1],o=function yA(t,e,n){const r=at();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ny(t,r,e,ns(t,e,1,null),n));const i=Js(e,t,r.directiveStart,r);Ct(i,e);const s=ln(r,e);return s&&Ct(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,null!==i)for(const l of i)l(o,e);if(e.contentQueries){const l=at();e.contentQueries(1,o,l.directiveStart)}const a=at();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Pr(a.index),Q_(n[1],a,0,a.directiveStart,a.directiveEnd,e),J_(e,o)),o}(v,this.componentDef,p,f,[GA]),vo(g,p,null)}finally{qa()}return new rR(this.componentType,m,vs(_,p),p,_)}}class rR extends class q1{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new J1(i),this.componentType=e}get injector(){return new Hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class aC extends Vr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ph(this);const r=Yt(e);this._bootstrapComponents=fr(r.bootstrap),this._r3Injector=S_(e,n,[{provide:Vr,useValue:this},{provide:Io,useValue:this.componentFactoryResolver}],we(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(e)}get(e,n=Tt.THROW_IF_NOT_FOUND,r=F.Default){return e===Tt||e===Vr||e===yd?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class _h extends rC{constructor(e){super(),this.moduleType=e}create(e){return new aC(this.moduleType,e)}}class sR extends Vr{constructor(e,n,r){super(),this.componentFactoryResolver=new ph(this),this.instance=null;const i=new w_([...e,{provide:Vr,useValue:this},{provide:Io,useValue:this.componentFactoryResolver}],n||wd(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Nl(t,e=null,n=null){return new sR(t,e,n).injector}function uC(t,e,n,r){return function cC(t,e,n,r,i,s){const o=e+n;return wt(t,o,i)?Yn(t,o+1,s?r.call(s,i):r(i)):function Po(t,e){const n=t[e];return n===z?void 0:n}(t,o+1)}(w(),Et(),t,e,n,r)}function yh(t){return e=>{setTimeout(t,void 0,e)}}const Be=class SR extends zt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=yh(s),i&&(i=yh(i)),o&&(o=yh(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof $t&&e.add(a),a}};let yr=(()=>{class t{}return t.__NG_ELEMENT_ID__=IR,t})();const ER=yr,xR=class extends ER{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=yo(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),vo(r,i,e),new Ao(i)}};function IR(){return function kl(t,e){return 4&t.type?new xR(e,t,vs(t,e)):null}(at(),w())}let Tn=(()=>{class t{}return t.__NG_ELEMENT_ID__=TR,t})();function TR(){return function _C(t,e){let n;const r=e[t.index];if(wn(r))n=r;else{let i;if(8&t.type)i=Je(r);else{const s=e[X];i=s.createComment("");const o=ln(t,e);oi(s,fl(s,o),i,function oT(t,e){return Ue(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=ry(r,e,i,t),Dl(e,n)}return new pC(n,t,e)}(at(),w())}const AR=Tn,pC=class extends AR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return vs(this._hostTNode,this._hostLView)}get injector(){return new Hi(this._hostTNode,this._hostLView)}get parentInjector(){const e=Ja(this._hostTNode,this._hostLView);if(Kp(e)){const n=Ui(e,this._hostLView),r=ji(e);return new Hi(n[1].data[r+8],n)}return new Hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=mC(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function no(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new mh(De(e)),u=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?u:this.parentInjector).get(li,null);h&&(s=h)}const c=l.create(u,i,void 0,s);return this.insert(c.hostView,a),c}insert(e,n){const r=e._lView,i=r[1];if(function WE(t){return wn(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new pC(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function tT(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],am(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function nT(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=fd(s,o),l=r[X],u=fl(l,o[7]);return null!==u&&function QI(t,e,n,r,i,s){r[0]=i,r[6]=e,_o(t,r,n,1,i,s)}(i,o[6],l,r,u,a),e.attachToViewContainerRef(),am(Ch(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=mC(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=cd(this._lContainer,n);r&&(nl(Ch(this._lContainer),n),Gm(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=cd(this._lContainer,n);return r&&null!=nl(Ch(this._lContainer),n)?new Ao(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mC(t){return t[8]}function Ch(t){return t[8]||(t[8]=[])}function Ol(...t){}const Bl=new H("Application Initializer");let Ll=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ol,this.reject=Ol,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Do(s))n.push(s);else if(sh(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(I(Bl,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const No=new H("AppId",{providedIn:"root",factory:function UC(){return`${Fh()}${Fh()}${Fh()}`}});function Fh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const HC=new H("Platform Initializer"),jl=new H("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$C=new H("appBootstrapListener");let oF=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const vr=new H("LocaleId",{providedIn:"root",factory:()=>function jx(t,e=F.Default){return I(t,e)}(vr,F.Optional|F.SkipSelf)||function aF(){return typeof $localize<"u"&&$localize.locale||_s}()});class uF{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Nh=(()=>{class t{compileModuleSync(n){return new _h(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=fr(Yt(n).declarations).reduce((o,a)=>{const l=De(a);return l&&o.push(new mh(l)),o},[]);return new uF(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const dF=(()=>Promise.resolve(0))();function kh(t){typeof Zone>"u"?dF.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function hF(){let t=ve.requestAnimationFrame,e=ve.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function pF(t){const e=()=>{!function gF(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Oh(t),t.isCheckStableRunning=!0,Vh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Oh(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return zC(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),GC(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return zC(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),GC(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Oh(t),Vh(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qe.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qe.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,fF,Ol,Ol);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const fF={};function Vh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Oh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function zC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function GC(t){t._nesting--,Vh(t)}class mF{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const qC=new H(""),Ul=new H("");let jh,Bh=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jh||(function _F(t){jh=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qe.assertNotInAngularZone(),kh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kh(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(I(qe),I(Lh),I(Ul))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),Lh=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return jh?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Or=null;const WC=new H("AllowMultipleToken"),YC=new H("PlatformOnDestroy");class XC{constructor(e,n){this.name=e,this.token=n}}function ZC(t,e,n=[]){const r=`Platform: ${e}`,i=new H(r);return(s=[])=>{let o=Uh();if(!o||o.injector.get(WC,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function CF(t){if(Or&&!Or.get(WC,!1))throw new W(400,"");Or=t;const e=t.get(JC);(function KC(t){const e=t.get(HC,null);e&&e.forEach(n=>n())})(t)}(function QC(t=[],e){return Tt.create({name:e,providers:[{provide:vd,useValue:"platform"},{provide:YC,useValue:()=>Or=null},...t]})}(a,r))}return function DF(t){const e=Uh();if(!e)throw new W(401,"");return e}()}}function Uh(){return Or?.get(JC)??null}let JC=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function MF(t,e){let n;return n="noop"===t?new mF:("zone.js"===t?void 0:t)||new qe(e),n}(r?.ngZone,function e0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:qe,useValue:i}];return i.run(()=>{const o=Tt.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(Ki,null);if(!l)throw new W(402,"");return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:c=>{l.handleError(c)}});a.onDestroy(()=>{Hl(this._modules,a),u.unsubscribe()})}),function t0(t,e,n){try{const r=n();return Do(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,i,()=>{const u=a.injector.get(Ll);return u.runInitializers(),u.donePromise.then(()=>(function Pv(t){Wt(t,"Expected localeId to be defined"),"string"==typeof t&&(Av=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(vr,_s)||_s),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=n0({},r);return function yF(t,e,n){const r=new _h(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(ko);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new W(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r()),this._injector.get(YC,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(I(Tt))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function n0(t,e){return Array.isArray(e)?e.reduce(n0,t):{...t,...e}}let ko=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Fe(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Fe(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{qe.assertNotInAngularZone(),kh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{qe.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=oc(o,a.pipe(function gE(t={}){const{connector:e=(()=>new zt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,l=null,u=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=null},f=()=>{h(),o=l=null,c=d=!1},g=()=>{const p=o;f(),p?.unsubscribe()};return it((p,m)=>{u++,!d&&!c&&h();const _=l=l??e();m.add(()=>{u--,0===u&&!d&&!c&&(a=ac(g,i))}),_.subscribe(m),o||(o=new Ra({next:v=>_.next(v),error:v=>{d=!0,h(),a=ac(f,n,v),_.error(v)},complete:()=>{c=!0,h(),a=ac(f,r),_.complete()}}),Qe(p).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof iC;if(!this._initStatus.done)throw!i&&function ws(t){const e=De(t)||St(t)||bt(t);return null!==e&&e.standalone}(n),new W(405,false);let s;s=i?n:this._injector.get(Io).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const o=function vF(t){return t.isBoundToModule}(s)?void 0:this._injector.get(Vr),l=s.create(Tt.NULL,[],r||s.selector,o),u=l.location.nativeElement,c=l.injector.get(qC,null);return c?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Hl(this.components,l),c?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new W(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Hl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get($C,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new W(406,false);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(I(qe),I(Tt),I(Ki),I(Ll))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Hl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let s0=!0,$l=(()=>{class t{}return t.__NG_ELEMENT_ID__=EF,t})();function EF(t){return function xF(t,e,n){if(Ua(t)&&!n){const r=Kt(t.index,e);return new Ao(r,r)}return 47&t.type?new Ao(e[16],e):null}(at(),w(),16==(16&t))}class c0{constructor(){}supports(e){return Co(e)}create(e){return new FF(e)}}const RF=(t,e)=>e;class FF{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||RF}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<h0(r,i,s)?n:r,a=h0(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,g=f+h;c<=g&&g<u&&(s[h]=f+1)}s[o.previousIndex]=c-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Co(e))throw new W(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function eP(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ui()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new NF(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new d0),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new d0),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class NF{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kF{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class d0{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new kF,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function h0(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class f0{constructor(){}supports(e){return e instanceof Map||th(e)}create(){return new VF}}class VF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||th(e)))throw new W(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new OF(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class OF{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function g0(){return new ql([new c0])}let ql=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||g0()),deps:[[t,new ao,new hr]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new W(901,"")}}return t.\u0275prov=Y({token:t,providedIn:"root",factory:g0}),t})();function p0(){return new Vo([new f0])}let Vo=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||p0()),deps:[[t,new ao,new hr]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new W(901,"")}}return t.\u0275prov=Y({token:t,providedIn:"root",factory:p0}),t})();const jF=ZC(null,"core",[]);let UF=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(I(ko))},t.\u0275mod=vn({type:t}),t.\u0275inj=sn({}),t})();function Cr(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let Wl=null;function Jn(){return Wl}const Ut=new H("DocumentToken");let Oo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:function(){return function GF(){return I(m0)}()},providedIn:"platform"}),t})();const qF=new H("Location Initialized");let m0=(()=>{class t extends Oo{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jn().getBaseHref(this._doc)}onPopState(n){const r=Jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Jn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){_0()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){_0()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(I(Ut))},t.\u0275prov=Y({token:t,factory:function(){return function WF(){return new m0(I(Ut))}()},providedIn:"platform"}),t})();function _0(){return!!window.history.pushState}function qh(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function y0(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function wr(t){return t&&"?"!==t[0]?"?"+t:t}let Ms=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:function(){return function YF(){const t=I(Ut).location;return new v0(I(Oo),t&&t.origin||"")}()},providedIn:"root"}),t})();const Wh=new H("appBaseHref");let v0=(()=>{class t extends Ms{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qh(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+wr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+wr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+wr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Oo),I(Wh,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),XF=(()=>{class t extends Ms{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=qh(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+wr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+wr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Oo),I(Wh,8))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),Yh=(()=>{class t{constructor(n){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._baseHref=y0(C0(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+wr(r))}normalize(n){return t.stripTrailingSlash(function ZF(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C0(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=wr,t.joinWithSlash=qh,t.stripTrailingSlash=y0,t.\u0275fac=function(n){return new(n||t)(I(Ms))},t.\u0275prov=Y({token:t,factory:function(){return function KF(){return new Yh(I(Ms))}()},providedIn:"root"}),t})();function C0(t){return t.replace(/\/index.html$/,"")}let T0=(()=>{class t{constructor(n,r,i,s){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(Co(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${we(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return t.\u0275fac=function(n){return new(n||t)(D(ql),D(Vo),D(tn),D(_r))},t.\u0275dir=O({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class VN{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let P0=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new VN(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),R0(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{R0(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(Tn),D(yr),D(ql))},t.\u0275dir=O({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function R0(t,e){t.context.$implicit=e.item}let jo=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new ON,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){F0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){F0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(Tn),D(yr))},t.\u0275dir=O({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ON{constructor(){this.$implicit=null,this.ngIf=null}}function F0(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${we(e)}'.`)}let ck=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vn({type:t}),t.\u0275inj=sn({}),t})();const V0="browser";function O0(t){return t===V0}let gk=(()=>{class t{}return t.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new pk(I(Ut),window)}),t})();class pk{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function mk(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=B0(this.window.history)||B0(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function B0(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class uf extends class yk extends class zF{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function $F(t){Wl||(Wl=t)}(new uf)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function vk(){return Uo=Uo||document.querySelector("base"),Uo?Uo.getAttribute("href"):null}();return null==n?null:function Ck(t){ru=ru||document.createElement("a"),ru.setAttribute("href",t);const e=ru.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function NN(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let ru,Uo=null;const L0=new H("TRANSITION_ID"),Dk=[{provide:Bl,useFactory:function wk(t,e,n){return()=>{n.get(Ll).donePromise.then(()=>{const r=Jn(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[L0,Ut,Tt],multi:!0}];let Sk=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const iu=new H("EventManagerPlugins");let su=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(I(iu),I(qe))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class j0{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Jn().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let U0=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),Ho=(()=>{class t extends U0{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(H0),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(H0))}}return t.\u0275fac=function(n){return new(n||t)(I(Ut))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function H0(t){Jn().remove(t)}const cf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},df=/%COMP%/g;function ou(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ou(t,i,n):(i=i.replace(df,t),n.push(i))}return n}function G0(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let hf=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ff(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Hn.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Ak(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Hn.ShadowDom:return new Pk(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=ou(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(I(su),I(Ho),I(No))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class ff{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(cf[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(W0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(W0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=cf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=cf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Jt.DashCase|Jt.Important)?e.style.setProperty(n,r,i&Jt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Jt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,G0(r)):this.eventManager.addEventListener(e,n,G0(r))}}function W0(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Ak extends ff{constructor(e,n,r,i){super(e),this.component=r;const s=ou(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function xk(t){return"_ngcontent-%COMP%".replace(df,t)}(i+"-"+r.id),this.hostAttr=function Ik(t){return"_nghost-%COMP%".replace(df,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class Pk extends ff{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ou(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Rk=(()=>{class t extends j0{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(I(Ut))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const Y0=["alt","control","meta","shift"],Nk={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},X0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kk={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Vk=(()=>{class t extends j0{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jn().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Y0.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function Ok(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&X0.hasOwnProperty(e)&&(e=X0[e]))}return Nk[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Y0.forEach(s=>{s!=i&&kk[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(I(Ut))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const K0=[{provide:jl,useValue:V0},{provide:HC,useValue:function Bk(){uf.makeCurrent()},multi:!0},{provide:Ut,useFactory:function jk(){return function $E(t){Mc=t}(document),document},deps:[]}],Uk=ZC(jF,"browser",K0),Z0=new H(""),Q0=[{provide:Ul,useClass:class Mk{addToWindow(e){ve.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),ve.getAllAngularRootElements=()=>e.getAllRootElements(),ve.frameworkStabilizers||(ve.frameworkStabilizers=[]),ve.frameworkStabilizers.push(r=>{const i=ve.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Jn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:qC,useClass:Bh,deps:[qe,Lh,Ul]},{provide:Bh,useClass:Bh,deps:[qe,Lh,Ul]}],J0=[{provide:vd,useValue:"root"},{provide:Ki,useFactory:function Lk(){return new Ki},deps:[]},{provide:iu,useClass:Rk,multi:!0,deps:[Ut,qe,jl]},{provide:iu,useClass:Vk,multi:!0,deps:[Ut]},{provide:hf,useClass:hf,deps:[su,Ho,No]},{provide:sC,useExisting:hf},{provide:U0,useExisting:Ho},{provide:Ho,useClass:Ho,deps:[Ut]},{provide:su,useClass:su,deps:[iu,qe]},{provide:class _k{},useClass:Sk,deps:[]},[]];let Hk=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:No,useValue:n.appId},{provide:L0,useExisting:No},Dk]}}}return t.\u0275fac=function(n){return new(n||t)(I(Z0,12))},t.\u0275mod=vn({type:t}),t.\u0275inj=sn({providers:[...J0,...Q0],imports:[ck,UF]}),t})(),ew=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(I(Ut))},t.\u0275prov=Y({token:t,factory:function(n){let r=null;return r=n?new n:function zk(){return new ew(I(Ut))}(),r},providedIn:"root"}),t})();function L(...t){return Qe(t,zs(t))}typeof window<"u"&&window;class Rn extends zt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:Jk}=Array,{getPrototypeOf:eV,prototype:tV,keys:nV}=Object;function rw(t){if(1===t.length){const e=t[0];if(Jk(e))return{args:e,keys:null};if(function rV(t){return t&&"object"==typeof t&&eV(t)===tV}(e)){const n=nV(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:iV}=Array;function mf(t){return ae(e=>function sV(t,e){return iV(e)?t(...e):t(e)}(t,e))}function iw(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function sw(...t){const e=zs(t),n=mp(t),{args:r,keys:i}=rw(t);if(0===r.length)return Qe([],e);const s=new Fe(function oV(t,e,n=Jr){return r=>{ow(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)ow(e,()=>{const u=Qe(t[l],e);let c=!1;u.subscribe(st(r,d=>{s[l]=d,c||(c=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>iw(i,o):Jr));return n?s.pipe(mf(n)):s}function ow(t,e,n){t?sr(n,t,e):e()}function Ss(t,e){const n=ie(t)?t:()=>t,r=i=>i.error(n());return new Fe(e?i=>e.schedule(r,0,i):r)}const $o=$s(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function zo(...t){return function aV(){return Ai(1)}()(Qe(t,zs(t)))}function au(t){return new Fe(e=>{_n(t()).subscribe(e)})}function _f(){return it((t,e)=>{let n=null;t._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class yf extends Fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,np(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new $t;const n=this.getSubject();e.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=$t.EMPTY)}return e}refCount(){return _f()(this)}}function Fn(t,e){return it((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(st(r,l=>{i?.unsubscribe();let u=0;const c=s++;_n(t(l,c)).subscribe(i=st(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function uV(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(st(o,c=>{const d=u++;l=a?t(l,c,d):(a=!0,c),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function aw(t,e){return it(uV(t,e,arguments.length>=2,!0))}function fn(t,e){return it((n,r)=>{let i=0;n.subscribe(st(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Lr(t){return it((e,n)=>{let s,r=null,i=!1;r=e.subscribe(st(n,void 0,void 0,o=>{s=_n(t(o,Lr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Go(t,e){return ie(e)?ot(t,e,1):ot(t,1)}function vf(t){return t<=0?()=>or:it((e,n)=>{let r=[];e.subscribe(st(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function lw(t=cV){return it((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cV(){return new $o}function Cf(t){return it((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function fi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fn((i,s)=>t(i,s,r)):Jr,Gt(1),n?Cf(e):lw(()=>new $o))}function pt(t,e,n){const r=ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?it((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(st(s,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),s.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Jr}function uw(t){return ae(()=>t)}function wf(t){return it((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}class Mr{constructor(e,n){this.id=e,this.url=n}}class Df extends Mr{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qo extends Mr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cw extends Mr{constructor(e,n,r){super(e,n),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hV extends Mr{constructor(e,n,r){super(e,n),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fV extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gV extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pV extends Mr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mV extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _V extends Mr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yV{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vV{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class CV{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wV{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DV{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MV{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dw{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ee="primary";class SV{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function bs(t){return new SV(t)}const hw="ngNavigationCancelingError";function Mf(t){const e=Error("NavigationCancelingError: "+t);return e[hw]=!0,e}function EV(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function er(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!fw(t[i],e[i]))return!1;return!0}function fw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function gw(t){return Array.prototype.concat.apply([],t)}function pw(t){return t.length>0?t[t.length-1]:null}function mt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Nn(t){return sh(t)?t:Do(t)?Qe(Promise.resolve(t)):L(t)}const TV={exact:function yw(t,e,n){if(!pi(t.segments,e.segments)||!lu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!yw(t.children[r],e.children[r],n))return!1;return!0},subset:vw},mw={exact:function AV(t,e){return er(t,e)},subset:function PV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fw(t[n],e[n]))},ignored:()=>!0};function _w(t,e,n){return TV[n.paths](t.root,e.root,n.matrixParams)&&mw[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function vw(t,e,n){return Cw(t,e,e.segments,n)}function Cw(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!pi(i,n)||e.hasChildren()||!lu(i,n,r))}if(t.segments.length===n.length){if(!pi(t.segments,n)||!lu(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!vw(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(pi(t.segments,i)&&lu(t.segments,i,r)&&t.children[ee])&&Cw(t.children[ee],e,s,r)}}function lu(t,e,n){return e.every((r,i)=>mw[n](t[i].parameters,r.parameters))}class gi{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bs(this.queryParams)),this._queryParamMap}toString(){return NV.serialize(this)}}class ne{constructor(e,n){this.segments=e,this.children=n,this.parent=null,mt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uu(this)}}class Wo{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=bs(this.parameters)),this._parameterMap}toString(){return bw(this)}}function pi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class ww{}class Dw{parse(e){const n=new $V(e);return new gi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Yo(e.root,!0)}`,r=function OV(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${cu(n)}=${cu(i)}`).join("&"):`${cu(n)}=${cu(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function kV(t){return encodeURI(t)}(e.fragment)}`:""}`}}const NV=new Dw;function uu(t){return t.segments.map(e=>bw(e)).join("/")}function Yo(t,e){if(!t.hasChildren())return uu(t);if(e){const n=t.children[ee]?Yo(t.children[ee],!1):"",r=[];return mt(t.children,(i,s)=>{s!==ee&&r.push(`${s}:${Yo(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function FV(t,e){let n=[];return mt(t.children,(r,i)=>{i===ee&&(n=n.concat(e(r,i)))}),mt(t.children,(r,i)=>{i!==ee&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ee?[Yo(t.children[ee],!1)]:[`${i}:${Yo(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ee]?`${uu(t)}/${n[0]}`:`${uu(t)}/(${n.join("//")})`}}function Mw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cu(t){return Mw(t).replace(/%3B/gi,";")}function Sf(t){return Mw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function du(t){return decodeURIComponent(t)}function Sw(t){return du(t.replace(/\+/g,"%20"))}function bw(t){return`${Sf(t.path)}${function VV(t){return Object.keys(t).map(e=>`;${Sf(e)}=${Sf(t[e])}`).join("")}(t.parameters)}`}const BV=/^[^\/()?;=#]+/;function hu(t){const e=t.match(BV);return e?e[0]:""}const LV=/^[^=?&#]+/,UV=/^[^&#]+/;class $V{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ne([],{}):new ne([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new ne(e,n)),r}parseSegment(){const e=hu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Wo(du(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=hu(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=hu(this.remaining);i&&(r=i,this.capture(r))}e[du(n)]=du(r)}parseQueryParam(e){const n=function jV(t){const e=t.match(LV);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function HV(t){const e=t.match(UV);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=Sw(n),s=Sw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ee);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ee]:new ne([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ew{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=bf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=bf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ef(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ef(e,this._root).map(n=>n.value)}}function bf(t,e){if(t===e.value)return e;for(const n of e.children){const r=bf(t,n);if(r)return r}return null}function Ef(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ef(t,n);if(r.length)return r.unshift(e),r}return[]}class Sr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Es(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class xw extends Ew{constructor(e,n){super(e),this.snapshot=n,xf(this,e)}toString(){return this.snapshot.toString()}}function Iw(t,e){const n=function zV(t,e){const o=new fu([],{},{},"",{},ee,e,null,t.root,-1,{});return new Aw("",new Sr(o,[]))}(t,e),r=new Rn([new Wo("",{})]),i=new Rn({}),s=new Rn({}),o=new Rn({}),a=new Rn(""),l=new mi(r,i,o,a,s,ee,e,n.root);return l.snapshot=n.root,new xw(new Sr(l,[]),n)}class mi{constructor(e,n,r,i,s,o,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ae(e=>bs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ae(e=>bs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tw(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function GV(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class fu{constructor(e,n,r,i,s,o,a,l,u,c,d,h){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._correctedLastPathIndex=h??c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=bs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=bs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Aw extends Ew{constructor(e,n){super(n),this.url=e,xf(this,n)}toString(){return Pw(this._root)}}function xf(t,e){e.value._routerState=t,e.children.forEach(n=>xf(t,n))}function Pw(t){const e=t.children.length>0?` { ${t.children.map(Pw).join(", ")} } `:"";return`${t.value}${e}`}function If(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,er(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),er(e.params,n.params)||t.params.next(n.params),function xV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!er(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),er(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Tf(t,e){const n=er(t.params,e.params)&&function RV(t,e){return pi(t,e)&&t.every((n,r)=>er(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Tf(t.parent,e.parent))}function Xo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function WV(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xo(t,r,i);return Xo(t,r)})}(t,e,n);return new Sr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Xo(t,a)),o}}const r=function YV(t){return new mi(new Rn(t.url),new Rn(t.params),new Rn(t.queryParams),new Rn(t.fragment),new Rn(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Xo(t,s));return new Sr(r,i)}}function gu(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ko(t){return"object"==typeof t&&null!=t&&t.outlets}function Af(t,e,n,r,i){let s={};if(r&&mt(r,(a,l)=>{s[l]=Array.isArray(a)?a.map(u=>`${u}`):`${a}`}),t===e)return new gi(n,s,i);const o=Rw(t,e,n);return new gi(o,s,i)}function Rw(t,e,n){const r={};return mt(t.children,(i,s)=>{r[s]=i===e?n:Rw(i,e,n)}),new ne(t.segments,r)}class Fw{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&gu(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ko);if(i&&i!==pw(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pf{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Nw(t,e,n){if(t||(t=new ne([],{})),0===t.segments.length&&t.hasChildren())return pu(t,e,n);const r=function eO(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ko(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!Vw(l,u,o))return s;r+=2}else{if(!Vw(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ne(t.segments.slice(0,r.pathIndex),{});return s.children[ee]=new ne(t.segments.slice(r.pathIndex),t.children),pu(s,0,i)}return r.match&&0===i.length?new ne(t.segments,{}):r.match&&!t.hasChildren()?Rf(t,e,n):r.match?pu(t,0,i):Rf(t,e,n)}function pu(t,e,n){if(0===n.length)return new ne(t.segments,{});{const r=function JV(t){return Ko(t[0])?t[0].outlets:{[ee]:t}}(n),i={};return mt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Nw(t.children[o],e,s))}),mt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ne(t.segments,i)}}function Rf(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ko(s)){const l=tO(s.outlets);return new ne(r,l)}if(0===i&&gu(n[0])){r.push(new Wo(t.segments[e].path,kw(n[0]))),i++;continue}const o=Ko(s)?s.outlets[ee]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&gu(a)?(r.push(new Wo(o,kw(a))),i+=2):(r.push(new Wo(o,{})),i++)}return new ne(r,{})}function tO(t){const e={};return mt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Rf(new ne([],{}),0,n))}),e}function kw(t){const e={};return mt(t,(n,r)=>e[r]=`${n}`),e}function Vw(t,e,n){return t==n.path&&er(e,n.parameters)}class nO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Zo,this.attachRef=null}}class Zo{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new nO,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let Ff=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.name=i||ee,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const i=this.location,o=n._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new rO(n,a,i.injector);if(r&&function iO(t){return!!t.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(D(Zo),D(Tn),eo("name"),D($l),D(li))},t.\u0275dir=O({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class rO{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===mi?this.route:e===Zo?this.childContexts:this.parent.get(e,n)}}let Ow=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=$n({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&ft(0,"router-outlet")},dependencies:[Ff],encapsulation:2}),t})();function Bw(t,e){return t.providers&&!t._injector&&(t._injector=Nl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function kf(t){const e=t.children&&t.children.map(kf),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=Ow),n}function gn(t){return t.outlet||ee}function Lw(t,e){const n=t.filter(r=>gn(r)===e);return n.push(...t.filter(r=>gn(r)!==e)),n}function jw(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class uO{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),If(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Es(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),mt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Es(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Es(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Es(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new MV(s.value.snapshot))}),e.children.length&&this.forwardEvent(new wV(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(If(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),If(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=jw(i.snapshot),l=a?.get(Io)??null;o.attachRef=null,o.route=i,o.resolver=l,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function jr(t){return"function"==typeof t}function _i(t){return t instanceof gi}const Qo=Symbol("INITIAL_VALUE");function Jo(){return Fn(t=>sw(t.map(e=>e.pipe(Gt(1),function lV(...t){const e=zs(t);return it((n,r)=>{(e?zo(t,n,e):zo(t,n)).subscribe(r)})}(Qo)))).pipe(aw((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==Qo?i:(s===Qo&&(r=!0),r||!1!==s&&o!==n.length-1&&!_i(s)?i:s),e)},Qo),fn(e=>e!==Qo),ae(e=>_i(e)?e:!0===e),Gt(1)))}const Uw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mu(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Uw}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||EV)(n,t,e);if(!i)return{...Uw};const s={};mt(i.posParams,(a,l)=>{s[l]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function _u(t,e,n,r,i="corrected"){if(n.length>0&&function _O(t,e,n){return n.some(r=>yu(t,e,r)&&gn(r)!==ee)}(t,n,r)){const o=new ne(e,function mO(t,e,n,r){const i={};i[ee]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&gn(s)!==ee){const o=new ne([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[gn(s)]=o}return i}(t,e,r,new ne(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function yO(t,e,n){return n.some(r=>yu(t,e,r))}(t,n,r)){const o=new ne(t.segments,function pO(t,e,n,r,i,s){const o={};for(const a of r)if(yu(t,n,a)&&!i[gn(a)]){const l=new ne([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[gn(a)]=l}return{...i,...o}}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ne(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function yu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Hw(t,e,n,r){return!!(gn(t)===r||r!==ee&&yu(e,n,t))&&("**"===t.path||mu(e,t,n).matched)}function $w(t,e,n){return 0===e.length&&!t.children[n]}class vu{constructor(e){this.segmentGroup=e||null}}class zw{constructor(e){this.urlTree=e}}function ea(t){return Ss(new vu(t))}function Gw(t){return Ss(new zw(t))}class DO{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=_u(this.urlTree.root,[],[],this.config).segmentGroup,n=new ne(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ee).pipe(ae(s=>this.createUrlTree(Vf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Lr(s=>{if(s instanceof zw)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof vu?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ee).pipe(ae(i=>this.createUrlTree(Vf(i),e.queryParams,e.fragment))).pipe(Lr(i=>{throw i instanceof vu?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new ne([],{[ee]:e}):e;return new gi(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(ae(s=>new ne([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Qe(i).pipe(Go(s=>{const o=r.children[s],a=Lw(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(ae(l=>({segment:l,outlet:s})))}),aw((s,o)=>(s[o.outlet]=o.segment,s),{}),function dV(t,e){const n=arguments.length>=2;return r=>r.pipe(t?fn((i,s)=>t(i,s,r)):Jr,vf(1),n?Cf(e):lw(()=>new $o))}())}expandSegment(e,n,r,i,s,o){return Qe(r).pipe(Go(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Lr(u=>{if(u instanceof vu)return L(null);throw u}))),fi(a=>!!a),Lr((a,l)=>{if(a instanceof $o||"EmptyError"===a.name)return $w(n,i,s)?L(new ne([],{})):ea(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return Hw(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):ea(n):ea(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Gw(s):this.lineralizeSegments(r,s).pipe(ot(o=>{const a=new ne(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:c}=mu(n,i,s);if(!a)return ea(n);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?Gw(d):this.lineralizeSegments(i,d).pipe(ot(h=>this.expandSegment(e,n,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return e=Bw(r,e),r.loadChildren?(r._loadedRoutes?L({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ae(d=>(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,new ne(i,{})))):L(new ne(i,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=mu(n,r,i);return o?(e=Bw(r,e),this.getChildConfig(e,r,i).pipe(ot(c=>{const d=c.injector??e,h=c.routes,{segmentGroup:f,slicedSegments:g}=_u(n,a,l,h),p=new ne(f.segments,f.children);if(0===g.length&&p.hasChildren())return this.expandChildren(d,h,p).pipe(ae(y=>new ne(a,y)));if(0===h.length&&0===g.length)return L(new ne(a,{}));const m=gn(r)===s;return this.expandSegment(d,p,h,g,m?ee:s,!0).pipe(ae(v=>new ne(a.concat(v.segments),v.children)))}))):ea(n)}getChildConfig(e,n,r){return n.children?L({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?L({routes:n._loadedRoutes,injector:n._loadedInjector}):this.runCanLoadGuards(e,n,r).pipe(ot(i=>i?this.configLoader.loadChildren(e,n).pipe(pt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function CO(t){return Ss(Mf(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):L({routes:[],injector:e})}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?L(i.map(o=>{const a=e.get(o);let l;if(function dO(t){return t&&jr(t.canLoad)}(a))l=a.canLoad(n,r);else{if(!jr(a))throw new Error("Invalid CanLoad guard");l=a(n,r)}return Nn(l)})).pipe(Jo(),pt(o=>{if(!_i(o))return;const a=Mf(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),ae(o=>!0===o)):L(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return L(r);if(i.numberOfChildren>1||!i.children[ee])return Ss(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[ee]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new gi(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return mt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return mt(n.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new ne(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function Vf(t){const e={};for(const r of Object.keys(t.children)){const s=Vf(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function MO(t){if(1===t.numberOfChildren&&t.children[ee]){const e=t.children[ee];return new ne(t.segments.concat(e.segments),e.children)}return t}(new ne(t.segments,e))}class qw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Cu{constructor(e,n){this.component=e,this.route=n}}function bO(t,e,n){const r=t._root;return ta(r,e?e._root:null,n,[r.value])}function wu(t,e,n){return(jw(e)??n).get(t)}function ta(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Es(e);return t.children.forEach(o=>{(function xO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function IO(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!pi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!pi(t.url,e.url)||!er(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tf(t,e)||!er(t.queryParams,e.queryParams);default:return!Tf(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new qw(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ta(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cu(a.outlet.component,o))}else o&&na(e,a,i),i.canActivateChecks.push(new qw(r)),ta(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),mt(s,(o,a)=>na(o,n.getContext(a),i)),i}function na(t,e,n){const r=Es(t),i=t.value;mt(r,(s,o)=>{na(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Cu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class OO{}function Yw(t){return new Fe(e=>e.error(t))}class LO{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=_u(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,ee);if(null===n)return null;const r=new fu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ee,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Sr(r,n),s=new Aw(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=Tw(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=Lw(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=Xw(r);return function jO(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return $w(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!Hw(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?pw(r).parameters:{},g=Zw(n)+r.length;s=new fu(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jw(e),gn(e),e.component??e._loadedComponent??null,e,Kw(n),g,eD(e),g)}else{const f=mu(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments;const g=Zw(n)+o.length;s=new fu(o,f.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Jw(e),gn(e),e.component??e._loadedComponent??null,e,Kw(n),g,eD(e),g)}const l=function UO(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(e),{segmentGroup:u,slicedSegments:c}=_u(n,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const f=this.processChildren(l,u);return null===f?null:[new Sr(s,f)]}if(0===l.length&&0===c.length)return[new Sr(s,[])];const d=gn(e)===i,h=this.processSegment(l,u,c,d?ee:i);return null===h?null:[new Sr(s,h)]}}function HO(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Xw(t){const e=[],n=new Set;for(const r of t){if(!HO(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=Xw(r.children);e.push(new Sr(r.value,i))}return e.filter(r=>!n.has(r))}function Kw(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Zw(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function Jw(t){return t.data||{}}function eD(t){return t.resolve||{}}const Of=Symbol("RouteTitle");function tD(t){return"string"==typeof t.title||null===t.title}function Bf(t){return Fn(e=>{const n=t(e);return n?Qe(n).pipe(ae(()=>e)):L(e)})}class ZO extends class KO{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const Lf=new H("ROUTES");let jf=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return L(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Nn(n.loadComponent()).pipe(pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),wf(()=>{this.componentLoaders.delete(n)})),i=new yf(r,()=>new zt).pipe(_f());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return L({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ae(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u,c=!1;Array.isArray(a)?u=a:(l=a.create(n).injector,u=gw(l.get(Lf,[],F.Self|F.Optional)));return{routes:u.map(kf),injector:l}}),wf(()=>{this.childrenLoaders.delete(r)})),o=new yf(s,()=>new zt).pipe(_f());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Nn(n()).pipe(ot(r=>r instanceof rC||Array.isArray(r)?L(r):Qe(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)(I(Tt),I(Nh))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class JO{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function tB(t){throw t}function nB(t,e,n){return e.parse("/")}const rB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Rt=(()=>{class t{constructor(n,r,i,s,o,a,l){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zt,this.errorHandler=tB,this.malformedUriErrorHandler=nB,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>L(void 0),this.urlHandlingStrategy=new JO,this.routeReuseStrategy=new ZO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(jf),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new vV(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new yV(h)),this.ngModule=o.get(Vr),this.console=o.get(oF);const d=o.get(qe);this.isNgZoneEnabled=d instanceof qe&&qe.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function IV(){return new gi(new ne([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Iw(this.currentUrlTree,this.rootComponentType),this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(fn(i=>0!==i.id),ae(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Fn(i=>{let s=!1,o=!1;return L(i).pipe(pt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fn(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return rD(a.source)&&(this.browserUrlTree=a.extractedUrl),L(a).pipe(Fn(d=>{const h=this.transitions.getValue();return r.next(new Df(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?or:Promise.resolve(d)}),function SO(t,e,n,r){return Fn(i=>function wO(t,e,n,r,i){return new DO(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(ae(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),pt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects}}),function $O(t,e,n,r,i){return ot(s=>function BO(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new LO(t,e,n,r,i,s).recognize();return null===o?Yw(new OO):L(o)}catch(o){return Yw(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(ae(o=>({...s,targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),pt(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new fV(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:g,restoredState:p,extras:m}=a,_=new Df(h,this.serializeUrl(f),g,p);r.next(_);const v=Iw(f,this.rootComponentType).snapshot;return L({...a,targetSnapshot:v,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),or}),pt(a=>{const l=new gV(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ae(a=>({...a,guards:bO(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function TO(t,e){return ot(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?L({...n,guardsResult:!0}):function AO(t,e,n,r){return Qe(t).pipe(ot(i=>function VO(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?L(s.map(a=>{const l=wu(a,e,i);let u;if(function gO(t){return t&&jr(t.canDeactivate)}(l))u=Nn(l.canDeactivate(t,e,n,r));else{if(!jr(l))throw new Error("Invalid CanDeactivate guard");u=Nn(l(t,e,n,r))}return u.pipe(fi())})).pipe(Jo()):L(!0)}(i.component,i.route,n,e,r)),fi(i=>!0!==i,!0))}(o,r,i,t).pipe(ot(a=>a&&function cO(t){return"boolean"==typeof t}(a)?function PO(t,e,n,r){return Qe(e).pipe(Go(i=>zo(function FO(t,e){return null!==t&&e&&e(new CV(t)),L(!0)}(i.route.parent,r),function RO(t,e){return null!==t&&e&&e(new DV(t)),L(!0)}(i.route,r),function kO(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function EO(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>au(()=>L(o.guards.map(l=>{const u=wu(l,o.node,n);let c;if(function fO(t){return t&&jr(t.canActivateChild)}(u))c=Nn(u.canActivateChild(r,t));else{if(!jr(u))throw new Error("Invalid CanActivateChild guard");c=Nn(u(r,t))}return c.pipe(fi())})).pipe(Jo())));return L(s).pipe(Jo())}(t,i.path,n),function NO(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return L(!0);const i=r.map(s=>au(()=>{const o=wu(s,e,n);let a;if(function hO(t){return t&&jr(t.canActivate)}(o))a=Nn(o.canActivate(e,t));else{if(!jr(o))throw new Error("Invalid CanActivate guard");a=Nn(o(e,t))}return a.pipe(fi())}));return L(i).pipe(Jo())}(t,i.route,n))),fi(i=>!0!==i,!0))}(r,s,t,e):L(a)),ae(a=>({...n,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),pt(a=>{if(_i(a.guardsResult)){const u=Mf(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new pV(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),fn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Bf(a=>{if(a.guards.canActivateChecks.length)return L(a).pipe(pt(l=>{const u=new mV(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),Fn(l=>{let u=!1;return L(l).pipe(function zO(t,e){return ot(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return L(n);let s=0;return Qe(i).pipe(Go(o=>function GO(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!tD(i)&&(s[Of]=i.title),function qO(t,e,n,r){const i=function WO(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return L({});const s={};return Qe(i).pipe(ot(o=>function YO(t,e,n,r){const i=wu(t,e,r);return Nn(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(fi(),pt(a=>{s[o]=a}))),vf(1),uw(s),Lr(o=>o instanceof $o?or:Ss(o)))}(s,t,e,r).pipe(ae(o=>(t._resolvedData=o,t.data=Tw(t,n).resolve,i&&tD(i)&&(t.data[Of]=i.title),null)))}(o.route,r,t,e)),pt(()=>s++),vf(1),ot(o=>s===i.length?L(n):or))})}(this.paramsInheritanceStrategy,this.ngModule.injector),pt({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),pt(l=>{const u=new _V(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),Bf(()=>this.afterPreactivation()),Bf(a=>{const l=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(pt(d=>{u.component=d}),ae(()=>{})));for(const d of u.children)c.push(...l(d));return c};return sw(l(a.targetSnapshot.root)).pipe(Cf(),Gt(1))}),ae(a=>{const l=function qV(t,e,n){const r=Xo(t,e._root,n?n._root:void 0);return new xw(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return{...a,targetRouterState:l}}),pt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>ae(r=>(new uO(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),pt({next(){s=!0},complete(){s=!0}}),wf(()=>{s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Lr(a=>{if(o=!0,function bV(t){return t&&t[hw]}(a)){const l=_i(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const u=new cw(i.id,this.serializeUrl(i.extractedUrl),a.message);if(r.next(u),l){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rD(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new hV(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return or}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(kf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function XV(t,e,n,r,i){if(0===n.length)return Af(e.root,e.root,e.root,r,i);const s=function KV(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Fw(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return mt(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new Fw(n,e,r)}(n);return s.toRoot()?Af(e.root,e.root,new ne([],{}),r,i):function o(l){const u=function ZV(t,e,n,r){return t.isAbsolute?new Pf(e.root,!0,0):-1===r?new Pf(n,n===e.root,0):function QV(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Pf(r,!1,i-s)}(n,r+(gu(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,l),c=u.processChildren?pu(u.segmentGroup,u.index,s.commands):Nw(u.segmentGroup,u.index,s.commands);return Af(e.root,u.segmentGroup,c,r,i)}(t.snapshot?._lastPathIndex)}(u,this.currentUrlTree,n,d,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=_i(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function sB(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...rB}:!1===r?{...iB}:r,_i(n))return _w(this.currentUrlTree,n,i);const s=this.parseUrl(n);return _w(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new qo(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((h,f)=>{a=h,l=f});const c=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:c,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new cw(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Id()},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function rD(t){return"imperative"!==t}let Du=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new zt,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:Cr(this.skipLocationChange),replaceUrl:Cr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Cr(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(D(Rt),D(mi),eo("tabindex"),D(_r),D(tn))},t.\u0275dir=O({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&Ve("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[jt]}),t})();class iD{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(i=>i.outlet===ee);return n}getResolvedTitleForRoute(e){return e.data[Of]}}let lB=(()=>{class t extends iD{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(I(ew))},t.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class sD{}class oD{preload(e,n){return L(null)}}let aD=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(fn(n=>n instanceof qo),Go(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Nl(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Qe(i).pipe(Ai())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):L(null);const s=i.pipe(ot(o=>null===o?L(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?Qe([s,this.loader.loadComponent(r)]).pipe(Ai()):s})}}return t.\u0275fac=function(n){return new(n||t)(I(Rt),I(Nh),I(li),I(sD),I(jf))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),Hf=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Df?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof qo&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof dw&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new dw(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Id()},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();const yi=new H("ROUTER_CONFIGURATION"),lD=new H("ROUTER_FORROOT_GUARD"),cB=[Yh,{provide:ww,useClass:Dw},{provide:Rt,useFactory:function pB(t,e,n,r,i,s,o={},a,l,u,c){const d=new Rt(null,t,e,n,r,i,gw(s));return u&&(d.urlHandlingStrategy=u),c&&(d.routeReuseStrategy=c),d.titleStrategy=l??a,function mB(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,d),d},deps:[ww,Zo,Yh,Tt,Nh,Lf,yi,lB,[iD,new hr],[class QO{},new hr],[class XO{},new hr]]},Zo,{provide:mi,useFactory:function _B(t){return t.routerState.root},deps:[Rt]},aD,oD,class uB{preload(e,n){return n().pipe(Lr(()=>L(null)))}},{provide:yi,useValue:{enableTracing:!1}},jf];function dB(){return new XC("Router",Rt)}let uD=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[cB,cD(n),{provide:lD,useFactory:gB,deps:[[Rt,new hr,new ao]]},{provide:yi,useValue:r||{}},{provide:Ms,useFactory:fB,deps:[Oo,[new ol(Wh),new hr],yi]},{provide:Hf,useFactory:hB,deps:[Rt,gk,yi]},{provide:sD,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:oD},{provide:XC,multi:!0,useFactory:dB},[$f,{provide:Bl,multi:!0,useFactory:yB,deps:[$f]},{provide:dD,useFactory:vB,deps:[$f]},{provide:$C,multi:!0,useExisting:dD}]]}}static forChild(n){return{ngModule:t,providers:[cD(n)]}}}return t.\u0275fac=function(n){return new(n||t)(I(lD,8),I(Rt,8))},t.\u0275mod=vn({type:t}),t.\u0275inj=sn({}),t})();function hB(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Hf(t,e,n)}function fB(t,e,n={}){return n.useHash?new XF(t,e):new v0(t,e)}function gB(t){return"guarded"}function cD(t){return[{provide:Ex,multi:!0,useValue:t},{provide:Lf,multi:!0,useValue:t}]}let $f=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new zt}appInitializer(){return this.injector.get(qF,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Rt),o=this.injector.get(yi);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabledBlocking"===o.initialNavigation?(s.afterPreactivation=()=>this.initNavigation?L(void 0):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(yi),i=this.injector.get(aD),s=this.injector.get(Hf),o=this.injector.get(Rt),a=this.injector.get(ko);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(void 0),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(I(Tt))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();function yB(t){return t.appInitializer.bind(t)}function vB(t){return t.bootstrapListener.bind(t)}const dD=new H("Router Initializer");var ra=(()=>{return(t=ra||(ra={}))[t.skipIntro=0]="skipIntro",ra;var t})();class Mu{static toggleIntro(){const e=ra.skipIntro.toString();let n={intro:!1},r=localStorage.getItem(e);if(r){const i=JSON.parse(r);n.intro=!i.intro}else n.intro=!0;return localStorage.setItem(e,JSON.stringify(n)),n.intro}static isIntroSkipped(){const e=ra.skipIntro.toString();let n={intro:!1},r=localStorage.getItem(e);if(console.log(r),r){const i=JSON.parse(r);n.intro=i.intro}else n.intro=!1;return n.intro}}let hD=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(_r),D(tn))},t.\u0275dir=O({type:t}),t})(),vi=(()=>{class t extends hD{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=vt(t)))(r||t)}}(),t.\u0275dir=O({type:t,features:[pe]}),t})();const tr=new H("NgValueAccessor"),DB={provide:tr,useExisting:be(()=>zf),multi:!0};let zf=(()=>{class t extends vi{writeValue(n){this.setProperty("checked",n)}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=vt(t)))(r||t)}}(),t.\u0275dir=O({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&Ve("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[Oe([DB]),pe]}),t})();const MB={provide:tr,useExisting:be(()=>Gf),multi:!0},bB=new H("CompositionEventMode");let Gf=(()=>{class t extends hD{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function SB(){const t=Jn()?Jn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(_r),D(tn),D(bB,8))},t.\u0275dir=O({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Ve("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Oe([MB]),pe]}),t})();const Dt=new H("NgValidators"),Hr=new H("NgAsyncValidators");function DD(t){return null!=t}function MD(t){const e=Do(t)?Qe(t):t;return sh(e),e}function SD(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function bD(t,e){return e.map(n=>n(t))}function ED(t){return t.map(e=>function xB(t){return!t.validate}(e)?e:n=>e.validate(n))}function qf(t){return null!=t?function xD(t){if(!t)return null;const e=t.filter(DD);return 0==e.length?null:function(n){return SD(bD(n,e))}}(ED(t)):null}function Wf(t){return null!=t?function ID(t){if(!t)return null;const e=t.filter(DD);return 0==e.length?null:function(n){return function wB(...t){const e=mp(t),{args:n,keys:r}=rw(t),i=new Fe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let c=0;c<o;c++){let d=!1;_n(n[c]).subscribe(st(s,h=>{d||(d=!0,u--),a[c]=h},()=>l--,void 0,()=>{(!l||!d)&&(u||s.next(r?iw(r,a):a),s.complete())}))}});return e?i.pipe(mf(e)):i}(bD(n,e).map(MD)).pipe(ae(SD))}}(ED(t)):null}function TD(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Yf(t){return t?Array.isArray(t)?t:[t]:[]}function bu(t,e){return Array.isArray(t)?t.includes(e):t===e}function RD(t,e){const n=Yf(e);return Yf(t).forEach(i=>{bu(n,i)||n.push(i)}),n}function FD(t,e){return Yf(e).filter(n=>!bu(t,n))}class ND{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ft extends ND{get formDirective(){return null}get path(){return null}}class $r extends ND{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let VD=(()=>{class t extends class kD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D($r,2))},t.\u0275dir=O({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&xl("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pe]}),t})();const ia="VALID",xu="INVALID",xs="PENDING",sa="DISABLED";function BD(t){return Array.isArray(t)?qf(t):t||null}function LD(t){return Array.isArray(t)?Wf(t):t||null}function Iu(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function oa(t,e){(function tg(t,e){const n=function AD(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(TD(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function PD(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(TD(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Pu(e._rawValidators,i),Pu(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),t.disabled&&e.valueAccessor.setDisabledState?.(!0),function OB(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&$D(t,e)})}(t,e),function LB(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function BB(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&$D(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function VB(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Pu(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function $D(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function WD(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function YD(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const WB={provide:$r,useExisting:be(()=>sg)},QD=(()=>Promise.resolve(null))();let sg=(()=>{class t extends $r{constructor(n,r,i,s,o){super(),this._changeDetectorRef=o,this.control=new class extends class HD{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=BD(this._rawValidators),this._composedAsyncValidatorFn=LD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ia}get invalid(){return this.status===xu}get pending(){return this.status==xs}get disabled(){return this.status===sa}get enabled(){return this.status!==sa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=BD(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=LD(e)}addValidators(e){this.setValidators(RD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(FD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(FD(e,this._rawAsyncValidators))}hasValidator(e){return bu(this._rawValidators,e)}hasAsyncValidator(e){return bu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=sa,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ia,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ia||this.status===xs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sa:ia}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xs,this._hasOwnPendingAsyncValidator=!0;const n=MD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?sa:this.errors?xu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xs)?xs:this._anyControlsHaveStatus(xu)?xu:ia}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Iu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,n,r){super(function Qf(t){return(Iu(t)?t.validators:t)||null}(n),function Jf(t,e){return(Iu(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Iu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=YD(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){YD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new Be,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function rg(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Gf?n=s:function HB(t){return Object.getPrototypeOf(t.constructor)===vi}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function ng(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){oa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){QD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Cr(r);QD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Tu(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(D(Ft,9),D(Dt,10),D(Hr,10),D(tr,10),D($l,8))},t.\u0275dir=O({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Oe([WB]),pe,jt]}),t})(),eM=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vn({type:t}),t.\u0275inj=sn({}),t})(),yL=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vn({type:t}),t.\u0275inj=sn({imports:[eM]}),t})(),vL=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vn({type:t}),t.\u0275inj=sn({imports:[yL]}),t})();function DL(t,e){1&t&&function Oy(t,e=0,n){const r=w(),i=se(),s=ts(i,22+t,16,null,n||null);null===s.projection&&(s.projection=e),Tc(),64!=(64&s.flags)&&function aT(t,e,n){r_(e[X],0,e,n,qm(t,n,e),Zm(n.parent||e[6],n,e))}(i,r,s)}(0,0,["*ngIf","!hasModalContents"])}function ML(t,e){1&t&&ft(0,"div",11)}const SL=["*"];let yM=(()=>{class t{constructor(){this.hasModalContents=!1,this.hidePrevBtn=!0,this.hideNextBtn=!0,this.title="",this._elements=[],this._currentIndex=0,this.modalContents=[],this.onClose=new Be}ngOnInit(){if(this.hasModalContents=this.modalContents.length>0,this.hasModalContents)this._renderContents();else{this.title=this.menuTitle;const n=document.getElementById("modalContainerId"),r=document.getElementById("closeBtn");n.style.height="23%",n.style.width="30%",r.style.left="37%"}}ngOnChanges(n){n.modalContents&&n.modalContents.currentValue.length!=this.modalContents.length&&(this.modalContents=n.modalContents.currentValue,this.hasModalContents=!0,this._renderContents())}_renderContents(){this._currentIndex=0,this._elements=[],this.hideNextBtn=1==this.modalContents.length,this._changeContainerOrient(this.modalContents[this._currentIndex].isPortrait),setTimeout(()=>{const n=document.getElementById("modalContentElem");this.title=this.modalContents[0].title,this.modalContents.forEach((r,i)=>{r.isImage?this._elements.push(r.buildImage(n,0!=i)):r.isEmbed&&this._elements.push(r.buildEmbed(n,0!=i))})},200)}_changeContainerOrient(n){const i=document.getElementById("modalContainerId").classList;i.contains("portrait")&&!n?i.remove("portrait"):n&&i.add("portrait")}modalOnPrev(){this._elements[this._currentIndex--].style.display="none",this._changeContainerOrient(this.modalContents[this._currentIndex].isPortrait),this._elements[this._currentIndex].style.display="block",this.hidePrevBtn=0==this._currentIndex,this.hideNextBtn=!1,this.onPrev&&this.onPrev()}modalOnNext(){this._elements[this._currentIndex++].style.display="none",this._changeContainerOrient(this.modalContents[this._currentIndex].isPortrait),this._elements[this._currentIndex].style.display="block",this.hidePrevBtn=0==this._currentIndex,this.hideNextBtn=this.modalContents.length==this._currentIndex+1,this.onNext&&this.onNext()}modalOnClose(){this.onClose.emit()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=$n({type:t,selectors:[["app-modal"]],inputs:{menuTitle:"menuTitle",modalContents:"modalContents",onPrev:"onPrev",onNext:"onNext"},outputs:{onClose:"onClose"},features:[jt],ngContentSelectors:SL,decls:13,vars:5,consts:[[1,"menu-modal"],["id","modalContainerId",1,"menu-modal-container","portrait"],[1,"menu-modal-header"],[1,"menu-modal-header-box"],[1,"menu-modal-header-box","right"],[1,"menu-modal-body"],[1,"menu-model-arrow","left",3,"hidden","click"],[4,"ngIf"],["id","modalContentElem","class","app-modal-contents",4,"ngIf"],[1,"menu-model-arrow","right",3,"hidden","click"],["id","closeBtn",1,"menu-model-btn",3,"click"],["id","modalContentElem",1,"app-modal-contents"]],template:function(n,r){1&n&&(function Vy(t){const e=w()[16][6];if(!e.projection){const r=e.projection=ro(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?lP(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}(),fe(0,"div",0)(1,"div",1)(2,"div",2),ft(3,"div",3),In(4),ft(5,"div",4),Te(),fe(6,"div",5)(7,"div",6),Ve("click",function(){return r.modalOnPrev()}),Te(),cn(8,DL,1,0,"ng-content",7),cn(9,ML,1,0,"div",8),fe(10,"div",9),Ve("click",function(){return r.modalOnNext()}),Te()(),fe(11,"div",10),Ve("click",function(){return r.modalOnClose()}),In(12,"Close"),Te()()()),2&n&&($e(4),ps(" ",r.title," "),$e(3),ke("hidden",r.hidePrevBtn),$e(1),ke("ngIf",!r.hasModalContents),$e(1),ke("ngIf",r.hasModalContents),$e(1),ke("hidden",r.hideNextBtn))},dependencies:[jo],styles:['div[_ngcontent-%COMP%]{box-sizing:unset!important}.menu-modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:5;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;font-size:20px;font-weight:500;color:#fff;background-color:#0000007a}.menu-modal-container[_ngcontent-%COMP%]{position:relative;background-color:#fff;width:50%;height:60%;border-radius:20px}.menu-modal-container.portrait[_ngcontent-%COMP%]{width:40%;height:80%;margin-top:-5%}.menu-modal-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:55px;background-color:#0cb;border-top-left-radius:20px;border-top-right-radius:20px;display:flex;justify-content:center;align-items:center}.menu-modal-header-box[_ngcontent-%COMP%]{position:absolute;top:35%;left:3%;height:20px;width:20px;background-color:#0fd;transform:rotate(44deg)}.menu-modal-header-box.right[_ngcontent-%COMP%]{right:3%;left:unset}.menu-modal-header-box[_ngcontent-%COMP%]:after{position:absolute;top:-15px;left:-4px;font-size:30px;font-weight:700;color:#0cb;margin-left:10px;content:"."}.menu-modal-body[_ngcontent-%COMP%]{position:relative;padding-top:55px;width:100%;height:100%}.menu-model-arrow[_ngcontent-%COMP%]{cursor:pointer;animation:moveLeft 1s infinite;position:absolute;z-index:5;background-image:url(Arrow.0b427bc737ab89bb.png);background-size:70px 70px;height:70px;width:70px}.menu-model-arrow.left[_ngcontent-%COMP%]{animation:moveLeft 1s infinite;top:43%;left:5px}.menu-model-arrow.right[_ngcontent-%COMP%]{animation:moveRight 1s infinite;top:43%;right:5px}.menu-model-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.menu-model-btn[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:41%;cursor:pointer;padding:8px 30px;border-radius:10px;color:#000;border:1px solid #676688;border-bottom:2px solid #676688;background-color:#fff}@keyframes moveLeft{0%{transform:translate(0)}50%{transform:translate(-5px)}to{transform:translate(0)}}@keyframes moveRight{0%{transform:translate(0) rotate(180deg)}50%{transform:translate(5px) rotate(180deg)}to{transform:translate(0) rotate(180deg)}}']}),t})();function bL(t,e){1&t&&(fe(0,"div",9),ft(1,"img",10),Te())}function EL(t,e){1&t&&(fe(0,"div",11),ft(1,"img",12),Te())}function xL(t,e){if(1&t){const n=fs();fe(0,"div",13),Ve("click",function(){return Oi(n),Bi(mr().showModal())}),ft(1,"div",14)(2,"div",14)(3,"div",14),Te()}}function IL(t,e){if(1&t){const n=fs();fe(0,"div",15),Ve("click",function(){return Oi(n),Bi(mr().onLogin())}),fe(1,"div",16),In(2,"CLICK TO START"),Te(),ft(3,"img",17),fe(4,"audio",18),ft(5,"source",19),In(6," This content is displayed by browsers that don't recognize the audio element "),Te(),fe(7,"video",20),ft(8,"source",21),In(9," Your browser does not support the video tag. "),Te()()}2&t&&($e(4),ke("autoplay",!0),$e(3),ke("muted",!0))}let TL=(()=>{class t{constructor(n){this.router=n,this.portCafe=!0,this.projectAkari=!1,this.loginPage=!1,this.isIntroSkipped=!1,this.isModalShown=!1}ngAfterViewInit(){this._initLogos()}ngOnInit(){this.isIntroSkipped=Mu.isIntroSkipped()}toggleSkipIntro(){this.isIntroSkipped=Mu.toggleIntro()}showModal(){this.isModalShown=!0}onModalClose(){this.isModalShown=!1}onLogin(){this.isIntroSkipped?this.router.navigate(["/characters"]):this.router.navigateByUrl("greetings?greetedby=intro")}_initLogos(){const n=[new hg("portCafeLogo",r=>this.portCafe=r),new hg("projectAkariLogo",r=>this.projectAkari=r),new hg("loginPage",r=>this.loginPage=r)];for(let r=0;r<n.length;r++){const i=n[r];r<n.length-1&&setTimeout(()=>{this._fadeOut(i.name,()=>{i.hideLogo(),n[r+1].showLogo()})},0==r?2500:6500*r)}}_fadeOut(n,r){var i=document.getElementById(n);i.classList.remove("fade-in"),i.classList.add("fade-out"),setTimeout(r,2e3)}}return t.\u0275fac=function(n){return new(n||t)(D(Rt))},t.\u0275cmp=$n({type:t,selectors:[["app-landing-page"]],decls:10,vars:7,consts:[["id","portCafeLogo","class","center-content max-height fade-in",4,"ngIf"],["id","projectAkariLogo","class","center-content max-height fade-in",4,"ngIf"],["class","option-btn",3,"click",4,"ngIf"],["id","loginPage","class","max-height fade-in",3,"click",4,"ngIf"],[3,"hidden","menuTitle","onClose"],[1,"center-content"],[1,"form-check","form-switch",2,"color","black","margin-top","20px"],["type","checkbox","role","switch","id","flexSwitchCheckChecked",1,"form-check-input",3,"ngModel","ngModelChange","click"],["for","flexSwitchCheckChecked",1,"form-check-label"],["id","portCafeLogo",1,"center-content","max-height","fade-in"],["src","assets/logo/port_cafe.png","alt","",1,"port-cafe-logo"],["id","projectAkariLogo",1,"center-content","max-height","fade-in"],["src","assets/logo/project_akari.png","alt","",1,"project-akari-logo"],[1,"option-btn",3,"click"],[1,"option-btn-line"],["id","loginPage",1,"max-height","fade-in",3,"click"],[1,"tap-to-login-container"],["src","assets/logo/project_akari.png","alt","",1,"project-akari-img"],["loop","",3,"autoplay"],["src","assets/sound/bgm/LoginBGM.mp3","type","audio/mpeg"],["autoplay","","playsinline","","loop","",1,"login-video",3,"muted"],["src","assets/videos/login_video.mp4","type","video/mp4"]],template:function(n,r){1&n&&(cn(0,bL,2,0,"div",0),cn(1,EL,2,0,"div",1),cn(2,xL,4,0,"div",2),cn(3,IL,10,2,"div",3),fe(4,"app-modal",4),Ve("onClose",function(){return r.onModalClose()}),fe(5,"div",5)(6,"div",6)(7,"input",7),Ve("ngModelChange",function(s){return r.isIntroSkipped=s})("click",function(){return r.toggleSkipIntro()}),Te(),fe(8,"label",8),In(9,"Skip Introduction"),Te()()()()),2&n&&(ke("ngIf",r.portCafe),$e(1),ke("ngIf",r.projectAkari),$e(1),ke("ngIf",r.loginPage),$e(1),ke("ngIf",r.loginPage),$e(1),ke("hidden",!r.isModalShown)("menuTitle","Settings"),$e(3),ke("ngModel",r.isIntroSkipped))},dependencies:[jo,zf,VD,sg,yM],styles:["[_nghost-%COMP%]{height:100vh}.port-cafe-logo[_ngcontent-%COMP%]{height:35%;width:25%}.project-akari-logo[_ngcontent-%COMP%]{height:20%;width:35%}.project-akari-img[_ngcontent-%COMP%]{position:fixed;bottom:18%;left:31%;z-index:2;height:20%;width:35%}.login-video[_ngcontent-%COMP%]{width:100%;height:99.5%;object-fit:fill}.option-btn[_ngcontent-%COMP%]{position:fixed;top:15px;right:15px;height:50px;width:60px;z-index:3;cursor:pointer;padding:8px 8px 2px;border-radius:10px;color:#000;border:1px solid #676688;border-bottom:2px solid #676688;background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center}.option-btn-line[_ngcontent-%COMP%]{display:block;background-color:#00f7d6;width:100%;height:4px;margin-bottom:6px}.tap-to-login-container[_ngcontent-%COMP%]{position:fixed;bottom:12%;left:35%;height:40px;width:30%;background:linear-gradient(to right,rgba(0,255,221,0),rgba(0,255,221,1),rgba(0,255,221,0));text-align:center;font-size:25px;font-weight:700;color:#fff;padding-top:6px;animation:tapToStart 1.8s infinite ease-in}#loginPage[_ngcontent-%COMP%]{cursor:pointer}.fade-in[_ngcontent-%COMP%]{animation:fadeIn 2s}.fade-out[_ngcontent-%COMP%]{animation:fadeOut 2s}@keyframes tapToStart{0%{opacity:0}50%{opacity:1}to{opacity:0}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}"]}),t})();class hg{constructor(e,n){this._name=e,this._logoVisiblity=n}get name(){return this._name}showLogo(){this._logoVisiblity(!0)}hideLogo(){this._logoVisiblity(!1)}}let Z=(()=>{class t{constructor(n=0){n<1?(this._ptr=[],this._capacity=0,this._size=0):(this._ptr=new Array(n),this._capacity=n,this._size=0)}at(n){return this._ptr[n]}set(n,r){this._ptr[n]=r}get(n=0){const r=new Array;for(let i=n;i<this._size;i++)r.push(this._ptr[i]);return r}pushBack(n){this._size>=this._capacity&&this.prepareCapacity(0==this._capacity?t.s_defaultSize:2*this._capacity),this._ptr[this._size++]=n}clear(){this._ptr.length=0,this._size=0}getSize(){return this._size}assign(n,r){this._size<n&&this.prepareCapacity(n);for(let s=0;s<n;s++)this._ptr[s]=r;this._size=n}resize(n,r=null){this.updateSize(n,r,!0)}updateSize(n,r=null,i=!0){if(this._size<n)if(this.prepareCapacity(n),i)for(let o=this._size;o<n;o++)this._ptr[o]="function"==typeof r?JSON.parse(JSON.stringify(new r)):r;else for(let o=this._size;o<n;o++)this._ptr[o]=r;else{const o=this._size-n;this._ptr.splice(this._size-o,o)}this._size=n}insert(n,r,i){let s=n._index;const o=r._index,a=i._index,l=a-o;this.prepareCapacity(this._size+l);const u=this._size-s;if(u>0)for(let c=0;c<u;c++)this._ptr.splice(s+c,0,null);for(let c=o;c<a;c++,s++)this._ptr[s]=r._vector._ptr[c];this._size=this._size+l}remove(n){return!(n<0||this._size<=n||(this._ptr.splice(n,1),--this._size,0))}erase(n){const r=n._index;return r<0||this._size<=r?n:(this._ptr.splice(r,1),--this._size,new wi(this,r))}prepareCapacity(n){n>this._capacity&&(0==this._capacity?(this._ptr=new Array(n),this._capacity=n):(this._ptr.length=n,this._capacity=n))}begin(){return 0==this._size?this.end():new wi(this,0)}end(){return new wi(this,this._size)}getOffset(n){const r=new t;return r._ptr=this.get(n),r._size=this.get(n).length,r._capacity=this.get(n).length,r}}return t.s_defaultSize=10,t})();class wi{constructor(e,n){this._vector=e??null,this._index=n??0}set(e){return this._index=e._index,this._vector=e._vector,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new wi(this._vector,this._index++)}decrement(){return new wi(this._vector,this._index--)}ptr(){return this._vector._ptr[this._index]}substitution(e){return this._index=e._index,this._vector=e._vector,this}notEqual(e){return this._index!=e._index||this._vector!=e._vector}}var vM,t,CM,wM,MM,SM;(t=vM||(vM={})).csmVector=Z,t.iterator=wi;class pn{constructor(e){this.s=e}append(e,n){return this.s+=void 0!==n?e.substr(0,n):e,this}expansion(e,n){for(let r=0;r<e;r++)this.append(n);return this}getBytes(){return encodeURIComponent(this.s).replace(/%../g,"x").length}getLength(){return this.s.length}isLess(e){return this.s<e.s}isGreat(e){return this.s>e.s}isEqual(e){return this.s==e}isEmpty(){return 0==this.s.length}}!function(t){t.csmString=pn}(CM||(CM={}));class la{constructor(e){this._id="string"!=typeof e?e:new pn(e)}getString(){return this._id}isEqual(e){return"string"==typeof e?this._id.isEqual(e):e instanceof pn?this._id.isEqual(e.s):e instanceof la&&this._id.isEqual(e._id.s)}isNotEqual(e){return"string"==typeof e?!this._id.isEqual(e):e instanceof pn?!this._id.isEqual(e.s):e instanceof la&&!this._id.isEqual(e._id.s)}}!function(t){t.CubismId=la}(wM||(wM={}));class DM{constructor(){this._ids=new Z}release(){for(let e=0;e<this._ids.getSize();++e)this._ids.set(e,void 0);this._ids=null}registerIds(e){for(let n=0;n<e.length;n++)this.registerId(e[n])}registerId(e){let n=null;return"string"!=typeof e?this.registerId(e.s):(null!=(n=this.findId(e))||(n=new la(e),this._ids.pushBack(n)),n)}getId(e){return this.registerId(e)}isExist(e){return"string"==typeof e?null!=this.findId(e):this.isExist(e.s)}findId(e){for(let n=0;n<this._ids.getSize();++n)if(this._ids.at(n).getString().isEqual(e))return this._ids.at(n);return null}}!function(t){t.CubismIdManager=DM}(MM||(MM={}));class Ye{constructor(){this._tr=new Float32Array(16),this.loadIdentity()}static multiply(e,n,r){const i=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);for(let o=0;o<4;++o)for(let a=0;a<4;++a)for(let l=0;l<4;++l)i[a+4*o]+=e[l+4*o]*n[a+4*l];for(let o=0;o<16;++o)r[o]=i[o]}loadIdentity(){const e=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(e)}setMatrix(e){for(let n=0;n<16;++n)this._tr[n]=e[n]}getArray(){return this._tr}getScaleX(){return this._tr[0]}getScaleY(){return this._tr[5]}getTranslateX(){return this._tr[12]}getTranslateY(){return this._tr[13]}transformX(e){return this._tr[0]*e+this._tr[12]}transformY(e){return this._tr[5]*e+this._tr[13]}invertTransformX(e){return(e-this._tr[12])/this._tr[0]}invertTransformY(e){return(e-this._tr[13])/this._tr[5]}translateRelative(e,n){const r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1]);Ye.multiply(r,this._tr,this._tr)}translate(e,n){this._tr[12]=e,this._tr[13]=n}translateX(e){this._tr[12]=e}translateY(e){this._tr[13]=e}scaleRelative(e,n){const r=new Float32Array([e,0,0,0,0,n,0,0,0,0,1,0,0,0,0,1]);Ye.multiply(r,this._tr,this._tr)}scale(e,n){this._tr[0]=e,this._tr[5]=n}multiplyByMatrix(e){Ye.multiply(e.getArray(),this._tr,this._tr)}clone(){const e=new Ye;for(let n=0;n<this._tr.length;n++)e._tr[n]=this._tr[n];return e}}!function(t){t.CubismMatrix44=Ye}(SM||(SM={}));class Fu{constructor(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisortopy=0,this._model=null,this._modelColor=new Is,this._mvpMatrix4x4=new Ye,this._mvpMatrix4x4.loadIdentity()}static create(){return null}static delete(e){}initialize(e){this._model=e}drawModel(){null!=this.getModel()&&this.doDrawModel()}setMvpMatrix(e){this._mvpMatrix4x4.setMatrix(e.getArray())}getMvpMatrix(){return this._mvpMatrix4x4}setModelColor(e,n,r,i){e<0?e=0:e>1&&(e=1),n<0?n=0:n>1&&(n=1),r<0?r=0:r>1&&(r=1),i<0?i=0:i>1&&(i=1),this._modelColor.R=e,this._modelColor.G=n,this._modelColor.B=r,this._modelColor.A=i}getModelColor(){return JSON.parse(JSON.stringify(this._modelColor))}setIsPremultipliedAlpha(e){this._isPremultipliedAlpha=e}isPremultipliedAlpha(){return this._isPremultipliedAlpha}setIsCulling(e){this._isCulling=e}isCulling(){return this._isCulling}setAnisotropy(e){this._anisortopy=e}getAnisotropy(){return this._anisortopy}getModel(){return this._model}}var bM,kn=(()=>(function(t){t[t.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",t[t.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",t[t.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative"}(kn||(kn={})),kn))();class Is{constructor(){this.R=1,this.G=1,this.B=1,this.A=1}}!function(t){t.CubismBlendMode=kn,t.CubismRenderer=Fu,t.CubismTextureColor=Is}(bM||(bM={}));const Nt=(t,e,n)=>{((t,e,n)=>{xM.print(t,"[CSM]"+e,n)})(t,e+"\n",n)},nr=t=>{console.assert(t)};let kL,Ts,Vn,br,mn;kL=(t,...e)=>{Nt(rt.LogLevel_Verbose,"[V]"+t,e)},Ts=(t,...e)=>{Nt(rt.LogLevel_Debug,"[D]"+t,e)},Vn=(t,...e)=>{Nt(rt.LogLevel_Info,"[I]"+t,e)},br=(t,...e)=>{Nt(rt.LogLevel_Warning,"[W]"+t,e)},mn=(t,...e)=>{Nt(rt.LogLevel_Error,"[E]"+t,e)};class xM{static print(e,n,r){if(e<de.getLoggingLevel())return;const i=de.coreLogFunction;i&&i(n.replace(/\{(\d+)\}/g,(o,a)=>r[a]))}static dumpBytes(e,n,r){for(let i=0;i<r;i++)i%16==0&&i>0?this.print(e,"\n"):i%8==0&&i>0&&this.print(e,"  "),this.print(e,"{0} ",[255&n[i]]);this.print(e,"\n")}constructor(){}}var IM;!function(t){t.CubismDebug=xM}(IM||(IM={}));class TM{constructor(e,n){this.first=e??null,this.second=n??null}}let On=(()=>{class t{constructor(n){null!=n?n<1?(this._keyValues=[],this._dummyValue=null,this._size=0):(this._keyValues=new Array(n),this._size=n):(this._keyValues=[],this._dummyValue=null,this._size=0)}release(){this.clear()}appendKey(n){this.prepareCapacity(this._size+1,!1),this._keyValues[this._size]=new TM(n),this._size+=1}getValue(n){let r=-1;for(let i=0;i<this._size;i++)if(this._keyValues[i].first==n){r=i;break}return r>=0?this._keyValues[r].second:(this.appendKey(n),this._keyValues[this._size-1].second)}setValue(n,r){let i=-1;for(let s=0;s<this._size;s++)if(this._keyValues[s].first==n){i=s;break}i>=0?this._keyValues[i].second=r:(this.appendKey(n),this._keyValues[this._size-1].second=r)}isExist(n){for(let r=0;r<this._size;r++)if(this._keyValues[r].first==n)return!0;return!1}clear(){this._keyValues=void 0,this._keyValues=null,this._keyValues=[],this._size=0}getSize(){return this._size}prepareCapacity(n,r){n>this._keyValues.length&&(0==this._keyValues.length?(!r&&n<t.DefaultSize&&(n=t.DefaultSize),this._keyValues.length=n):(!r&&n<2*this._keyValues.length&&(n=2*this._keyValues.length),this._keyValues.length=n))}begin(){return new Di(this,0)}end(){return new Di(this,this._size)}erase(n){const r=n._index;return r<0||this._size<=r?n:(this._keyValues.splice(r,1),--this._size,new Di(this,r))}dumpAsInt(){for(let n=0;n<this._size;n++)Ts("{0} ,",this._keyValues[n]),Ts("\n")}}return t.DefaultSize=10,t})();class Di{constructor(e,n){this._map=e??new On,this._index=n??0}set(e){return this._index=e._index,this._map=e._map,this}preIncrement(){return++this._index,this}preDecrement(){return--this._index,this}increment(){return new Di(this._map,this._index++)}decrement(){const e=new Di(this._map,this._index);return this._map=e._map,this._index=e._index,this}ptr(){return this._map._keyValues[this._index]}notEqual(e){return this._index!=e._index||this._map!=e._map}}var AM;!function(t){t.csmMap=On,t.csmPair=TM,t.iterator=Di}(AM||(AM={}));const Nu="Error: type mismatch";class Ie{constructor(){}getRawString(e,n){return this.getString(e,n)}toInt(e=0){return e}toFloat(e=0){return e}toBoolean(e=!1){return e}getSize(){return 0}getArray(e=null){return e}getVector(e=new Z){return e}getMap(e){return e}getValueByIndex(e){return Ie.errorValue.setErrorNotForClientCall(Nu)}getValueByString(e){return Ie.nullValue.setErrorNotForClientCall(Nu)}getKeys(){return Ie.s_dummyKeys}isError(){return!1}isNull(){return!1}isBool(){return!1}isFloat(){return!1}isString(){return!1}isArray(){return!1}isMap(){return!1}equals(e){return!1}isStatic(){return!1}setErrorNotForClientCall(e){return ca.errorValue}static staticInitializeNotForClientCall(){Er.trueValue=new Er(!0),Er.falseValue=new Er(!1),Ie.errorValue=new ca("ERROR",!0),Ie.nullValue=new fg,Ie.s_dummyKeys=new Z}static staticReleaseNotForClientCall(){Er.trueValue=null,Er.falseValue=null,Ie.errorValue=null,Ie.nullValue=null,Ie.s_dummyKeys=null}}class Mt{constructor(e,n){this._error=null,this._lineCount=0,this._root=null,null!=e&&this.parseBytes(e,n)}static create(e,n){const r=new Mt;return r.parseBytes(e,n)?r:(Mt.delete(r),null)}static delete(e){}getRoot(){return this._root}arrayBufferToString(e){const n=new Uint8Array(e);let r="";for(let i=0,s=n.length;i<s;++i)r+="%"+this.pad(n[i].toString(16));return r=decodeURIComponent(r),r}pad(e){return e.length<2?"0"+e:e}parseBytes(e,n){const r=new Array(1),i=this.arrayBufferToString(e);if(this._root=this.parseValue(i,n,0,r),this._error){let s="\0";return s="Json parse error : @line "+(this._lineCount+1)+"\n",this._root=new ku(s),Vn("{0}",this._root.getRawString()),!1}return null!=this._root||(this._root=new ca(new pn(this._error),!1),!1)}getParseError(){return this._error}checkEndOfFile(){return this._root.getArray()[1].equals("EOF")}parseValue(e,n,r,i){if(this._error)return null;let a,s=null,o=r;for(;o<n;o++)switch(e[o]){case"-":case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{const u=new Array(1);return a=OL(e.slice(o),u),i[0]=e.indexOf(u[0]),new PM(a)}case'"':return new ku(this.parseString(e,n,o+1,i));case"[":return s=this.parseArray(e,n,o+1,i),s;case"{":return s=this.parseObject(e,n,o+1,i),s;case"n":return o+3<n?(s=new fg,i[0]=o+4):this._error="parse null",s;case"t":return o+3<n?(s=Er.trueValue,i[0]=o+4):this._error="parse true",s;case"f":return o+4<n?(s=Er.falseValue,i[0]=o+5):this._error="illegal ',' position",s;case",":return this._error="illegal ',' position",null;case"]":return i[0]=o,null;case"\n":this._lineCount++}return this._error="illegal end of value",null}parseString(e,n,r,i){if(this._error)return null;let o,a,s=r;const l=new pn("");let u=r;for(;s<n;s++)switch(o=e[s],o){case'"':return i[0]=s+1,l.append(e.slice(u),s-u),l.s;case"//":if(s++,s-1>u&&l.append(e.slice(u),s-u),u=s+1,s<n)switch(a=e[s],a){case"\\":l.expansion(1,"\\");break;case'"':l.expansion(1,'"');break;case"/":l.expansion(1,"/");break;case"b":l.expansion(1,"\b");break;case"f":l.expansion(1,"\f");break;case"n":l.expansion(1,"\n");break;case"r":l.expansion(1,"\r");break;case"t":l.expansion(1,"\t");break;case"u":this._error="parse string/unicord escape not supported"}else this._error="parse string/escape error"}return this._error="parse string/illegal end",null}parseObject(e,n,r,i){if(this._error)return null;const s=new FM;let o="",a=r,l="";const u=Array(1);let c=!1;for(;a<n;a++){e:for(;a<n;a++)switch(l=e[a],l){case'"':if(o=this.parseString(e,n,a+1,u),this._error)return null;a=u[0],c=!0;break e;case"}":return i[0]=a+1,s;case":":this._error="illegal ':' position";break;case"\n":this._lineCount++}if(!c)return this._error="key not found",null;c=!1;e:for(;a<n;a++)switch(l=e[a],l){case":":c=!0,a++;break e;case"}":this._error="illegal '}' position";break;case"\n":this._lineCount++}if(!c)return this._error="':' not found",null;const d=this.parseValue(e,n,a,u);if(this._error)return null;a=u[0],s.put(o,d);e:for(;a<n;a++)switch(l=e[a],l){case",":break e;case"}":return i[0]=a+1,s;case"\n":this._lineCount++}}return this._error="illegal end of perseObject",null}parseArray(e,n,r,i){if(this._error)return null;let a,s=new RM,o=r;const l=new Array(1);for(;o<n;o++){const u=this.parseValue(e,n,o,l);if(this._error)return null;o=l[0],u&&s.add(u);e:for(;o<n;o++)switch(a=e[o],a){case",":break e;case"]":return i[0]=o+1,s;case"\n":++this._lineCount}}return s=void 0,this._error="illegal end of parseObject",null}}class PM extends Ie{constructor(e){super(),this._value=e}isFloat(){return!0}getString(e,n){return this._value=parseFloat("\0"),this._stringBuffer="\0",this._stringBuffer}toInt(e=0){return parseInt(this._value.toString())}toFloat(e=0){return this._value}equals(e){return"number"==typeof e&&!Math.round(e)&&e==this._value}}class Er extends Ie{constructor(e){super(),this._boolValue=e}isBool(){return!0}toBoolean(e=!1){return this._boolValue}getString(e,n){return this._stringBuffer=this._boolValue?"true":"false",this._stringBuffer}equals(e){return"boolean"==typeof e&&e==this._boolValue}isStatic(){return!0}}class ku extends Ie{constructor(e){super(),"string"==typeof e&&(this._stringBuffer=e),e instanceof pn&&(this._stringBuffer=e.s)}isString(){return!0}getString(e,n){return this._stringBuffer}equals(e){return"string"==typeof e?this._stringBuffer==e:e instanceof pn&&this._stringBuffer==e.s}}class ca extends ku{constructor(e,n){super(e),this._isStatic=n}isStatic(){return this._isStatic}setErrorNotForClientCall(e){return this._stringBuffer=e,this}isError(){return!0}}class fg extends Ie{isNull(){return!0}getString(e,n){return this._stringBuffer}isStatic(){return!0}setErrorNotForClientCall(e){return this._stringBuffer=e,ca.nullValue}constructor(){super(),this._stringBuffer="NullValue"}}class RM extends Ie{constructor(){super(),this._array=new Z}release(){for(let e=this._array.begin();e.notEqual(this._array.end());e.preIncrement()){let n=e.ptr();n&&!n.isStatic()&&(n=void 0,n=null)}}isArray(){return!0}getValueByIndex(e){return e<0||this._array.getSize()<=e?Ie.errorValue.setErrorNotForClientCall("Error: index out of bounds"):this._array.at(e)??Ie.nullValue}getValueByString(e){return Ie.errorValue.setErrorNotForClientCall(Nu)}getString(e,n){const r=n+"[\n";for(let i=this._array.begin();i.notEqual(this._array.end());i.increment()){const s=i.ptr();this._stringBuffer+=n+""+s.getString(n+" ")+"\n"}return this._stringBuffer=r+n+"]\n",this._stringBuffer}add(e){this._array.pushBack(e)}getVector(e=null){return this._array}getSize(){return this._array.getSize()}}class FM extends Ie{constructor(){super(),this._map=new On}release(){const e=this._map.begin();for(;e.notEqual(this._map.end());){let n=e.ptr().second;n&&!n.isStatic()&&(n=void 0,n=null),e.preIncrement()}}isMap(){return!0}getValueByString(e){if(e instanceof pn)return this._map.getValue(e.s)??Ie.nullValue;for(let n=this._map.begin();n.notEqual(this._map.end());n.preIncrement())if(n.ptr().first==e)return null==n.ptr().second?Ie.nullValue:n.ptr().second;return Ie.nullValue}getValueByIndex(e){return Ie.errorValue.setErrorNotForClientCall(Nu)}getString(e,n){this._stringBuffer=n+"{\n";const r=this._map.begin();for(;r.notEqual(this._map.end());){const i=r.ptr().first,s=r.ptr().second;this._stringBuffer+=n+" "+i+" : "+s.getString(n+"   ")+" \n",r.preIncrement()}return this._stringBuffer+=n+"}\n",this._stringBuffer}getMap(e){return this._map}put(e,n){this._map.setValue(e,n)}getKeys(){if(!this._keys){this._keys=new Z;const e=this._map.begin();for(;e.notEqual(this._map.end());){const n=e.ptr().first;this._keys.pushBack(n),e.preIncrement()}}return this._keys}getSize(){return this._keys.getSize()}}var NM;function OL(t,e){let n=0;for(let i=1;;i++){const s=t.slice(i-1,i);if("e"==s||"-"==s||"E"==s)continue;const o=t.substring(0,i),a=Number(o);if(isNaN(a))break;n=i}let r=parseFloat(t);return isNaN(r)&&(r=NaN),e[0]=t.slice(n),r}!function(t){t.CubismJson=Mt,t.JsonArray=RM,t.JsonBoolean=Er,t.JsonError=ca,t.JsonFloat=PM,t.JsonMap=FM,t.JsonNullvalue=fg,t.JsonString=ku,t.Value=Ie}(NM||(NM={}));let Bn=!1,As=!1,Ps=null,da=null;const zr=Object.freeze({vertexOffset:0,vertexStep:2});function BL(t){!t||(t=void 0)}class de{static startUp(e=null){if(Bn)return Vn("CubismFramework.startUp() is already done."),Bn;if(Ps=e,null!=Ps&&Live2DCubismCore.Logging.csmSetLogFunction(Ps.logFunction),Bn=!0,Bn){const n=Live2DCubismCore.Version.csmGetVersion(),i=(16711680&n)>>16,s=65535&n,o=n;Vn("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+((4278190080&n)>>24)).slice(-2),("00"+i).slice(-2),("0000"+s).slice(-4),o)}return Vn("CubismFramework.startUp() is complete."),Bn}static cleanUp(){Bn=!1,As=!1,Ps=null,da=null}static initialize(){nr(Bn),Bn?As?br("CubismFramework.initialize() skipped, already initialized."):(Ie.staticInitializeNotForClientCall(),da=new DM,As=!0,Vn("CubismFramework.initialize() is complete.")):br("CubismFramework is not started.")}static dispose(){nr(Bn),Bn?As?(Ie.staticReleaseNotForClientCall(),da.release(),da=null,Fu.staticRelease(),As=!1,Vn("CubismFramework.dispose() is complete.")):br("CubismFramework.dispose() skipped, not initialized."):br("CubismFramework is not started.")}static isStarted(){return Bn}static isInitialized(){return As}static coreLogFunction(e){!Live2DCubismCore.Logging.csmGetLogFunction()||Live2DCubismCore.Logging.csmGetLogFunction()(e)}static getLoggingLevel(){return null!=Ps?Ps.loggingLevel:rt.LogLevel_Off}static getIdManager(){return da}constructor(){}}class LL{}var kM,rt=(()=>(function(t){t[t.LogLevel_Verbose=0]="LogLevel_Verbose",t[t.LogLevel_Debug=1]="LogLevel_Debug",t[t.LogLevel_Info=2]="LogLevel_Info",t[t.LogLevel_Warning=3]="LogLevel_Warning",t[t.LogLevel_Error=4]="LogLevel_Error",t[t.LogLevel_Off=5]="LogLevel_Off"}(rt||(rt={})),rt))();!function(t){t.Constant=zr,t.csmDelete=BL,t.CubismFramework=de}(kM||(kM={}));var xr=(()=>(function(t){t[t.ModelLoaded=0]="ModelLoaded",t[t.ModelReleased=1]="ModelReleased",t[t.MotionCompleted=2]="MotionCompleted"}(xr||(xr={})),xr))();const OM="assets/l2d-setup/Resources/";var kt=(()=>(function(t){t[t.Ena=0]="Ena",t[t.Luka=1]="Luka",t[t.Mafuyu=2]="Mafuyu",t[t.Haruka=3]="Haruka",t[t.An=4]="An",t[t.Honami=5]="Honami",t[t.Akito=6]="Akito",t[t.Touya=7]="Touya",t[t.Tsukasa=8]="Tsukasa",t[t.Kanade=9]="Kanade",t[t.Kaito=10]="Kaito",t[t.Shizuku=11]="Shizuku"}(kt||(kt={})),kt))();const Rs=["19ena","24luka","18mafuyu","06haruka","10an","03honami","11akito","12touya","13tsukasa","17kanade","26kaito","08shizuku"],YL=Rs.length,JL=rt.LogLevel_Verbose,T=Object.freeze({HitAreaPrefix:"HitArea",HitAreaHead:"Head",HitAreaBody:"Body",PartsIdCore:"Parts01Core",PartsArmPrefix:"Parts01Arm_",PartsArmLPrefix:"Parts01ArmL_",PartsArmRPrefix:"Parts01ArmR_",ParamAngleX:"ParamAngleX",ParamAngleY:"ParamAngleY",ParamAngleZ:"ParamAngleZ",ParamEyeLOpen:"ParamEyeLOpen",ParamEyeLSmile:"ParamEyeLSmile",ParamEyeROpen:"ParamEyeROpen",ParamEyeRSmile:"ParamEyeRSmile",ParamEyeBallX:"ParamEyeBallX",ParamEyeBallY:"ParamEyeBallY",ParamEyeBallForm:"ParamEyeBallForm",ParamBrowLY:"ParamBrowLY",ParamBrowRY:"ParamBrowRY",ParamBrowLX:"ParamBrowLX",ParamBrowRX:"ParamBrowRX",ParamBrowLAngle:"ParamBrowLAngle",ParamBrowRAngle:"ParamBrowRAngle",ParamBrowLForm:"ParamBrowLForm",ParamBrowRForm:"ParamBrowRForm",ParamMouthForm:"ParamMouthForm",ParamMouthOpenY:"ParamMouthOpenY",ParamCheek:"ParamCheek",ParamBodyAngleX:"ParamBodyAngleX",ParamBodyAngleY:"ParamBodyAngleY",ParamBodyAngleZ:"ParamBodyAngleZ",ParamBreath:"ParamBreath",ParamArmLA:"ParamArmLA",ParamArmRA:"ParamArmRA",ParamArmLB:"ParamArmLB",ParamArmRB:"ParamArmRB",ParamHandL:"ParamHandL",ParamHandR:"ParamHandR",ParamHairFront:"ParamHairFront",ParamHairSide:"ParamHairSide",ParamHairBack:"ParamHairBack",ParamHairFluffy:"ParamHairFluffy",ParamShoulderY:"ParamShoulderY",ParamBustX:"ParamBustX",ParamBustY:"ParamBustY",ParamBaseX:"ParamBaseX",ParamBaseY:"ParamBaseY",ParamNONE:"NONE:"});var jM,HM;!function(t){t.HitAreaBody=T.HitAreaBody,t.HitAreaHead=T.HitAreaHead,t.HitAreaPrefix=T.HitAreaPrefix,t.ParamAngleX=T.ParamAngleX,t.ParamAngleY=T.ParamAngleY,t.ParamAngleZ=T.ParamAngleZ,t.ParamArmLA=T.ParamArmLA,t.ParamArmLB=T.ParamArmLB,t.ParamArmRA=T.ParamArmRA,t.ParamArmRB=T.ParamArmRB,t.ParamBaseX=T.ParamBaseX,t.ParamBaseY=T.ParamBaseY,t.ParamBodyAngleX=T.ParamBodyAngleX,t.ParamBodyAngleY=T.ParamBodyAngleY,t.ParamBodyAngleZ=T.ParamBodyAngleZ,t.ParamBreath=T.ParamBreath,t.ParamBrowLAngle=T.ParamBrowLAngle,t.ParamBrowLForm=T.ParamBrowLForm,t.ParamBrowLX=T.ParamBrowLX,t.ParamBrowLY=T.ParamBrowLY,t.ParamBrowRAngle=T.ParamBrowRAngle,t.ParamBrowRForm=T.ParamBrowRForm,t.ParamBrowRX=T.ParamBrowRX,t.ParamBrowRY=T.ParamBrowRY,t.ParamBustX=T.ParamBustX,t.ParamBustY=T.ParamBustY,t.ParamCheek=T.ParamCheek,t.ParamEyeBallForm=T.ParamEyeBallForm,t.ParamEyeBallX=T.ParamEyeBallX,t.ParamEyeBallY=T.ParamEyeBallY,t.ParamEyeLOpen=T.ParamEyeLOpen,t.ParamEyeLSmile=T.ParamEyeLSmile,t.ParamEyeROpen=T.ParamEyeROpen,t.ParamEyeRSmile=T.ParamEyeRSmile,t.ParamHairBack=T.ParamHairBack,t.ParamHairFluffy=T.ParamHairFluffy,t.ParamHairFront=T.ParamHairFront,t.ParamHairSide=T.ParamHairSide,t.ParamHandL=T.ParamHandL,t.ParamHandR=T.ParamHandR,t.ParamMouthForm=T.ParamMouthForm,t.ParamMouthOpenY=T.ParamMouthOpenY,t.ParamNONE=T.ParamNONE,t.ParamShoulderY=T.ParamShoulderY,t.PartsArmLPrefix=T.PartsArmLPrefix,t.PartsArmPrefix=T.PartsArmPrefix,t.PartsArmRPrefix=T.PartsArmRPrefix,t.PartsIdCore=T.PartsIdCore}(jM||(jM={}));class UM{}!function(t){t.ICubismModelSetting=UM}(HM||(HM={}));const Gr="FileReferences",$M="UserData",qr="Name",Ou="Ids",qM="FadeInTime",WM="FadeOutTime",pg="LipSync",mg="EyeBlink";var XM,KM,k=(()=>(function(t){t[t.FrequestNode_Groups=0]="FrequestNode_Groups",t[t.FrequestNode_Moc=1]="FrequestNode_Moc",t[t.FrequestNode_Motions=2]="FrequestNode_Motions",t[t.FrequestNode_Expressions=3]="FrequestNode_Expressions",t[t.FrequestNode_Textures=4]="FrequestNode_Textures",t[t.FrequestNode_Physics=5]="FrequestNode_Physics",t[t.FrequestNode_Pose=6]="FrequestNode_Pose",t[t.FrequestNode_HitAreas=7]="FrequestNode_HitAreas"}(k||(k={})),k))();class YM extends UM{constructor(e,n){super(),this._json=Mt.create(e,n),this._json&&(this._jsonValue=new Z,this._jsonValue.pushBack(this._json.getRoot().getValueByString("Groups")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(Gr).getValueByString("Moc")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(Gr).getValueByString("Motions")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(Gr).getValueByString("Expressions")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(Gr).getValueByString("Textures")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(Gr).getValueByString("Physics")),this._jsonValue.pushBack(this._json.getRoot().getValueByString(Gr).getValueByString("Pose")),this._jsonValue.pushBack(this._json.getRoot().getValueByString("HitAreas")))}release(){Mt.delete(this._json),this._jsonValue=null}GetJson(){return this._json}getModelFileName(){return this.isExistModelFile()?this._jsonValue.at(k.FrequestNode_Moc).getRawString():""}getTextureCount(){return this.isExistTextureFiles()?this._jsonValue.at(k.FrequestNode_Textures).getSize():0}getTextureDirectory(){return this._jsonValue.at(k.FrequestNode_Textures).getRawString()}getTextureFileName(e){return this._jsonValue.at(k.FrequestNode_Textures).getValueByIndex(e).getRawString()}getHitAreasCount(){return this.isExistHitAreas()?this._jsonValue.at(k.FrequestNode_HitAreas).getSize():0}getHitAreaId(e){return de.getIdManager().getId(this._jsonValue.at(k.FrequestNode_HitAreas).getValueByIndex(e).getValueByString("Id").getRawString())}getHitAreaName(e){return this._jsonValue.at(k.FrequestNode_HitAreas).getValueByIndex(e).getValueByString(qr).getRawString()}getPhysicsFileName(){return this.isExistPhysicsFile()?this._jsonValue.at(k.FrequestNode_Physics).getRawString():""}getPoseFileName(){return this.isExistPoseFile()?this._jsonValue.at(k.FrequestNode_Pose).getRawString():""}getExpressionCount(){return this.isExistExpressionFile()?this._jsonValue.at(k.FrequestNode_Expressions).getSize():0}getExpressionName(e){return this._jsonValue.at(k.FrequestNode_Expressions).getValueByIndex(e).getValueByString(qr).getRawString()}getExpressionFileName(e){return this._jsonValue.at(k.FrequestNode_Expressions).getValueByIndex(e).getValueByString("File").getRawString()}getMotionGroupCount(){return this.isExistMotionGroups()?this._jsonValue.at(k.FrequestNode_Motions).getKeys().getSize():0}getMotionGroupName(e){return this.isExistMotionGroups()?this._jsonValue.at(k.FrequestNode_Motions).getKeys().at(e):null}getMotionCount(e){return this.isExistMotionGroupName(e)?this._jsonValue.at(k.FrequestNode_Motions).getValueByString(e).getSize():0}getMotionFileName(e,n){return this.isExistMotionGroupName(e)?this._jsonValue.at(k.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString("File").getRawString():""}getMotionSoundFileName(e,n){return this.isExistMotionSoundFile(e,n)?this._jsonValue.at(k.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString("Sound").getRawString():""}getMotionFadeInTimeValue(e,n){return this.isExistMotionFadeIn(e,n)?this._jsonValue.at(k.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString(qM).toFloat():-1}getMotionFadeOutTimeValue(e,n){return this.isExistMotionFadeOut(e,n)?this._jsonValue.at(k.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString(WM).toFloat():-1}getUserDataFile(){return this.isExistUserDataFile()?this._json.getRoot().getValueByString(Gr).getValueByString($M).getRawString():""}getLayoutMap(e){const n=this._json.getRoot().getValueByString("Layout").getMap();if(null==n)return!1;let r=!1;for(const i=n.begin();i.notEqual(n.end());i.preIncrement())e.setValue(i.ptr().first,i.ptr().second.toFloat()),r=!0;return r}getEyeBlinkParameterCount(){if(!this.isExistEyeBlinkParameters())return 0;let e=0;for(let n=0;n<this._jsonValue.at(k.FrequestNode_Groups).getSize();n++){const r=this._jsonValue.at(k.FrequestNode_Groups).getValueByIndex(n);if(!r.isNull()&&!r.isError()&&r.getValueByString(qr).getRawString()==mg){e=r.getValueByString(Ou).getVector().getSize();break}}return e}getEyeBlinkParameterId(e){if(!this.isExistEyeBlinkParameters())return null;for(let n=0;n<this._jsonValue.at(k.FrequestNode_Groups).getSize();n++){const r=this._jsonValue.at(k.FrequestNode_Groups).getValueByIndex(n);if(!r.isNull()&&!r.isError()&&r.getValueByString(qr).getRawString()==mg)return de.getIdManager().getId(r.getValueByString(Ou).getValueByIndex(e).getRawString())}return null}getLipSyncParameterCount(){if(!this.isExistLipSyncParameters())return 0;let e=0;for(let n=0;n<this._jsonValue.at(k.FrequestNode_Groups).getSize();n++){const r=this._jsonValue.at(k.FrequestNode_Groups).getValueByIndex(n);if(!r.isNull()&&!r.isError()&&r.getValueByString(qr).getRawString()==pg){e=r.getValueByString(Ou).getVector().getSize();break}}return e}getLipSyncParameterId(e){if(!this.isExistLipSyncParameters())return null;for(let n=0;n<this._jsonValue.at(k.FrequestNode_Groups).getSize();n++){const r=this._jsonValue.at(k.FrequestNode_Groups).getValueByIndex(n);if(!r.isNull()&&!r.isError()&&r.getValueByString(qr).getRawString()==pg)return de.getIdManager().getId(r.getValueByString(Ou).getValueByIndex(e).getRawString())}return null}isExistModelFile(){const e=this._jsonValue.at(k.FrequestNode_Moc);return!e.isNull()&&!e.isError()}isExistTextureFiles(){const e=this._jsonValue.at(k.FrequestNode_Textures);return!e.isNull()&&!e.isError()}isExistHitAreas(){const e=this._jsonValue.at(k.FrequestNode_HitAreas);return!e.isNull()&&!e.isError()}isExistPhysicsFile(){const e=this._jsonValue.at(k.FrequestNode_Physics);return!e.isNull()&&!e.isError()}isExistPoseFile(){const e=this._jsonValue.at(k.FrequestNode_Pose);return!e.isNull()&&!e.isError()}isExistExpressionFile(){const e=this._jsonValue.at(k.FrequestNode_Expressions);return!e.isNull()&&!e.isError()}isExistMotionGroups(){const e=this._jsonValue.at(k.FrequestNode_Motions);return!e.isNull()&&!e.isError()}isExistMotionGroupName(e){const n=this._jsonValue.at(k.FrequestNode_Motions).getValueByString(e);return!n.isNull()&&!n.isError()}isExistMotionSoundFile(e,n){const r=this._jsonValue.at(k.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString("Sound");return!r.isNull()&&!r.isError()}isExistMotionFadeIn(e,n){const r=this._jsonValue.at(k.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString(qM);return!r.isNull()&&!r.isError()}isExistMotionFadeOut(e,n){const r=this._jsonValue.at(k.FrequestNode_Motions).getValueByString(e).getValueByIndex(n).getValueByString(WM);return!r.isNull()&&!r.isError()}isExistUserDataFile(){const e=this._json.getRoot().getValueByString(Gr).getValueByString($M);return!e.isNull()&&!e.isError()}isExistEyeBlinkParameters(){if(this._jsonValue.at(k.FrequestNode_Groups).isNull()||this._jsonValue.at(k.FrequestNode_Groups).isError())return!1;for(let e=0;e<this._jsonValue.at(k.FrequestNode_Groups).getSize();++e)if(this._jsonValue.at(k.FrequestNode_Groups).getValueByIndex(e).getValueByString(qr).getRawString()==mg)return!0;return!1}isExistLipSyncParameters(){if(this._jsonValue.at(k.FrequestNode_Groups).isNull()||this._jsonValue.at(k.FrequestNode_Groups).isError())return!1;for(let e=0;e<this._jsonValue.at(k.FrequestNode_Groups).getSize();++e)if(this._jsonValue.at(k.FrequestNode_Groups).getValueByIndex(e).getValueByString(qr).getRawString()==pg)return!0;return!1}}!function(t){t.CubismModelSettingJson=YM}(XM||(XM={}));class fa{constructor(){this._currentTime=0}static create(){return new fa}static delete(e){null!=e&&(e=null)}setParameters(e){this._breathParameters=e}getParameters(){return this._breathParameters}updateParameters(e,n){this._currentTime+=n;const r=2*this._currentTime*3.14159;for(let i=0;i<this._breathParameters.getSize();++i){const s=this._breathParameters.at(i);e.addParameterValueById(s.parameterId,s.offset+s.peak*Math.sin(r/s.cycle),s.weight)}}}class Fs{constructor(e,n,r,i,s){this.parameterId=e??null,this.offset=n??0,this.peak=r??0,this.cycle=i??0,this.weight=s??0}}!function(t){t.BreathParameterData=Fs,t.CubismBreath=fa}(KM||(KM={}));let _g=(()=>{class t{constructor(n){if(this._blinkingState=Vt.EyeState_First,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=new Z,null!=n)for(let r=0;r<n.getEyeBlinkParameterCount();++r)this._parameterIds.pushBack(n.getEyeBlinkParameterId(r))}static create(n=null){return new t(n)}static delete(n){null!=n&&(n=null)}setBlinkingInterval(n){this._blinkingIntervalSeconds=n}setBlinkingSetting(n,r,i){this._closingSeconds=n,this._closedSeconds=r,this._openingSeconds=i}setParameterIds(n){this._parameterIds=n}getParameterIds(){return this._parameterIds}updateParameters(n,r){this._userTimeSeconds+=r;let i,s=0;switch(this._blinkingState){case Vt.EyeState_Closing:s=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds,s>=1&&(s=1,this._blinkingState=Vt.EyeState_Closed,this._stateStartTimeSeconds=this._userTimeSeconds),i=1-s;break;case Vt.EyeState_Closed:s=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds,s>=1&&(this._blinkingState=Vt.EyeState_Opening,this._stateStartTimeSeconds=this._userTimeSeconds),i=0;break;case Vt.EyeState_Opening:s=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds,s>=1&&(s=1,this._blinkingState=Vt.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming()),i=s;break;case Vt.EyeState_Interval:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=Vt.EyeState_Closing,this._stateStartTimeSeconds=this._userTimeSeconds),i=1;break;default:this._blinkingState=Vt.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming(),i=1}t.CloseIfZero||(i=-i);for(let o=0;o<this._parameterIds.getSize();++o)n.setParameterValueById(this._parameterIds.at(o),i)}determinNextBlinkingTiming(){const n=Math.random();return this._userTimeSeconds+n*(2*this._blinkingIntervalSeconds-1)}}return t.CloseIfZero=!0,t})();var ZM,Vt=(()=>(function(t){t[t.EyeState_First=0]="EyeState_First",t[t.EyeState_Interval=1]="EyeState_Interval",t[t.EyeState_Closing=2]="EyeState_Closing",t[t.EyeState_Closed=3]="EyeState_Closed",t[t.EyeState_Opening=4]="EyeState_Opening"}(Vt||(Vt={})),Vt))();!function(t){t.CubismEyeBlink=_g,t.EyeState=Vt}(ZM||(ZM={}));const QM="FadeInTime";class ga{constructor(){this._fadeTimeSeconds=.5,this._lastModel=null,this._partGroups=new Z,this._partGroupCounts=new Z}static create(e,n){const r=new ga,i=Mt.create(e,n),s=i.getRoot();s.getValueByString(QM).isNull()||(r._fadeTimeSeconds=s.getValueByString(QM).toFloat(.5),r._fadeTimeSeconds<=0&&(r._fadeTimeSeconds=.5));const o=s.getValueByString("Groups"),a=o.getSize();for(let l=0;l<a;++l){const u=o.getValueByIndex(l),c=u.getSize();let d=0;for(let h=0;h<c;++h){const f=u.getValueByIndex(h),g=new pa,p=de.getIdManager().getId(f.getValueByString("Id").getRawString());if(g.partId=p,!f.getValueByString("Link").isNull()){const m=f.getValueByString("Link"),_=m.getSize();for(let v=0;v<_;++v){const y=new pa,C=de.getIdManager().getId(m.getValueByIndex(v).getString());y.partId=C,g.link.pushBack(y)}}r._partGroups.pushBack(g.clone()),++d}r._partGroupCounts.pushBack(d)}return Mt.delete(i),r}static delete(e){null!=e&&(e=null)}updateParameters(e,n){e!=this._lastModel&&this.reset(e),this._lastModel=e,n<0&&(n=0);let r=0;for(let i=0;i<this._partGroupCounts.getSize();i++){const s=this._partGroupCounts.at(i);this.doFade(e,n,r,s),r+=s}this.copyPartOpacities(e)}reset(e){let n=0;for(let r=0;r<this._partGroupCounts.getSize();++r){const i=this._partGroupCounts.at(r);for(let s=n;s<n+i;++s){this._partGroups.at(s).initialize(e);const o=this._partGroups.at(s).partIndex,a=this._partGroups.at(s).parameterIndex;if(!(o<0)){e.setPartOpacityByIndex(o,s==n?1:0),e.setParameterValueByIndex(a,s==n?1:0);for(let l=0;l<this._partGroups.at(s).link.getSize();++l)this._partGroups.at(s).link.at(l).initialize(e)}}n+=i}}copyPartOpacities(e){for(let n=0;n<this._partGroups.getSize();++n){const r=this._partGroups.at(n);if(0==r.link.getSize())continue;const i=this._partGroups.at(n).partIndex,s=e.getPartOpacityByIndex(i);for(let o=0;o<r.link.getSize();++o){const l=r.link.at(o).partIndex;l<0||e.setPartOpacityByIndex(l,s)}}}doFade(e,n,r,i){let s=-1,o=1;const a=.5;for(let u=r;u<r+i;++u){const c=this._partGroups.at(u).partIndex,d=this._partGroups.at(u).parameterIndex;if(e.getParameterValueByIndex(d)>.001){if(s>=0)break;s=u,o=e.getPartOpacityByIndex(c),o+=n/this._fadeTimeSeconds,o>1&&(o=1)}}s<0&&(s=0,o=1);for(let u=r;u<r+i;++u){const c=this._partGroups.at(u).partIndex;if(s==u)e.setPartOpacityByIndex(c,o);else{let h,d=e.getPartOpacityByIndex(c);h=o<a?o*(a-1)/a+1:(1-o)*a/.5,(1-h)*(1-o)>.15&&(h=1-.15/(1-o)),d>h&&(d=h),e.setPartOpacityByIndex(c,d)}}}}class pa{constructor(e){if(this.parameterIndex=0,this.partIndex=0,this.link=new Z,null!=e){this.partId=e.partId;for(const n=e.link.begin();n.notEqual(e.link.end());n.preIncrement())this.link.pushBack(n.ptr().clone())}}assignment(e){this.partId=e.partId;for(const n=e.link.begin();n.notEqual(e.link.end());n.preIncrement())this.link.pushBack(n.ptr().clone());return this}initialize(e){this.parameterIndex=e.getParameterIndex(this.partId),this.partIndex=e.getPartIndex(this.partId),e.setParameterValueByIndex(this.parameterIndex,1)}clone(){const e=new pa;e.partId=this.partId,e.parameterIndex=this.parameterIndex,e.partIndex=this.partIndex,e.link=new Z;for(let n=this.link.begin();n.notEqual(this.link.end());n.increment())e.link.pushBack(n.ptr().clone());return e}}var eS,nS,rS;!function(t){t.CubismPose=ga,t.PartData=pa}(eS||(eS={}));class tS extends Ye{constructor(e,n){super(),this._width=void 0!==e?e:0,this._height=void 0!==n?n:0,this.setHeight(2)}setWidth(e){const n=e/this._width;this.scale(n,n)}setHeight(e){const n=e/this._height;this.scale(n,n)}setPosition(e,n){this.translate(e,n)}setCenterPosition(e,n){this.centerX(e),this.centerY(n)}top(e){this.setY(e)}bottom(e){const n=this._height*this.getScaleY();this.translateY(e-n)}left(e){this.setX(e)}right(e){const n=this._width*this.getScaleX();this.translateX(e-n)}centerX(e){const n=this._width*this.getScaleX();this.translateX(e-n/2)}setX(e){this.translateX(e)}centerY(e){const n=this._height*this.getScaleY();this.translateY(e-n/2)}setY(e){this.translateY(e)}setupFromLayout(e){for(const h=e.begin();h.notEqual(e.end());h.preIncrement()){const f=h.ptr().first,g=h.ptr().second;"width"==f?this.setWidth(g):"height"==f&&this.setHeight(g)}for(const h=e.begin();h.notEqual(e.end());h.preIncrement()){const f=h.ptr().first,g=h.ptr().second;"x"==f?this.setX(g):"y"==f?this.setY(g):"center_x"==f?this.centerX(g):"center_y"==f?this.centerY(g):"top"==f?this.top(g):"bottom"==f?this.bottom(g):"left"==f?this.left(g):"right"==f&&this.right(g)}}}!function(t){t.CubismModelMatrix=tS}(nS||(nS={}));class B{constructor(e,n){this.x=e,this.y=n,this.x=e??0,this.y=n??0}add(e){const n=new B(0,0);return n.x=this.x+e.x,n.y=this.y+e.y,n}substract(e){const n=new B(0,0);return n.x=this.x-e.x,n.y=this.y-e.y,n}multiply(e){const n=new B(0,0);return n.x=this.x*e.x,n.y=this.y*e.y,n}multiplyByScaler(e){return this.multiply(new B(e,e))}division(e){const n=new B(0,0);return n.x=this.x/e.x,n.y=this.y/e.y,n}divisionByScalar(e){return this.division(new B(e,e))}getLength(){return Math.sqrt(this.x*this.x+this.y*this.y)}getDistanceWith(e){return Math.sqrt((this.x-e.x)*(this.x-e.x)+(this.y-e.y)*(this.y-e.y))}dot(e){return this.x*e.x+this.y*e.y}normalize(){const e=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/e,this.y=this.y/e}isEqual(e){return this.x==e.x&&this.y==e.y}isNotEqual(e){return!this.isEqual(e)}}!function(t){t.CubismVector2=B}(rS||(rS={}));let re=(()=>{class t{constructor(){}static range(n,r,i){return n<r?n=r:n>i&&(n=i),n}static sin(n){return Math.sin(n)}static cos(n){return Math.cos(n)}static abs(n){return Math.abs(n)}static sqrt(n){return Math.sqrt(n)}static cbrt(n){if(0===n)return n;let r=n;const i=r<0;let s;return i&&(r=-r),r===1/0?s=1/0:(s=Math.exp(Math.log(r)/3),s=(r/(s*s)+2*s)/3),i?-s:s}static getEasingSine(n){return n<0?0:n>1?1:.5-.5*this.cos(n*Math.PI)}static max(n,r){return n>r?n:r}static min(n,r){return n>r?r:n}static degreesToRadian(n){return n/180*Math.PI}static radianToDegrees(n){return 180*n/Math.PI}static directionToRadian(n,r){let o=Math.atan2(r.y,r.x)-Math.atan2(n.y,n.x);for(;o<-Math.PI;)o+=2*Math.PI;for(;o>Math.PI;)o-=2*Math.PI;return o}static directionToDegrees(n,r){const i=this.directionToRadian(n,r);let s=this.radianToDegrees(i);return r.x-n.x>0&&(s=-s),s}static radianToDirection(n){const r=new B;return r.x=this.sin(n),r.y=this.cos(n),r}static quadraticEquation(n,r,i){return this.abs(n)<t.Epsilon?this.abs(r)<t.Epsilon?-i:-i/r:-(r+this.sqrt(r*r-4*n*i))/(2*n)}static cardanoAlgorithmForBezier(n,r,i,s){if(this.sqrt(n)<t.Epsilon)return this.range(this.quadraticEquation(r,i,s),0,1);const o=r/n,a=i/n,u=(3*a-o*o)/3,c=u/3,d=(2*o*o*o-9*o*a+s/n*27)/27,h=d/2,f=h*h+c*c*c,p=.51;if(f<0){const C=-u/3,J=this.sqrt(C*C*C),ba=this.range(-d/(2*J),-1,1),xi=Math.acos(ba),Ii=2*this.cbrt(J),Us=Ii*this.cos(xi/3)-o/3;if(this.abs(Us-.5)<p)return this.range(Us,0,1);const Hs=Ii*this.cos((xi+2*Math.PI)/3)-o/3;if(this.abs(Hs-.5)<p)return this.range(Hs,0,1);const xa=Ii*this.cos((xi+4*Math.PI)/3)-o/3;return this.range(xa,0,1)}if(0==f){let C;C=h<0?this.cbrt(-h):-this.cbrt(h);const x=2*C-o/3;return this.abs(x-.5)<p?this.range(x,0,1):this.range(-C-o/3,0,1)}const m=this.sqrt(f),_=this.cbrt(m-h),v=this.cbrt(m+h);return this.range(_-v-o/3,0,1)}}return t.Epsilon=1e-5,t})();var iS,aS,lS;!function(t){t.CubismMath=re}(iS||(iS={}));class oS{constructor(){this._faceTargetX=0,this._faceTargetY=0,this._faceX=0,this._faceY=0,this._faceVX=0,this._faceVY=0,this._lastTimeSeconds=0,this._userTimeSeconds=0}update(e){this._userTimeSeconds+=e;const r=4/30;if(0==this._lastTimeSeconds)return void(this._lastTimeSeconds=this._userTimeSeconds);const i=30*(this._userTimeSeconds-this._lastTimeSeconds);this._lastTimeSeconds=this._userTimeSeconds;const a=i*r/4.5,l=this._faceTargetX-this._faceX,u=this._faceTargetY-this._faceY;if(re.abs(l)<=.01&&re.abs(u)<=.01)return;const c=re.sqrt(l*l+u*u);let f=r*l/c-this._faceVX,g=r*u/c-this._faceVY;const p=re.sqrt(f*f+g*g);(p<-a||p>a)&&(f*=a/p,g*=a/p),this._faceVX+=f,this._faceVY+=g;{const m=.5*(re.sqrt(a*a+16*a*c-8*a*c)-a),_=re.sqrt(this._faceVX*this._faceVX+this._faceVY*this._faceVY);_>m&&(this._faceVX*=m/_,this._faceVY*=m/_)}this._faceX+=this._faceVX,this._faceY+=this._faceVY}getX(){return this._faceX}getY(){return this._faceY}set(e,n){this._faceTargetX=e,this._faceTargetY=n}}!function(t){t.CubismTargetPoint=oS}(aS||(aS={}));class Ns{constructor(){this.setFinishedMotionHandler=e=>this._onFinishedMotion=e,this.getFinishedMotionHandler=()=>this._onFinishedMotion,this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=new Z}static delete(e){e.release(),e=null}release(){this._weight=0}updateParameters(e,n,r){if(!n.isAvailable()||n.isFinished())return;if(!n.isStarted()){n.setIsStarted(!0),n.setStartTime(r-this._offsetSeconds),n.setFadeInStartTime(r);const a=this.getDuration();n.getEndTime()<0&&n.setEndTime(a<=0?-1:n.getStartTime()+a)}let i=this._weight;i=i*(0==this._fadeInSeconds?1:re.getEasingSine((r-n.getFadeInStartTime())/this._fadeInSeconds))*(0==this._fadeOutSeconds||n.getEndTime()<0?1:re.getEasingSine((n.getEndTime()-r)/this._fadeOutSeconds)),n.setState(r,i),nr(0<=i&&i<=1),this.doUpdateParameters(e,r,i,n),n.getEndTime()>0&&n.getEndTime()<r&&n.setIsFinished(!0)}setFadeInTime(e){this._fadeInSeconds=e}setFadeOutTime(e){this._fadeOutSeconds=e}getFadeOutTime(){return this._fadeOutSeconds}getFadeInTime(){return this._fadeInSeconds}setWeight(e){this._weight=e}getWeight(){return this._weight}getDuration(){return-1}getLoopDuration(){return-1}setOffsetTime(e){this._offsetSeconds=e}getFiredEvent(e,n){return this._firedEventValues}}!function(t){t.ACubismMotion=Ns}(lS||(lS={}));const uS="Parameters",Bu="Blend";class Lu extends Ns{constructor(){super(),this._parameters=new Z}static create(e,n){const r=new Lu,i=Mt.create(e,n),s=i.getRoot();r.setFadeInTime(s.getValueByString("FadeInTime").toFloat(1)),r.setFadeOutTime(s.getValueByString("FadeOutTime").toFloat(1));const o=s.getValueByString(uS).getSize();r._parameters.prepareCapacity(o);for(let a=0;a<o;++a){const l=s.getValueByString(uS).getValueByIndex(a),u=de.getIdManager().getId(l.getValueByString("Id").getRawString()),c=l.getValueByString("Value").toFloat();let d;d=l.getValueByString(Bu).isNull()||"Add"==l.getValueByString(Bu).getString()?Ln.ExpressionBlendType_Add:"Multiply"==l.getValueByString(Bu).getString()?Ln.ExpressionBlendType_Multiply:"Overwrite"==l.getValueByString(Bu).getString()?Ln.ExpressionBlendType_Overwrite:Ln.ExpressionBlendType_Add;const h=new dS;h.parameterId=u,h.blendType=d,h.value=c,r._parameters.pushBack(h)}return Mt.delete(i),r}doUpdateParameters(e,n,r,i){for(let s=0;s<this._parameters.getSize();++s){const o=this._parameters.at(s);switch(o.blendType){case Ln.ExpressionBlendType_Add:e.addParameterValueById(o.parameterId,o.value,r);break;case Ln.ExpressionBlendType_Multiply:e.multiplyParameterValueById(o.parameterId,o.value,r);break;case Ln.ExpressionBlendType_Overwrite:e.setParameterValueById(o.parameterId,o.value,r)}}}}var hS,Ln=(()=>(function(t){t[t.ExpressionBlendType_Add=0]="ExpressionBlendType_Add",t[t.ExpressionBlendType_Multiply=1]="ExpressionBlendType_Multiply",t[t.ExpressionBlendType_Overwrite=2]="ExpressionBlendType_Overwrite"}(Ln||(Ln={})),Ln))();class dS{}!function(t){t.CubismExpressionMotion=Lu,t.ExpressionBlendType=Ln,t.ExpressionParameter=dS}(hS||(hS={}));var _S,jn=(()=>(function(t){t[t.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",t[t.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",t[t.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity"}(jn||(jn={})),jn))(),nn=(()=>(function(t){t[t.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",t[t.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",t[t.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",t[t.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped"}(nn||(nn={})),nn))();class Cg{constructor(){this.time=0,this.value=0}}class fS{constructor(){this.evaluate=null,this.basePointIndex=0,this.segmentType=0}}class gS{constructor(){this.type=jn.CubismMotionCurveTarget_Model,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}}class pS{constructor(){this.fireTime=0}}class mS{constructor(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=new Z,this.segments=new Z,this.points=new Z,this.events=new Z}}!function(t){t.CubismMotionCurve=gS,t.CubismMotionCurveTarget=jn,t.CubismMotionData=mS,t.CubismMotionEvent=pS,t.CubismMotionPoint=Cg,t.CubismMotionSegment=fS,t.CubismMotionSegmentType=nn}(_S||(_S={}));const rn="Meta",Wr="Curves",ju="FadeInTime",Uu="FadeOutTime",yS="Segments",vS="UserData";class CS{constructor(e,n){this._json=Mt.create(e,n)}release(){Mt.delete(this._json)}getMotionDuration(){return this._json.getRoot().getValueByString(rn).getValueByString("Duration").toFloat()}isMotionLoop(){return this._json.getRoot().getValueByString(rn).getValueByString("Loop").toBoolean()}getEvaluationOptionFlag(e){return ma.EvaluationOptionFlag_AreBeziersRistricted==e&&this._json.getRoot().getValueByString(rn).getValueByString("AreBeziersRestricted").toBoolean()}getMotionCurveCount(){return this._json.getRoot().getValueByString(rn).getValueByString("CurveCount").toInt()}getMotionFps(){return this._json.getRoot().getValueByString(rn).getValueByString("Fps").toFloat()}getMotionTotalSegmentCount(){return this._json.getRoot().getValueByString(rn).getValueByString("TotalSegmentCount").toInt()}getMotionTotalPointCount(){return this._json.getRoot().getValueByString(rn).getValueByString("TotalPointCount").toInt()}isExistMotionFadeInTime(){return!this._json.getRoot().getValueByString(rn).getValueByString(ju).isNull()}isExistMotionFadeOutTime(){return!this._json.getRoot().getValueByString(rn).getValueByString(Uu).isNull()}getMotionFadeInTime(){return this._json.getRoot().getValueByString(rn).getValueByString(ju).toFloat()}getMotionFadeOutTime(){return this._json.getRoot().getValueByString(rn).getValueByString(Uu).toFloat()}getMotionCurveTarget(e){return this._json.getRoot().getValueByString(Wr).getValueByIndex(e).getValueByString("Target").getRawString()}getMotionCurveId(e){return de.getIdManager().getId(this._json.getRoot().getValueByString(Wr).getValueByIndex(e).getValueByString("Id").getRawString())}isExistMotionCurveFadeInTime(e){return!this._json.getRoot().getValueByString(Wr).getValueByIndex(e).getValueByString(ju).isNull()}isExistMotionCurveFadeOutTime(e){return!this._json.getRoot().getValueByString(Wr).getValueByIndex(e).getValueByString(Uu).isNull()}getMotionCurveFadeInTime(e){return this._json.getRoot().getValueByString(Wr).getValueByIndex(e).getValueByString(ju).toFloat()}getMotionCurveFadeOutTime(e){return this._json.getRoot().getValueByString(Wr).getValueByIndex(e).getValueByString(Uu).toFloat()}getMotionCurveSegmentCount(e){return this._json.getRoot().getValueByString(Wr).getValueByIndex(e).getValueByString(yS).getVector().getSize()}getMotionCurveSegment(e,n){return this._json.getRoot().getValueByString(Wr).getValueByIndex(e).getValueByString(yS).getValueByIndex(n).toFloat()}getEventCount(){return this._json.getRoot().getValueByString(rn).getValueByString("UserDataCount").toInt()}getTotalEventValueSize(){return this._json.getRoot().getValueByString(rn).getValueByString("TotalUserDataSize").toInt()}getEventTime(e){return this._json.getRoot().getValueByString(vS).getValueByIndex(e).getValueByString("Time").toFloat()}getEventValue(e){return new pn(this._json.getRoot().getValueByString(vS).getValueByIndex(e).getValueByString("Value").getRawString())}}var wS,DS,SS,ma=(()=>(function(t){t[t.EvaluationOptionFlag_AreBeziersRistricted=0]="EvaluationOptionFlag_AreBeziersRistricted"}(ma||(ma={})),ma))();function gt(t,e,n){const r=new Cg;return r.time=t.time+(e.time-t.time)*n,r.value=t.value+(e.value-t.value)*n,r}function L2(t,e){let n=(e-t[0].time)/(t[1].time-t[0].time);return n<0&&(n=0),t[0].value+(t[1].value-t[0].value)*n}function j2(t,e){let n=(e-t[0].time)/(t[3].time-t[0].time);n<0&&(n=0);const r=gt(t[0],t[1],n),i=gt(t[1],t[2],n),s=gt(t[2],t[3],n),o=gt(r,i,n),a=gt(i,s,n);return gt(o,a,n).value}function U2(t,e){const r=t[0].time,s=t[1].time,o=t[2].time,d=re.cardanoAlgorithmForBezier(t[3].time-3*o+3*s-r,3*o-6*s+3*r,3*s-3*r,r-e),h=gt(t[0],t[1],d),f=gt(t[1],t[2],d),g=gt(t[2],t[3],d),p=gt(h,f,d),m=gt(f,g,d);return gt(p,m,d).value}function H2(t,e){return t[0].value}function $2(t,e){return t[1].value}function wg(t,e,n){const r=t.curves.at(e);let i=-1;const s=r.baseSegmentIndex+r.segmentCount;let o=0;for(let l=r.baseSegmentIndex;l<s;++l)if(o=t.segments.at(l).basePointIndex+(t.segments.at(l).segmentType==nn.CubismMotionSegmentType_Bezier?3:1),t.points.at(o).time>n){i=l;break}if(-1==i)return t.points.at(o).value;const a=t.segments.at(i);return a.evaluate(t.points.get(a.basePointIndex),n)}!function(t){t.CubismMotionJson=CS}(wS||(wS={}));class Hu extends Ns{constructor(){super(),this._sourceFrameRate=30,this._loopDurationSeconds=-1,this._isLoop=!1,this._isLoopFadeIn=!0,this._lastWeight=0,this._motionData=null,this._modelCurveIdEyeBlink=null,this._modelCurveIdLipSync=null,this._eyeBlinkParameterIds=null,this._lipSyncParameterIds=null}static create(e,n,r){const i=new Hu;return i.parse(e,n),i._sourceFrameRate=i._motionData.fps,i._loopDurationSeconds=i._motionData.duration,i._onFinishedMotion=r,i}doUpdateParameters(e,n,r,i){null==this._modelCurveIdEyeBlink&&(this._modelCurveIdEyeBlink=de.getIdManager().getId("EyeBlink")),null==this._modelCurveIdLipSync&&(this._modelCurveIdLipSync=de.getIdManager().getId("LipSync"));let s=n-i.getStartTime();s<0&&(s=0);let o=Number.MAX_VALUE,a=Number.MAX_VALUE;const l=64;let u=0,c=0;this._eyeBlinkParameterIds.getSize()>l&&Ts("too many eye blink targets : {0}",this._eyeBlinkParameterIds.getSize()),this._lipSyncParameterIds.getSize()>l&&Ts("too many lip sync targets : {0}",this._lipSyncParameterIds.getSize());const d=this._fadeInSeconds<=0?1:re.getEasingSine((n-i.getFadeInStartTime())/this._fadeInSeconds),h=this._fadeOutSeconds<=0||i.getEndTime()<0?1:re.getEasingSine((i.getEndTime()-n)/this._fadeOutSeconds);let f,g,p,m=s;if(this._isLoop)for(;m>this._motionData.duration;)m-=this._motionData.duration;const _=this._motionData.curves;for(g=0;g<this._motionData.curveCount&&_.at(g).type==jn.CubismMotionCurveTarget_Model;++g)f=wg(this._motionData,g,m),_.at(g).id==this._modelCurveIdEyeBlink?a=f:_.at(g).id==this._modelCurveIdLipSync&&(o=f);for(;g<this._motionData.curveCount&&_.at(g).type==jn.CubismMotionCurveTarget_Parameter;++g){if(p=e.getParameterIndex(_.at(g).id),-1==p)continue;const y=e.getParameterValueByIndex(p);if(f=wg(this._motionData,g,m),a!=Number.MAX_VALUE)for(let x=0;x<this._eyeBlinkParameterIds.getSize()&&x<l;++x)if(this._eyeBlinkParameterIds.at(x)==_.at(g).id){f*=a,c|=1<<x;break}if(o!=Number.MAX_VALUE)for(let x=0;x<this._lipSyncParameterIds.getSize()&&x<l;++x)if(this._lipSyncParameterIds.at(x)==_.at(g).id){f+=o,u|=1<<x;break}let C;if(_.at(g).fadeInTime<0&&_.at(g).fadeOutTime<0)C=y+(f-y)*r;else{let x,J;x=_.at(g).fadeInTime<0?d:0==_.at(g).fadeInTime?1:re.getEasingSine((n-i.getFadeInStartTime())/_.at(g).fadeInTime),J=_.at(g).fadeOutTime<0?h:0==_.at(g).fadeOutTime||i.getEndTime()<0?1:re.getEasingSine((i.getEndTime()-n)/_.at(g).fadeOutTime),C=y+this._weight*x*J*(f-y)}e.setParameterValueByIndex(p,C,1)}if(a!=Number.MAX_VALUE)for(let y=0;y<this._eyeBlinkParameterIds.getSize()&&y<l;++y){const C=e.getParameterValueById(this._eyeBlinkParameterIds.at(y));if(c>>y&1)continue;const x=C+(a-C)*r;e.setParameterValueById(this._eyeBlinkParameterIds.at(y),x)}if(o!=Number.MAX_VALUE)for(let y=0;y<this._lipSyncParameterIds.getSize()&&y<l;++y){const C=e.getParameterValueById(this._lipSyncParameterIds.at(y));if(u>>y&1)continue;const x=C+(o-C)*r;e.setParameterValueById(this._lipSyncParameterIds.at(y),x)}for(;g<this._motionData.curveCount&&_.at(g).type==jn.CubismMotionCurveTarget_PartOpacity;++g)p=e.getParameterIndex(_.at(g).id),-1!=p&&(f=wg(this._motionData,g,m),e.setParameterValueByIndex(p,f));s>=this._motionData.duration&&(this._isLoop?(i.setStartTime(n),this._isLoopFadeIn&&i.setFadeInStartTime(n)):(this._onFinishedMotion&&this._onFinishedMotion(this),i.setIsFinished(!0))),this._lastWeight=r}setIsLoop(e){this._isLoop=e}isLoop(){return this._isLoop}setIsLoopFadeIn(e){this._isLoopFadeIn=e}isLoopFadeIn(){return this._isLoopFadeIn}getDuration(){return this._isLoop?-1:this._loopDurationSeconds}getLoopDuration(){return this._loopDurationSeconds}setParameterFadeInTime(e,n){const r=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==r.at(i).id)return void(r.at(i).fadeInTime=n)}setParameterFadeOutTime(e,n){const r=this._motionData.curves;for(let i=0;i<this._motionData.curveCount;++i)if(e==r.at(i).id)return void(r.at(i).fadeOutTime=n)}getParameterFadeInTime(e){const n=this._motionData.curves;for(let r=0;r<this._motionData.curveCount;++r)if(e==n.at(r).id)return n.at(r).fadeInTime;return-1}getParameterFadeOutTime(e){const n=this._motionData.curves;for(let r=0;r<this._motionData.curveCount;++r)if(e==n.at(r).id)return n.at(r).fadeOutTime;return-1}setEffectIds(e,n){this._eyeBlinkParameterIds=e,this._lipSyncParameterIds=n}release(){this._motionData=void 0,this._motionData=null}parse(e,n){this._motionData=new mS;let r=new CS(e,n);this._motionData.duration=r.getMotionDuration(),this._motionData.loop=r.isMotionLoop(),this._motionData.curveCount=r.getMotionCurveCount(),this._motionData.fps=r.getMotionFps(),this._motionData.eventCount=r.getEventCount();const i=r.getEvaluationOptionFlag(ma.EvaluationOptionFlag_AreBeziersRistricted);this._fadeInSeconds=r.isExistMotionFadeInTime()?r.getMotionFadeInTime()<0?1:r.getMotionFadeInTime():1,this._fadeOutSeconds=r.isExistMotionFadeOutTime()?r.getMotionFadeOutTime()<0?1:r.getMotionFadeOutTime():1,this._motionData.curves.updateSize(this._motionData.curveCount,gS,!0),this._motionData.segments.updateSize(r.getMotionTotalSegmentCount(),fS,!0),this._motionData.points.updateSize(r.getMotionTotalPointCount(),Cg,!0),this._motionData.events.updateSize(this._motionData.eventCount,pS,!0);let s=0,o=0;for(let a=0;a<this._motionData.curveCount;++a){"Model"==r.getMotionCurveTarget(a)?this._motionData.curves.at(a).type=jn.CubismMotionCurveTarget_Model:"Parameter"==r.getMotionCurveTarget(a)?this._motionData.curves.at(a).type=jn.CubismMotionCurveTarget_Parameter:"PartOpacity"==r.getMotionCurveTarget(a)?this._motionData.curves.at(a).type=jn.CubismMotionCurveTarget_PartOpacity:br('Warning : Unable to get segment type from Curve! The number of "CurveCount" may be incorrect!'),this._motionData.curves.at(a).id=r.getMotionCurveId(a),this._motionData.curves.at(a).baseSegmentIndex=o,this._motionData.curves.at(a).fadeInTime=r.isExistMotionCurveFadeInTime(a)?r.getMotionCurveFadeInTime(a):-1,this._motionData.curves.at(a).fadeOutTime=r.isExistMotionCurveFadeOutTime(a)?r.getMotionCurveFadeOutTime(a):-1;for(let l=0;l<r.getMotionCurveSegmentCount(a);){switch(0==l?(this._motionData.segments.at(o).basePointIndex=s,this._motionData.points.at(s).time=r.getMotionCurveSegment(a,l),this._motionData.points.at(s).value=r.getMotionCurveSegment(a,l+1),s+=1,l+=2):this._motionData.segments.at(o).basePointIndex=s-1,r.getMotionCurveSegment(a,l)){case nn.CubismMotionSegmentType_Linear:this._motionData.segments.at(o).segmentType=nn.CubismMotionSegmentType_Linear,this._motionData.segments.at(o).evaluate=L2,this._motionData.points.at(s).time=r.getMotionCurveSegment(a,l+1),this._motionData.points.at(s).value=r.getMotionCurveSegment(a,l+2),s+=1,l+=3;break;case nn.CubismMotionSegmentType_Bezier:this._motionData.segments.at(o).segmentType=nn.CubismMotionSegmentType_Bezier,this._motionData.segments.at(o).evaluate=i?j2:U2,this._motionData.points.at(s).time=r.getMotionCurveSegment(a,l+1),this._motionData.points.at(s).value=r.getMotionCurveSegment(a,l+2),this._motionData.points.at(s+1).time=r.getMotionCurveSegment(a,l+3),this._motionData.points.at(s+1).value=r.getMotionCurveSegment(a,l+4),this._motionData.points.at(s+2).time=r.getMotionCurveSegment(a,l+5),this._motionData.points.at(s+2).value=r.getMotionCurveSegment(a,l+6),s+=3,l+=7;break;case nn.CubismMotionSegmentType_Stepped:this._motionData.segments.at(o).segmentType=nn.CubismMotionSegmentType_Stepped,this._motionData.segments.at(o).evaluate=H2,this._motionData.points.at(s).time=r.getMotionCurveSegment(a,l+1),this._motionData.points.at(s).value=r.getMotionCurveSegment(a,l+2),s+=1,l+=3;break;case nn.CubismMotionSegmentType_InverseStepped:this._motionData.segments.at(o).segmentType=nn.CubismMotionSegmentType_InverseStepped,this._motionData.segments.at(o).evaluate=$2,this._motionData.points.at(s).time=r.getMotionCurveSegment(a,l+1),this._motionData.points.at(s).value=r.getMotionCurveSegment(a,l+2),s+=1,l+=3;break;default:nr(0)}++this._motionData.curves.at(a).segmentCount,++o}}for(let a=0;a<r.getEventCount();++a)this._motionData.events.at(a).fireTime=r.getEventTime(a),this._motionData.events.at(a).value=r.getEventValue(a);r.release(),r=void 0,r=null}getFiredEvent(e,n){this._firedEventValues.updateSize(0);for(let r=0;r<this._motionData.eventCount;++r)this._motionData.events.at(r).fireTime>e&&this._motionData.events.at(r).fireTime<=n&&this._firedEventValues.pushBack(new pn(this._motionData.events.at(r).value.s));return this._firedEventValues}}!function(t){t.CubismMotion=Hu}(DS||(DS={}));class MS{constructor(){this._autoDelete=!1,this._motion=null,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this,this._fadeOutSeconds=0,this._isTriggeredFadeOut=!1}release(){this._autoDelete&&this._motion&&Ns.delete(this._motion)}setFadeOut(e){this._fadeOutSeconds=e,this._isTriggeredFadeOut=!0}startFadeOut(e,n){const r=n+e;this._isTriggeredFadeOut=!0,(this._endTimeSeconds<0||r<this._endTimeSeconds)&&(this._endTimeSeconds=r)}isFinished(){return this._finished}isStarted(){return this._started}getStartTime(){return this._startTimeSeconds}getFadeInStartTime(){return this._fadeInStartTimeSeconds}getEndTime(){return this._endTimeSeconds}setStartTime(e){this._startTimeSeconds=e}setFadeInStartTime(e){this._fadeInStartTimeSeconds=e}setEndTime(e){this._endTimeSeconds=e}setIsFinished(e){this._finished=e}setIsStarted(e){this._started=e}isAvailable(){return this._available}setIsAvailable(e){this._available=e}setState(e,n){this._stateTimeSeconds=e,this._stateWeight=n}getStateTime(){return this._stateTimeSeconds}getStateWeight(){return this._stateWeight}getLastCheckEventSeconds(){return this._lastEventCheckSeconds}setLastCheckEventSeconds(e){this._lastEventCheckSeconds=e}isTriggeredFadeOut(){return this._isTriggeredFadeOut}getFadeOutSeconds(){return this._fadeOutSeconds}}!function(t){t.CubismMotionQueueEntry=MS}(SS||(SS={}));class bS{constructor(){this._userTimeSeconds=0,this._eventCallBack=null,this._eventCustomData=null,this._motions=new Z}release(){for(let e=0;e<this._motions.getSize();++e)this._motions.at(e)&&(this._motions.at(e).release(),this._motions.set(e,null));this._motions=null}startMotion(e,n,r){if(null==e)return $u;let i=null;for(let s=0;s<this._motions.getSize();++s)i=this._motions.at(s),i?.setFadeOut(i._motion.getFadeOutTime());return i=new MS,i._autoDelete=n,i._motion=e,this._motions.pushBack(i),i._motionQueueEntryHandle}isFinished(){for(let e=this._motions.begin();e.notEqual(this._motions.end());){let n=e.ptr();if(null!=n)if(null!=n._motion){if(!n.isFinished())return!1;e.preIncrement()}else n.release(),n=null,e=this._motions.erase(e);else e=this._motions.erase(e)}return!0}isFinishedByHandle(e){for(let n=this._motions.begin();n.notEqual(this._motions.end());n.increment()){const r=n.ptr();if(null!=r&&r._motionQueueEntryHandle==e&&!r.isFinished())return!1}return!0}stopAllMotions(){for(let e=this._motions.begin();e.notEqual(this._motions.end());){let n=e.ptr();null!=n?(n.release(),n=null,e=this._motions.erase(e)):e=this._motions.erase(e)}}getCubismMotionQueueEntry(e){for(let n=this._motions.begin();n.notEqual(this._motions.end());n.preIncrement()){const r=n.ptr();if(null!=r&&r._motionQueueEntryHandle==e)return r}return null}setEventCallback(e,n=null){this._eventCallBack=e,this._eventCustomData=n}doUpdateMotion(e,n){let r=!1;for(let i=this._motions.begin();i.notEqual(this._motions.end());){let s=i.ptr();if(null==s){i=this._motions.erase(i);continue}const o=s._motion;if(null==o){s.release(),s=null,i=this._motions.erase(i);continue}o.updateParameters(e,s,n),r=!0;const a=o.getFiredEvent(s.getLastCheckEventSeconds()-s.getStartTime(),n-s.getStartTime());for(let l=0;l<a.getSize();++l)this._eventCallBack(this,a.at(l),this._eventCustomData);s.setLastCheckEventSeconds(n),s.isFinished()?(s.release(),s=null,i=this._motions.erase(i)):(s.isTriggeredFadeOut()&&s.startFadeOut(s.getFadeOutSeconds(),n),i.preIncrement())}return r}}const $u=-1;var ES,xS;!function(t){t.CubismMotionQueueManager=bS,t.InvalidMotionQueueEntryHandleValue=$u}(ES||(ES={}));class _a extends bS{constructor(){super(),this._currentPriority=0,this._reservePriority=0}getCurrentPriority(){return this._currentPriority}getReservePriority(){return this._reservePriority}setReservePriority(e){this._reservePriority=e}startMotionPriority(e,n,r){return r==this._reservePriority&&(this._reservePriority=0),this._currentPriority=r,super.startMotion(e,n,this._userTimeSeconds)}updateMotion(e,n){this._userTimeSeconds+=n;const r=super.doUpdateMotion(e,this._userTimeSeconds);return this.isFinished()&&(this._currentPriority=0),r}reserveMotion(e){return!(e<=this._reservePriority||e<=this._currentPriority||(this._reservePriority=e,0))}}!function(t){t.CubismMotionManager=_a}(xS||(xS={}));var FS,ks=(()=>(function(t){t[t.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter"}(ks||(ks={})),ks))(),rr=(()=>(function(t){t[t.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",t[t.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",t[t.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle"}(rr||(rr={})),rr))();class z2{constructor(){this.gravity=new B(0,0),this.wind=new B(0,0)}}class Dg{}class Mg{}class IS{constructor(){this.initialPosition=new B(0,0),this.position=new B(0,0),this.lastPosition=new B(0,0),this.lastGravity=new B(0,0),this.force=new B(0,0),this.velocity=new B(0,0)}}class TS{constructor(){this.normalizationPosition=new Mg,this.normalizationAngle=new Mg}}class AS{constructor(){this.source=new Dg}}class PS{constructor(){this.destination=new Dg,this.translationScale=new B(0,0)}}class RS{constructor(){this.settings=new Z,this.inputs=new Z,this.outputs=new Z,this.particles=new Z,this.gravity=new B(0,0),this.wind=new B(0,0)}}!function(t){t.CubismPhysicsInput=AS,t.CubismPhysicsNormalization=Mg,t.CubismPhysicsOutput=PS,t.CubismPhysicsParameter=Dg,t.CubismPhysicsParticle=IS,t.CubismPhysicsRig=RS,t.CubismPhysicsSource=rr,t.CubismPhysicsSubRig=TS,t.CubismPhysicsTargetType=ks,t.PhysicsJsonEffectiveForces=z2}(FS||(FS={}));const ya="Position",Eg="Angle",Yr="Meta",zu="EffectiveForces",VS="Gravity",Ae="PhysicsSettings",Vs="Normalization",BS="Minimum",LS="Maximum",jS="Default",US="Reflect",va="Input",Mi="Output",Si="Vertices";class $S{constructor(e,n){this._json=Mt.create(e,n)}release(){Mt.delete(this._json)}getGravity(){const e=new B(0,0);return e.x=this._json.getRoot().getValueByString(Yr).getValueByString(zu).getValueByString(VS).getValueByString("X").toFloat(),e.y=this._json.getRoot().getValueByString(Yr).getValueByString(zu).getValueByString(VS).getValueByString("Y").toFloat(),e}getWind(){const e=new B(0,0);return e.x=this._json.getRoot().getValueByString(Yr).getValueByString(zu).getValueByString("Wind").getValueByString("X").toFloat(),e.y=this._json.getRoot().getValueByString(Yr).getValueByString(zu).getValueByString("Wind").getValueByString("Y").toFloat(),e}getSubRigCount(){return this._json.getRoot().getValueByString(Yr).getValueByString("PhysicsSettingCount").toInt()}getTotalInputCount(){return this._json.getRoot().getValueByString(Yr).getValueByString("TotalInputCount").toInt()}getTotalOutputCount(){return this._json.getRoot().getValueByString(Yr).getValueByString("TotalOutputCount").toInt()}getVertexCount(){return this._json.getRoot().getValueByString(Yr).getValueByString("VertexCount").toInt()}getNormalizationPositionMinimumValue(e){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Vs).getValueByString(ya).getValueByString(BS).toFloat()}getNormalizationPositionMaximumValue(e){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Vs).getValueByString(ya).getValueByString(LS).toFloat()}getNormalizationPositionDefaultValue(e){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Vs).getValueByString(ya).getValueByString(jS).toFloat()}getNormalizationAngleMinimumValue(e){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Vs).getValueByString(Eg).getValueByString(BS).toFloat()}getNormalizationAngleMaximumValue(e){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Vs).getValueByString(Eg).getValueByString(LS).toFloat()}getNormalizationAngleDefaultValue(e){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Vs).getValueByString(Eg).getValueByString(jS).toFloat()}getInputCount(e){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(va).getVector().getSize()}getInputWeight(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(va).getValueByIndex(n).getValueByString("Weight").toFloat()}getInputReflect(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(va).getValueByIndex(n).getValueByString(US).toBoolean()}getInputType(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(va).getValueByIndex(n).getValueByString("Type").getRawString()}getInputSourceId(e,n){return de.getIdManager().getId(this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(va).getValueByIndex(n).getValueByString("Source").getValueByString("Id").getRawString())}getOutputCount(e){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Mi).getVector().getSize()}getOutputVertexIndex(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Mi).getValueByIndex(n).getValueByString("VertexIndex").toInt()}getOutputAngleScale(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Mi).getValueByIndex(n).getValueByString("Scale").toFloat()}getOutputWeight(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Mi).getValueByIndex(n).getValueByString("Weight").toFloat()}getOutputDestinationId(e,n){return de.getIdManager().getId(this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Mi).getValueByIndex(n).getValueByString("Destination").getValueByString("Id").getRawString())}getOutputType(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Mi).getValueByIndex(n).getValueByString("Type").getRawString()}getOutputReflect(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Mi).getValueByIndex(n).getValueByString(US).toBoolean()}getParticleCount(e){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Si).getVector().getSize()}getParticleMobility(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Si).getValueByIndex(n).getValueByString("Mobility").toFloat()}getParticleDelay(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Si).getValueByIndex(n).getValueByString("Delay").toFloat()}getParticleAcceleration(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Si).getValueByIndex(n).getValueByString("Acceleration").toFloat()}getParticleRadius(e,n){return this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Si).getValueByIndex(n).getValueByString("Radius").toFloat()}getParticlePosition(e,n){const r=new B(0,0);return r.x=this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Si).getValueByIndex(n).getValueByString(ya).getValueByString("X").toFloat(),r.y=this._json.getRoot().getValueByString(Ae).getValueByIndex(e).getValueByString(Si).getValueByIndex(n).getValueByString(ya).getValueByString("Y").toFloat(),r}}var zS,KS,ZS;!function(t){t.CubismPhysicsJson=$S}(zS||(zS={}));class Ca{constructor(){this._physicsRig=null,this._options=new XS,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0}static create(e,n){const r=new Ca;return r.parse(e,n),r._physicsRig.gravity.y=0,r}static delete(e){null!=e&&(e.release(),e=null)}evaluate(e,n){let r,i,s,o;const a=new B;let l,u,c,d,h,f,g,p;h=e.getModel().parameters.values,f=e.getModel().parameters.maximumValues,g=e.getModel().parameters.minimumValues,p=e.getModel().parameters.defaultValues;for(let m=0;m<this._physicsRig.subRigCount;++m){r={angle:0},a.x=0,a.y=0,l=this._physicsRig.settings.at(m),u=this._physicsRig.inputs.get(l.baseInputIndex),c=this._physicsRig.outputs.get(l.baseOutputIndex),d=this._physicsRig.particles.get(l.baseParticleIndex);for(let _=0;_<l.inputCount;++_)i=u[_].weight/100,-1==u[_].sourceParameterIndex&&(u[_].sourceParameterIndex=e.getParameterIndex(u[_].source.id)),u[_].getNormalizedParameterValue(a,r,h[u[_].sourceParameterIndex],g[u[_].sourceParameterIndex],f[u[_].sourceParameterIndex],p[u[_].sourceParameterIndex],l.normalizationPosition,l.normalizationAngle,u[_].reflect,i);s=re.degreesToRadian(-r.angle),a.x=a.x*re.cos(s)-a.y*re.sin(s),a.y=a.x*re.sin(s)+a.y*re.cos(s),_j(d,l.particleCount,a,r.angle,this._options.wind,.001*l.normalizationPosition.maximum,n,5);for(let _=0;_<l.outputCount;++_){const v=c[_].vertexIndex;if(v<1||v>=l.particleCount)break;-1==c[_].destinationParameterIndex&&(c[_].destinationParameterIndex=e.getParameterIndex(c[_].destination.id));const y=new B;y.x=d[v].position.x-d[v-1].position.x,y.y=d[v].position.y-d[v-1].position.y,o=c[_].getValue(y,d,v,c[_].reflect,this._options.gravity);const C=c[_].destinationParameterIndex,x=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(h.subarray(C))):h.slice(C);yj(x,g[C],f[C],o,c[_]);for(let J=C,dt=0;J<h.length;J++,dt++)h[J]=x[dt]}}}setOptions(e){this._options=e}getOption(){return this._options}release(){this._physicsRig=void 0,this._physicsRig=null}parse(e,n){this._physicsRig=new RS;let r=new $S(e,n);this._physicsRig.gravity=r.getGravity(),this._physicsRig.wind=r.getWind(),this._physicsRig.subRigCount=r.getSubRigCount(),this._physicsRig.settings.updateSize(this._physicsRig.subRigCount,TS,!0),this._physicsRig.inputs.updateSize(r.getTotalInputCount(),AS,!0),this._physicsRig.outputs.updateSize(r.getTotalOutputCount(),PS,!0),this._physicsRig.particles.updateSize(r.getVertexCount(),IS,!0);let i=0,s=0,o=0;for(let a=0;a<this._physicsRig.settings.getSize();++a){this._physicsRig.settings.at(a).normalizationPosition.minimum=r.getNormalizationPositionMinimumValue(a),this._physicsRig.settings.at(a).normalizationPosition.maximum=r.getNormalizationPositionMaximumValue(a),this._physicsRig.settings.at(a).normalizationPosition.defalut=r.getNormalizationPositionDefaultValue(a),this._physicsRig.settings.at(a).normalizationAngle.minimum=r.getNormalizationAngleMinimumValue(a),this._physicsRig.settings.at(a).normalizationAngle.maximum=r.getNormalizationAngleMaximumValue(a),this._physicsRig.settings.at(a).normalizationAngle.defalut=r.getNormalizationAngleDefaultValue(a),this._physicsRig.settings.at(a).inputCount=r.getInputCount(a),this._physicsRig.settings.at(a).baseInputIndex=i;for(let l=0;l<this._physicsRig.settings.at(a).inputCount;++l)this._physicsRig.inputs.at(i+l).sourceParameterIndex=-1,this._physicsRig.inputs.at(i+l).weight=r.getInputWeight(a,l),this._physicsRig.inputs.at(i+l).reflect=r.getInputReflect(a,l),"X"==r.getInputType(a,l)?(this._physicsRig.inputs.at(i+l).type=rr.CubismPhysicsSource_X,this._physicsRig.inputs.at(i+l).getNormalizedParameterValue=oj):"Y"==r.getInputType(a,l)?(this._physicsRig.inputs.at(i+l).type=rr.CubismPhysicsSource_Y,this._physicsRig.inputs.at(i+l).getNormalizedParameterValue=aj):"Angle"==r.getInputType(a,l)&&(this._physicsRig.inputs.at(i+l).type=rr.CubismPhysicsSource_Angle,this._physicsRig.inputs.at(i+l).getNormalizedParameterValue=lj),this._physicsRig.inputs.at(i+l).source.targetType=ks.CubismPhysicsTargetType_Parameter,this._physicsRig.inputs.at(i+l).source.id=r.getInputSourceId(a,l);i+=this._physicsRig.settings.at(a).inputCount,this._physicsRig.settings.at(a).outputCount=r.getOutputCount(a),this._physicsRig.settings.at(a).baseOutputIndex=s;for(let l=0;l<this._physicsRig.settings.at(a).outputCount;++l)this._physicsRig.outputs.at(s+l).destinationParameterIndex=-1,this._physicsRig.outputs.at(s+l).vertexIndex=r.getOutputVertexIndex(a,l),this._physicsRig.outputs.at(s+l).angleScale=r.getOutputAngleScale(a,l),this._physicsRig.outputs.at(s+l).weight=r.getOutputWeight(a,l),this._physicsRig.outputs.at(s+l).destination.targetType=ks.CubismPhysicsTargetType_Parameter,this._physicsRig.outputs.at(s+l).destination.id=r.getOutputDestinationId(a,l),"X"==r.getOutputType(a,l)?(this._physicsRig.outputs.at(s+l).type=rr.CubismPhysicsSource_X,this._physicsRig.outputs.at(s+l).getValue=uj,this._physicsRig.outputs.at(s+l).getScale=gj):"Y"==r.getOutputType(a,l)?(this._physicsRig.outputs.at(s+l).type=rr.CubismPhysicsSource_Y,this._physicsRig.outputs.at(s+l).getValue=cj,this._physicsRig.outputs.at(s+l).getScale=pj):"Angle"==r.getOutputType(a,l)&&(this._physicsRig.outputs.at(s+l).type=rr.CubismPhysicsSource_Angle,this._physicsRig.outputs.at(s+l).getValue=dj,this._physicsRig.outputs.at(s+l).getScale=mj),this._physicsRig.outputs.at(s+l).reflect=r.getOutputReflect(a,l);s+=this._physicsRig.settings.at(a).outputCount,this._physicsRig.settings.at(a).particleCount=r.getParticleCount(a),this._physicsRig.settings.at(a).baseParticleIndex=o;for(let l=0;l<this._physicsRig.settings.at(a).particleCount;++l)this._physicsRig.particles.at(o+l).mobility=r.getParticleMobility(a,l),this._physicsRig.particles.at(o+l).delay=r.getParticleDelay(a,l),this._physicsRig.particles.at(o+l).acceleration=r.getParticleAcceleration(a,l),this._physicsRig.particles.at(o+l).radius=r.getParticleRadius(a,l),this._physicsRig.particles.at(o+l).position=r.getParticlePosition(a,l);o+=this._physicsRig.settings.at(a).particleCount}this.initialize(),r.release(),r=void 0,r=null}initialize(){let e,n,r;for(let i=0;i<this._physicsRig.subRigCount;++i){n=this._physicsRig.settings.at(i),e=this._physicsRig.particles.get(n.baseParticleIndex),e[0].initialPosition=new B(0,0),e[0].lastPosition=new B(e[0].initialPosition.x,e[0].initialPosition.y),e[0].lastGravity=new B(0,-1),e[0].lastGravity.y*=-1,e[0].velocity=new B(0,0),e[0].force=new B(0,0);for(let s=1;s<n.particleCount;++s)r=new B(0,0),r.y=e[s].radius,e[s].initialPosition=new B(e[s-1].initialPosition.x+r.x,e[s-1].initialPosition.y+r.y),e[s].position=new B(e[s].initialPosition.x,e[s].initialPosition.y),e[s].lastPosition=new B(e[s].initialPosition.x,e[s].initialPosition.y),e[s].lastGravity=new B(0,-1),e[s].lastGravity.y*=-1,e[s].velocity=new B(0,0),e[s].force=new B(0,0)}}}class XS{constructor(){this.gravity=new B(0,0),this.wind=new B(0,0)}}function oj(t,e,n,r,i,s,o,a,l,u){t.x+=xg(n,r,i,0,o.minimum,o.maximum,o.defalut,l)*u}function aj(t,e,n,r,i,s,o,a,l,u){t.y+=xg(n,r,i,0,o.minimum,o.maximum,o.defalut,l)*u}function lj(t,e,n,r,i,s,o,a,l,u){e.angle+=xg(n,r,i,0,a.minimum,a.maximum,a.defalut,l)*u}function uj(t,e,n,r,i){let s=t.x;return r&&(s*=-1),s}function cj(t,e,n,r,i){let s=t.y;return r&&(s*=-1),s}function dj(t,e,n,r,i){let s;return i=n>=2?e[n-1].position.substract(e[n-2].position):i.multiplyByScaler(-1),s=re.directionToRadian(i,t),r&&(s*=-1),s}function gj(t,e){return JSON.parse(JSON.stringify(t.x))}function pj(t,e){return JSON.parse(JSON.stringify(t.y))}function mj(t,e){return JSON.parse(JSON.stringify(e))}function _j(t,e,n,r,i,s,o,a){let l,u,c,d,h=new B(0,0),f=new B(0,0),g=new B(0,0),p=new B(0,0);t[0].position=new B(n.x,n.y),l=re.degreesToRadian(r),d=re.radianToDirection(l),d.normalize();for(let m=1;m<e;++m)t[m].force=d.multiplyByScaler(t[m].acceleration).add(i),t[m].lastPosition=new B(t[m].position.x,t[m].position.y),u=t[m].delay*o*30,h=t[m].position.substract(t[m-1].position),c=re.directionToRadian(t[m].lastGravity,d)/a,h.x=re.cos(c)*h.x-h.y*re.sin(c),h.y=re.sin(c)*h.x+h.y*re.cos(c),t[m].position=t[m-1].position.add(h),f=t[m].velocity.multiplyByScaler(u),g=t[m].force.multiplyByScaler(u).multiplyByScaler(u),t[m].position=t[m].position.add(f).add(g),p=t[m].position.substract(t[m-1].position),p.normalize(),t[m].position=t[m-1].position.add(p.multiplyByScaler(t[m].radius)),re.abs(t[m].position.x)<s&&(t[m].position.x=0),0!=u&&(t[m].velocity=t[m].position.substract(t[m].lastPosition),t[m].velocity=t[m].velocity.divisionByScalar(u),t[m].velocity=t[m].velocity.multiplyByScaler(t[m].mobility)),t[m].force=new B(0,0),t[m].lastGravity=new B(d.x,d.y)}function yj(t,e,n,r,i){let s,o,a;s=i.getScale(i.translationScale,i.angleScale),o=r*s,o<e?(o<i.valueBelowMinimum&&(i.valueBelowMinimum=o),o=e):o>n&&(o>i.valueExceededMaximum&&(i.valueExceededMaximum=o),o=n),a=i.weight/100,a>=1||(o=t[0]*(1-a)+o*a),t[0]=o}function xg(t,e,n,r,i,s,o,a){let l=0;const u=re.max(n,e);u<t&&(t=u);const c=re.min(n,e);c>t&&(t=c);const d=re.min(i,s),h=re.max(i,s),f=o,g=function fj(t,e){return re.min(t,e)+function hj(t,e){const n=re.max(t,e),r=re.min(t,e);return re.abs(n-r)}(t,e)/2}(c,u),p=t-g;switch(function sj(t){let e=0;return t>0?e=1:t<0&&(e=-1),e}(p)){case 1:{const m=h-f,_=u-g;0!=_&&(l=p*(m/_),l+=f);break}case-1:{const m=d-f,_=c-g;0!=_&&(l=p*(m/_),l+=f);break}case 0:l=f}return a?l:-1*l}!function(t){t.CubismPhysics=Ca,t.Options=XS}(KS||(KS={}));class Gu{constructor(e,n,r,i){this.x=e,this.y=n,this.width=r,this.height=i}getCenterX(){return this.x+.5*this.width}getCenterY(){return this.y+.5*this.height}getRight(){return this.x+this.width}getBottom(){return this.y+this.height}setRect(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}expand(e,n){this.x-=e,this.y-=n,this.width+=2*e,this.height+=2*n}}let bi,wa,Tg;!function(t){t.csmRect=Gu}(ZS||(ZS={}));class qu{constructor(){this._maskRenderTexture=null,this._colorBuffer=null,this._currentFrameNo=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=new Z,this._clippingContextListForDraw=new Z,this._channelColors=new Z,this._tmpBoundsOnModel=new Gu,this._tmpMatrix=new Ye,this._tmpMatrixForMask=new Ye,this._tmpMatrixForDraw=new Ye,this._maskTexture=null;let e=new Is;e.R=1,e.G=0,e.B=0,e.A=0,this._channelColors.pushBack(e),e=new Is,e.R=0,e.G=1,e.B=0,e.A=0,this._channelColors.pushBack(e),e=new Is,e.R=0,e.G=0,e.B=1,e.A=0,this._channelColors.pushBack(e),e=new Is,e.R=0,e.G=0,e.B=0,e.A=1,this._channelColors.pushBack(e)}getChannelFlagAsColor(e){return this._channelColors.at(e)}getMaskRenderTexture(){let e=0;if(this._maskTexture&&0!=this._maskTexture.texture&&(this._maskTexture.frameNo=this._currentFrameNo,e=this._maskTexture.texture),0==e){const n=this._clippingMaskBufferSize;this._colorBuffer=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._colorBuffer),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,n,n,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),e=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._colorBuffer,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,Tg),this._maskTexture=new QS(this._currentFrameNo,e)}return e}setGL(e){this.gl=e}calcClippedDrawTotalBounds(e,n){let r=Number.MAX_VALUE,i=Number.MAX_VALUE,s=Number.MIN_VALUE,o=Number.MIN_VALUE;const a=n._clippedDrawableIndexList.length;for(let l=0;l<a;l++){const u=n._clippedDrawableIndexList[l],c=e.getDrawableVertexCount(u),d=e.getDrawableVertices(u);let h=Number.MAX_VALUE,f=Number.MAX_VALUE,g=Number.MIN_VALUE,p=Number.MIN_VALUE;const m=c*zr.vertexStep;for(let _=zr.vertexOffset;_<m;_+=zr.vertexStep){const v=d[_],y=d[_+1];v<h&&(h=v),v>g&&(g=v),y<f&&(f=y),y>p&&(p=y)}if(h!=Number.MAX_VALUE)if(h<r&&(r=h),f<i&&(i=f),g>s&&(s=g),p>o&&(o=p),r==Number.MAX_VALUE)n._allClippedDrawRect.x=0,n._allClippedDrawRect.y=0,n._allClippedDrawRect.width=0,n._allClippedDrawRect.height=0,n._isUsing=!1;else{n._isUsing=!0;const _=s-r,v=o-i;n._allClippedDrawRect.x=r,n._allClippedDrawRect.y=i,n._allClippedDrawRect.width=_,n._allClippedDrawRect.height=v}}}release(){for(let e=0;e<this._clippingContextListForMask.getSize();e++)this._clippingContextListForMask.at(e)&&(this._clippingContextListForMask.at(e).release(),this._clippingContextListForMask.set(e,void 0)),this._clippingContextListForMask.set(e,null);this._clippingContextListForMask=null;for(let e=0;e<this._clippingContextListForDraw.getSize();e++)this._clippingContextListForDraw.set(e,null);this._clippingContextListForDraw=null,this._maskTexture&&(this.gl.deleteFramebuffer(this._maskTexture.texture),this._maskTexture=null);for(let e=0;e<this._channelColors.getSize();e++)this._channelColors.set(e,null);this._channelColors=null,this.gl.deleteTexture(this._colorBuffer),this._colorBuffer=null}initialize(e,n,r,i){for(let s=0;s<n;s++){if(i[s]<=0){this._clippingContextListForDraw.pushBack(null);continue}let o=this.findSameClip(r[s],i[s]);null==o&&(o=new JS(this,r[s],i[s]),this._clippingContextListForMask.pushBack(o)),o.addClippedDrawable(s),this._clippingContextListForDraw.pushBack(o)}}setupClippingContext(e,n){this._currentFrameNo++;let r=0;for(let i=0;i<this._clippingContextListForMask.getSize();i++){const s=this._clippingContextListForMask.at(i);this.calcClippedDrawTotalBounds(e,s),s._isUsing&&r++}if(r>0){this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._maskRenderTexture=this.getMaskRenderTexture(),n.getMvpMatrix(),n.preDraw(),this.setupLayoutBounds(r),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTexture),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);for(let s=0;s<this._clippingContextListForMask.getSize();s++){const o=this._clippingContextListForMask.at(s),a=o._allClippedDrawRect,l=o._layoutBounds,u=.05;this._tmpBoundsOnModel.setRect(a),this._tmpBoundsOnModel.expand(a.width*u,a.height*u);const c=l.width/this._tmpBoundsOnModel.width,d=l.height/this._tmpBoundsOnModel.height;this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(l.x,l.y),this._tmpMatrix.scaleRelative(c,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(l.x,l.y),this._tmpMatrix.scaleRelative(c,d),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),o._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),o._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());const h=o._clippingIdCount;for(let f=0;f<h;f++){const g=o._clippingIdList[f];!e.getDrawableDynamicFlagVertexPositionsDidChange(g)||(n.setIsCulling(0!=e.getDrawableCulling(g)),n.setClippingContextBufferForMask(o),n.drawMesh(e.getDrawableTextureIndices(g),e.getDrawableVertexIndexCount(g),e.getDrawableVertexCount(g),e.getDrawableVertexIndices(g),e.getDrawableVertices(g),e.getDrawableVertexUvs(g),e.getDrawableOpacity(g),kn.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,Tg),n.setClippingContextBufferForMask(null),this.gl.viewport(wa[0],wa[1],wa[2],wa[3])}}findSameClip(e,n){for(let r=0;r<this._clippingContextListForMask.getSize();r++){const i=this._clippingContextListForMask.at(r),s=i._clippingIdCount;if(s!=n)continue;let o=0;for(let a=0;a<s;a++){const l=i._clippingIdList[a];for(let u=0;u<s;u++)if(e[u]==l){o++;break}}if(o==s)return i}return null}setupLayoutBounds(e){let n=e/4,r=e%4;n=~~n,r=~~r;let i=0;for(let s=0;s<4;s++){const o=n+(s<r?1:0);if(0!=o)if(1==o){const a=this._clippingContextListForMask.at(i++);a._layoutChannelNo=s,a._layoutBounds.x=0,a._layoutBounds.y=0,a._layoutBounds.width=1,a._layoutBounds.height=1}else if(2==o)for(let a=0;a<o;a++){let l=a%2;l=~~l;const u=this._clippingContextListForMask.at(i++);u._layoutChannelNo=s,u._layoutBounds.x=.5*l,u._layoutBounds.y=0,u._layoutBounds.width=.5,u._layoutBounds.height=1}else if(o<=4)for(let a=0;a<o;a++){let l=a%2,u=a/2;l=~~l,u=~~u;const c=this._clippingContextListForMask.at(i++);c._layoutChannelNo=s,c._layoutBounds.x=.5*l,c._layoutBounds.y=.5*u,c._layoutBounds.width=.5,c._layoutBounds.height=.5}else if(o<=9)for(let a=0;a<o;a++){let l=a%3,u=a/3;l=~~l,u=~~u;const c=this._clippingContextListForMask.at(i++);c._layoutChannelNo=s,c._layoutBounds.x=l/3,c._layoutBounds.y=u/3,c._layoutBounds.width=1/3,c._layoutBounds.height=1/3}else mn("not supported mask count : {0}",o)}}getColorBuffer(){return this._colorBuffer}getClippingContextListForDraw(){return this._clippingContextListForDraw}setClippingMaskBufferSize(e){this._clippingMaskBufferSize=e}getClippingMaskBufferSize(){return this._clippingMaskBufferSize}}class QS{constructor(e,n){this.frameNo=e,this.texture=n}}class JS{constructor(e,n,r){this._owner=e,this._clippingIdList=n,this._clippingIdCount=r,this._allClippedDrawRect=new Gu,this._layoutBounds=new Gu,this._clippedDrawableIndexList=[],this._matrixForMask=new Ye,this._matrixForDraw=new Ye}release(){null!=this._layoutBounds&&(this._layoutBounds=null),null!=this._allClippedDrawRect&&(this._allClippedDrawRect=null),null!=this._clippedDrawableIndexList&&(this._clippedDrawableIndexList=null)}addClippedDrawable(e){this._clippedDrawableIndexList.push(e)}getClippingManager(){return this._owner}setGl(e){this._owner.setGL(e)}}class Os{constructor(){this._shaderSets=new Z}static getInstance(){return null==bi&&(bi=new Os),bi}static deleteInstance(){bi&&(bi.release(),bi=null)}release(){this.releaseShaderProgram()}setupShaderProgram(e,n,r,i,s,o,a,l,u,c,d,h,f){let g,p,m,_;if(d||mn("NoPremultipliedAlpha is not allowed"),0==this._shaderSets.getSize()&&this.generateShaders(),null!=e.getClippingContextBufferForMask()){const v=this._shaderSets.at(Xr.ShaderNames_SetupMask);this.gl.useProgram(v.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.uniform1i(v.samplerTexture0Location,0),null==a.vertex&&(a.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(v.attributePositionLocation),this.gl.vertexAttribPointer(v.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==a.uv&&(a.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(v.attributeTexCoordLocation),this.gl.vertexAttribPointer(v.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);const y=e.getClippingContextBufferForMask()._layoutChannelNo,C=e.getClippingContextBufferForMask().getClippingManager().getChannelFlagAsColor(y);this.gl.uniform4f(v.uniformChannelFlagLocation,C.R,C.G,C.B,C.A),this.gl.uniformMatrix4fv(v.uniformClipMatrixLocation,!1,e.getClippingContextBufferForMask()._matrixForMask.getArray());const x=e.getClippingContextBufferForMask()._layoutBounds;this.gl.uniform4f(v.uniformBaseColorLocation,2*x.x-1,2*x.y-1,2*x.getRight()-1,2*x.getBottom()-1),g=this.gl.ZERO,p=this.gl.ONE_MINUS_SRC_COLOR,m=this.gl.ZERO,_=this.gl.ONE_MINUS_SRC_ALPHA}else{const v=null!=e.getClippingContextBufferForDraw(),y=v?f?2:1:0;let C=new Ag;switch(u){case kn.CubismBlendMode_Normal:default:C=this._shaderSets.at(Xr.ShaderNames_NormalPremultipliedAlpha+y),g=this.gl.ONE,p=this.gl.ONE_MINUS_SRC_ALPHA,m=this.gl.ONE,_=this.gl.ONE_MINUS_SRC_ALPHA;break;case kn.CubismBlendMode_Additive:C=this._shaderSets.at(Xr.ShaderNames_AddPremultipliedAlpha+y),g=this.gl.ONE,p=this.gl.ONE,m=this.gl.ZERO,_=this.gl.ONE;break;case kn.CubismBlendMode_Multiplicative:C=this._shaderSets.at(Xr.ShaderNames_MultPremultipliedAlpha+y),g=this.gl.DST_COLOR,p=this.gl.ONE_MINUS_SRC_ALPHA,m=this.gl.ZERO,_=this.gl.ONE}if(this.gl.useProgram(C.shaderProgram),null==a.vertex&&(a.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(C.attributePositionLocation),this.gl.vertexAttribPointer(C.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==a.uv&&(a.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(C.attributeTexCoordLocation),this.gl.vertexAttribPointer(C.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),v){this.gl.activeTexture(this.gl.TEXTURE1);const x=e.getClippingContextBufferForDraw().getClippingManager().getColorBuffer();this.gl.bindTexture(this.gl.TEXTURE_2D,x),this.gl.uniform1i(C.samplerTexture1Location,1),this.gl.uniformMatrix4fv(C.uniformClipMatrixLocation,!1,e.getClippingContextBufferForDraw()._matrixForDraw.getArray());const J=e.getClippingContextBufferForDraw()._layoutChannelNo,dt=e.getClippingContextBufferForDraw().getClippingManager().getChannelFlagAsColor(J);this.gl.uniform4f(C.uniformChannelFlagLocation,dt.R,dt.G,dt.B,dt.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.uniform1i(C.samplerTexture0Location,0),this.gl.uniformMatrix4fv(C.uniformMatrixLocation,!1,h.getArray()),this.gl.uniform4f(C.uniformBaseColorLocation,c.R,c.G,c.B,c.A)}null==a.index&&(a.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,s,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(g,p,m,_)}releaseShaderProgram(){for(let e=0;e<this._shaderSets.getSize();e++)this.gl.deleteProgram(this._shaderSets.at(e).shaderProgram),this._shaderSets.at(e).shaderProgram=0,this._shaderSets.set(e,void 0),this._shaderSets.set(e,null)}generateShaders(){for(let e=0;e<10;e++)this._shaderSets.pushBack(new Ag);this._shaderSets.at(0).shaderProgram=this.loadShaderProgram(Cj,wj),this._shaderSets.at(1).shaderProgram=this.loadShaderProgram(Dj,Mj),this._shaderSets.at(2).shaderProgram=this.loadShaderProgram(eb,Sj),this._shaderSets.at(3).shaderProgram=this.loadShaderProgram(eb,bj),this._shaderSets.at(4).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(5).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(6).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(7).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(8).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(9).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(0).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_position"),this._shaderSets.at(0).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_texCoord"),this._shaderSets.at(0).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"s_texture0"),this._shaderSets.at(0).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_clipMatrix"),this._shaderSets.at(0).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_channelFlag"),this._shaderSets.at(0).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_baseColor"),this._shaderSets.at(1).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_position"),this._shaderSets.at(1).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_texCoord"),this._shaderSets.at(1).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"s_texture0"),this._shaderSets.at(1).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_matrix"),this._shaderSets.at(1).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_baseColor"),this._shaderSets.at(2).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_position"),this._shaderSets.at(2).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_texCoord"),this._shaderSets.at(2).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture0"),this._shaderSets.at(2).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture1"),this._shaderSets.at(2).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_matrix"),this._shaderSets.at(2).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_clipMatrix"),this._shaderSets.at(2).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_channelFlag"),this._shaderSets.at(2).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_baseColor"),this._shaderSets.at(3).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_position"),this._shaderSets.at(3).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_texCoord"),this._shaderSets.at(3).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture0"),this._shaderSets.at(3).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture1"),this._shaderSets.at(3).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_matrix"),this._shaderSets.at(3).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_clipMatrix"),this._shaderSets.at(3).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_channelFlag"),this._shaderSets.at(3).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_baseColor"),this._shaderSets.at(4).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_position"),this._shaderSets.at(4).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_texCoord"),this._shaderSets.at(4).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"s_texture0"),this._shaderSets.at(4).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_matrix"),this._shaderSets.at(4).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_baseColor"),this._shaderSets.at(5).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_position"),this._shaderSets.at(5).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_texCoord"),this._shaderSets.at(5).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture0"),this._shaderSets.at(5).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture1"),this._shaderSets.at(5).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_matrix"),this._shaderSets.at(5).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_clipMatrix"),this._shaderSets.at(5).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_channelFlag"),this._shaderSets.at(5).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_baseColor"),this._shaderSets.at(6).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_position"),this._shaderSets.at(6).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_texCoord"),this._shaderSets.at(6).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture0"),this._shaderSets.at(6).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture1"),this._shaderSets.at(6).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_matrix"),this._shaderSets.at(6).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_clipMatrix"),this._shaderSets.at(6).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_channelFlag"),this._shaderSets.at(6).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_baseColor"),this._shaderSets.at(7).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_position"),this._shaderSets.at(7).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_texCoord"),this._shaderSets.at(7).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"s_texture0"),this._shaderSets.at(7).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_matrix"),this._shaderSets.at(7).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_baseColor"),this._shaderSets.at(8).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_position"),this._shaderSets.at(8).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_texCoord"),this._shaderSets.at(8).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture0"),this._shaderSets.at(8).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture1"),this._shaderSets.at(8).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_matrix"),this._shaderSets.at(8).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_clipMatrix"),this._shaderSets.at(8).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_channelFlag"),this._shaderSets.at(8).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_baseColor"),this._shaderSets.at(9).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_position"),this._shaderSets.at(9).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_texCoord"),this._shaderSets.at(9).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture0"),this._shaderSets.at(9).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture1"),this._shaderSets.at(9).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_matrix"),this._shaderSets.at(9).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_clipMatrix"),this._shaderSets.at(9).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_channelFlag"),this._shaderSets.at(9).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_baseColor")}loadShaderProgram(e,n){let r=this.gl.createProgram(),i=this.compileShaderSource(this.gl.VERTEX_SHADER,e);if(!i)return mn("Vertex shader compile error!"),0;let s=this.compileShaderSource(this.gl.FRAGMENT_SHADER,n);return s?(this.gl.attachShader(r,i),this.gl.attachShader(r,s),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS)?(this.gl.deleteShader(i),this.gl.deleteShader(s),r):(mn("Failed to link program: {0}",r),this.gl.deleteShader(i),i=0,this.gl.deleteShader(s),s=0,r&&(this.gl.deleteProgram(r),r=0),0)):(mn("Vertex shader compile error!"),0)}compileShaderSource(e,n){const r=n,i=this.gl.createShader(e);if(this.gl.shaderSource(i,r),this.gl.compileShader(i),!i){const o=this.gl.getShaderInfoLog(i);mn("Shader compile log: {0} ",o)}return this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)}setGl(e){this.gl=e}}class Ag{}var Xr=(()=>(function(t){t[t.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",t[t.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",t[t.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",t[t.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",t[t.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",t[t.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",t[t.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",t[t.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted"}(Xr||(Xr={})),Xr))();const Cj="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",wj="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",Dj="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",eb="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",Mj="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;void main(){   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;}",Sj="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;void main(){   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",bj="precision mediump float;varying vec2 v_texCoord;varying vec4 v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4 u_channelFlag;uniform vec4 u_baseColor;void main(){vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;col_formask = col_formask * (1.0 - maskVal);gl_FragColor = col_formask;}";class Pg extends Fu{constructor(){super(),this._clippingContextBufferForMask=null,this._clippingContextBufferForDraw=null,this._clippingManager=new qu,this.firstDraw=!0,this._textures=new On,this._sortedDrawableIndexList=new Z,this._bufferData={vertex:WebGLBuffer=null,uv:WebGLBuffer=null,index:WebGLBuffer=null},this._textures.prepareCapacity(32,!0)}initialize(e){e.isUsingMasking()&&(this._clippingManager=new qu,this._clippingManager.initialize(e,e.getDrawableCount(),e.getDrawableMasks(),e.getDrawableMaskCounts())),this._sortedDrawableIndexList.resize(e.getDrawableCount(),0),super.initialize(e)}bindTexture(e,n){this._textures.setValue(e,n)}getBindedTextures(){return this._textures}setClippingMaskBufferSize(e){this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this._clippingManager=new qu,this._clippingManager.setClippingMaskBufferSize(e),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts())}getClippingMaskBufferSize(){return this._clippingManager.getClippingMaskBufferSize()}release(){this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this.gl.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,this.gl.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,this.gl.deleteBuffer(this._bufferData.index),this._bufferData.index=null,this._bufferData=null,this._textures=null}doDrawModel(){null!=this._clippingManager&&(this.preDraw(),this._clippingManager.setupClippingContext(this.getModel(),this)),this.preDraw();const e=this.getModel().getDrawableCount(),n=this.getModel().getDrawableRenderOrders();for(let r=0;r<e;++r)this._sortedDrawableIndexList.set(n[r],r);for(let r=0;r<e;++r){const i=this._sortedDrawableIndexList.at(r);!this.getModel().getDrawableDynamicFlagIsVisible(i)||(this.setClippingContextBufferForDraw(null!=this._clippingManager?this._clippingManager.getClippingContextListForDraw().at(i):null),this.setIsCulling(this.getModel().getDrawableCulling(i)),this.drawMesh(this.getModel().getDrawableTextureIndices(i),this.getModel().getDrawableVertexIndexCount(i),this.getModel().getDrawableVertexCount(i),this.getModel().getDrawableVertexIndices(i),this.getModel().getDrawableVertices(i),this.getModel().getDrawableVertexUvs(i),this.getModel().getDrawableOpacity(i),this.getModel().getDrawableBlendMode(i),this.getModel().getDrawableInvertedMaskBit(i)))}}drawMesh(e,n,r,i,s,o,a,l,u){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);const c=this.getModelColor();let d;null==this.getClippingContextBufferForMask()&&(c.A*=a,this.isPremultipliedAlpha()&&(c.R*=c.A,c.G*=c.A,c.B*=c.A)),d=null!=this._textures.getValue(e)?this._textures.getValue(e):null,Os.getInstance().setupShaderProgram(this,d,r,s,i,o,this._bufferData,a,l,c,this.isPremultipliedAlpha(),this.getMvpMatrix(),u),this.gl.drawElements(this.gl.TRIANGLES,n,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)}static doStaticRelease(){Os.deleteInstance()}setRenderState(e,n){Tg=e,wa=n}preDraw(){this.firstDraw&&(this.firstDraw=!1,this._anisortopy=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)}setClippingContextBufferForMask(e){this._clippingContextBufferForMask=e}getClippingContextBufferForMask(){return this._clippingContextBufferForMask}setClippingContextBufferForDraw(e){this._clippingContextBufferForDraw=e}getClippingContextBufferForDraw(){return this._clippingContextBufferForDraw}startUp(e){this.gl=e,this._clippingManager.setGL(e),Os.getInstance().setGl(e)}}var tb,rb,ib;Fu.staticRelease=()=>{Pg.doStaticRelease()},function(t){t.CubismClippingContext=JS,t.CubismClippingManager_WebGL=qu,t.CubismRenderTextureResource=QS,t.CubismRenderer_WebGL=Pg,t.CubismShaderSet=Ag,t.CubismShader_WebGL=Os,t.ShaderNames=Xr}(tb||(tb={}));class nb{constructor(e){this._model=e,this._parameterValues=null,this._parameterMaximumValues=null,this._parameterMinimumValues=null,this._partOpacities=null,this._savedParameters=new Z,this._parameterIds=new Z,this._drawableIds=new Z,this._partIds=new Z,this._notExistPartId=new On,this._notExistParameterId=new On,this._notExistParameterValues=new On,this._notExistPartOpacities=new On}update(){this._model.update(),this._model.drawables.resetDynamicFlags()}getCanvasWidth(){return null==this._model?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit}getCanvasHeight(){return null==this._model?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit}saveParameters(){const e=this._model.parameters.count,n=this._savedParameters.getSize();for(let r=0;r<e;++r)r<n?this._savedParameters.set(r,this._parameterValues[r]):this._savedParameters.pushBack(this._parameterValues[r])}getModel(){return this._model}getPartIndex(e){let n;const r=this._model.parts.count;for(n=0;n<r;++n)if(e==this._partIds.at(n))return n;return this._notExistPartId.isExist(e)?this._notExistPartId.getValue(e):(n=r+this._notExistPartId.getSize(),this._notExistPartId.setValue(e,n),this._notExistPartOpacities.appendKey(n),n)}getPartCount(){return this._model.parts.count}setPartOpacityByIndex(e,n){this._notExistPartOpacities.isExist(e)?this._notExistPartOpacities.setValue(e,n):(nr(0<=e&&e<this.getPartCount()),this._partOpacities[e]=n)}setPartOpacityById(e,n){const r=this.getPartIndex(e);r<0||this.setPartOpacityByIndex(r,n)}getPartOpacityByIndex(e){return this._notExistPartOpacities.isExist(e)?this._notExistPartOpacities.getValue(e):(nr(0<=e&&e<this.getPartCount()),this._partOpacities[e])}getPartOpacityById(e){const n=this.getPartIndex(e);return n<0?0:this.getPartOpacityByIndex(n)}getParameterIndex(e){let n;const r=this._model.parameters.count;for(n=0;n<r;++n)if(e==this._parameterIds.at(n))return n;return this._notExistParameterId.isExist(e)?this._notExistParameterId.getValue(e):(n=this._model.parameters.count+this._notExistParameterId.getSize(),this._notExistParameterId.setValue(e,n),this._notExistParameterValues.appendKey(n),n)}getParameterCount(){return this._model.parameters.count}getParameterMaximumValue(e){return this._model.parameters.maximumValues[e]}getParameterMinimumValue(e){return this._model.parameters.minimumValues[e]}getParameterDefaultValue(e){return this._model.parameters.defaultValues[e]}getParameterValueByIndex(e){return this._notExistParameterValues.isExist(e)?this._notExistParameterValues.getValue(e):(nr(0<=e&&e<this.getParameterCount()),this._parameterValues[e])}getParameterValueById(e){const n=this.getParameterIndex(e);return this.getParameterValueByIndex(n)}setParameterValueByIndex(e,n,r=1){this._notExistParameterValues.isExist(e)?this._notExistParameterValues.setValue(e,1==r?n:this._notExistParameterValues.getValue(e)*(1-r)+n*r):(nr(0<=e&&e<this.getParameterCount()),this._model.parameters.maximumValues[e]<n&&(n=this._model.parameters.maximumValues[e]),this._model.parameters.minimumValues[e]>n&&(n=this._model.parameters.minimumValues[e]),this._parameterValues[e]=1==r?n:this._parameterValues[e]=this._parameterValues[e]*(1-r)+n*r)}setParameterValueById(e,n,r=1){const i=this.getParameterIndex(e);this.setParameterValueByIndex(i,n,r)}addParameterValueByIndex(e,n,r=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)+n*r)}addParameterValueById(e,n,r=1){const i=this.getParameterIndex(e);this.addParameterValueByIndex(i,n,r)}multiplyParameterValueById(e,n,r=1){const i=this.getParameterIndex(e);this.multiplyParameterValueByIndex(i,n,r)}multiplyParameterValueByIndex(e,n,r=1){this.setParameterValueByIndex(e,this.getParameterValueByIndex(e)*(1+(n-1)*r))}getDrawableIndex(e){const n=this._model.drawables.count;for(let r=0;r<n;++r)if(this._drawableIds.at(r)==e)return r;return-1}getDrawableCount(){return this._model.drawables.count}getDrawableId(e){const n=this._model.drawables.ids;return de.getIdManager().getId(n[e])}getDrawableRenderOrders(){return this._model.drawables.renderOrders}getDrawableTextureIndices(e){return this._model.drawables.textureIndices[e]}getDrawableDynamicFlagVertexPositionsDidChange(e){return Live2DCubismCore.Utils.hasVertexPositionsDidChangeBit(this._model.drawables.dynamicFlags[e])}getDrawableVertexIndexCount(e){return this._model.drawables.indexCounts[e]}getDrawableVertexCount(e){return this._model.drawables.vertexCounts[e]}getDrawableVertices(e){return this.getDrawableVertexPositions(e)}getDrawableVertexIndices(e){return this._model.drawables.indices[e]}getDrawableVertexPositions(e){return this._model.drawables.vertexPositions[e]}getDrawableVertexUvs(e){return this._model.drawables.vertexUvs[e]}getDrawableOpacity(e){return this._model.drawables.opacities[e]}getDrawableCulling(e){return!Live2DCubismCore.Utils.hasIsDoubleSidedBit(this._model.drawables.constantFlags[e])}getDrawableBlendMode(e){const n=this._model.drawables.constantFlags;return Live2DCubismCore.Utils.hasBlendAdditiveBit(n[e])?kn.CubismBlendMode_Additive:Live2DCubismCore.Utils.hasBlendMultiplicativeBit(n[e])?kn.CubismBlendMode_Multiplicative:kn.CubismBlendMode_Normal}getDrawableInvertedMaskBit(e){return Live2DCubismCore.Utils.hasIsInvertedMaskBit(this._model.drawables.constantFlags[e])}getDrawableMasks(){return this._model.drawables.masks}getDrawableMaskCounts(){return this._model.drawables.maskCounts}isUsingMasking(){for(let e=0;e<this._model.drawables.count;++e)if(!(this._model.drawables.maskCounts[e]<=0))return!0;return!1}getDrawableDynamicFlagIsVisible(e){return Live2DCubismCore.Utils.hasIsVisibleBit(this._model.drawables.dynamicFlags[e])}getDrawableDynamicFlagVisibilityDidChange(e){return Live2DCubismCore.Utils.hasVisibilityDidChangeBit(this._model.drawables.dynamicFlags[e])}getDrawableDynamicFlagOpacityDidChange(e){return Live2DCubismCore.Utils.hasOpacityDidChangeBit(this._model.drawables.dynamicFlags[e])}getDrawableDynamicFlagRenderOrderDidChange(e){return Live2DCubismCore.Utils.hasRenderOrderDidChangeBit(this._model.drawables.dynamicFlags[e])}loadParameters(){let e=this._model.parameters.count;const n=this._savedParameters.getSize();e>n&&(e=n);for(let r=0;r<e;++r)this._parameterValues[r]=this._savedParameters.at(r)}initialize(){nr(this._model),this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;{const e=this._model.parameters.ids,n=this._model.parameters.count;this._parameterIds.prepareCapacity(n);for(let r=0;r<n;++r)this._parameterIds.pushBack(de.getIdManager().getId(e[r]))}{const e=this._model.parts.ids,n=this._model.parts.count;this._partIds.prepareCapacity(n);for(let r=0;r<n;++r)this._partIds.pushBack(de.getIdManager().getId(e[r]))}{const e=this._model.drawables.ids,n=this._model.drawables.count;this._drawableIds.prepareCapacity(n);for(let r=0;r<n;++r)this._drawableIds.pushBack(de.getIdManager().getId(e[r]))}}release(){this._model.release(),this._model=null}}!function(t){t.CubismModel=nb}(rb||(rb={}));class Wu{constructor(e){this._moc=e,this._modelCount=0}static create(e){let n=null;const r=Live2DCubismCore.Moc.fromArrayBuffer(e);return r&&(n=new Wu(r)),n}static delete(e){e._moc._release(),e._moc=null,e=null}createModel(){let e=null;const n=Live2DCubismCore.Model.fromMoc(this._moc);return n&&(e=new nb(n),e.initialize(),++this._modelCount),e}deleteModel(e){null!=e&&(e.release(),e=null,--this._modelCount)}release(){nr(0==this._modelCount),this._moc._release(),this._moc=null}}!function(t){t.CubismMoc=Wu}(ib||(ib={}));const Rg="UserData";class ob{constructor(e,n){this._json=Mt.create(e,n)}release(){Mt.delete(this._json)}getUserDataCount(){return this._json.getRoot().getValueByString("Meta").getValueByString("UserDataCount").toInt()}getTotalUserDataSize(){return this._json.getRoot().getValueByString("Meta").getValueByString("TotalUserDataSize").toInt()}getUserDataTargetType(e){return this._json.getRoot().getValueByString(Rg).getValueByIndex(e).getValueByString("Target").getRawString()}getUserDataId(e){return de.getIdManager().getId(this._json.getRoot().getValueByString(Rg).getValueByIndex(e).getValueByString("Id").getRawString())}getUserDataValue(e){return this._json.getRoot().getValueByString(Rg).getValueByIndex(e).getValueByString("Value").getRawString()}}var ab,ub,cb;!function(t){t.CubismModelUserDataJson=ob}(ab||(ab={}));class lb{}class Da{constructor(){this._userDataNodes=new Z,this._artMeshUserDataNode=new Z}static create(e,n){const r=new Da;return r.parseUserData(e,n),r}static delete(e){null!=e&&(e.release(),e=null)}getArtMeshUserDatas(){return this._artMeshUserDataNode}parseUserData(e,n){let r=new ob(e,n);const i=de.getIdManager().getId("ArtMesh"),s=r.getUserDataCount();for(let o=0;o<s;o++){const a=new lb;a.targetId=r.getUserDataId(o),a.targetType=de.getIdManager().getId(r.getUserDataTargetType(o)),a.value=new pn(r.getUserDataValue(o)),this._userDataNodes.pushBack(a),a.targetType==i&&this._artMeshUserDataNode.pushBack(a)}r.release(),r=void 0}release(){for(let e=0;e<this._userDataNodes.getSize();++e)this._userDataNodes.set(e,null);this._userDataNodes=null}}!function(t){t.CubismModelUserData=Da,t.CubismModelUserDataNode=lb}(ub||(ub={}));class Yu{constructor(){this.loadMotion=(e,n,r,i)=>Hu.create(e,n,i),this._moc=null,this._model=null,this._motionManager=null,this._expressionManager=null,this._eyeBlink=null,this._breath=null,this._modelMatrix=null,this._pose=null,this._dragManager=null,this._physics=null,this._modelUserData=null,this._initialized=!1,this._updating=!1,this._opacity=1,this._lipsync=!0,this._lastLipSyncValue=0,this._dragX=0,this._dragY=0,this._accelerationX=0,this._accelerationY=0,this._accelerationZ=0,this._debugMode=!1,this._renderer=null,this._motionManager=new _a,this._motionManager.setEventCallback(Yu.cubismDefaultMotionEventCallback,this),this._expressionManager=new _a,this._dragManager=new oS}isInitialized(){return this._initialized}setInitialized(e){this._initialized=e}isUpdating(){return this._updating}setUpdating(e){this._updating=e}setDragging(e,n){this._dragManager.set(e,n)}setAcceleration(e,n,r){this._accelerationX=e,this._accelerationY=n,this._accelerationZ=r}getModelMatrix(){return this._modelMatrix}setOpacity(e){this._opacity=e}getOpacity(){return this._opacity}loadModel(e){this._moc=Wu.create(e),this._model=this._moc.createModel(),this._model.saveParameters(),null!=this._moc&&null!=this._model?this._modelMatrix=new tS(this._model.getCanvasWidth(),this._model.getCanvasHeight()):mn("Failed to CreateModel().")}loadExpression(e,n,r){return Lu.create(e,n)}loadPose(e,n){this._pose=ga.create(e,n)}loadUserData(e,n){this._modelUserData=Da.create(e,n)}loadPhysics(e,n){this._physics=Ca.create(e,n)}isHit(e,n,r){const i=this._model.getDrawableIndex(e);if(i<0)return!1;const s=this._model.getDrawableVertexCount(i),o=this._model.getDrawableVertices(i);let a=o[0],l=o[0],u=o[1],c=o[1];for(let f=1;f<s;++f){const g=o[zr.vertexOffset+f*zr.vertexStep],p=o[zr.vertexOffset+f*zr.vertexStep+1];g<a&&(a=g),g>l&&(l=g),p<u&&(u=p),p>c&&(c=p)}const d=this._modelMatrix.invertTransformX(n),h=this._modelMatrix.invertTransformY(r);return a<=d&&d<=l&&u<=h&&h<=c}getModel(){return this._model}getRenderer(){return this._renderer}createRenderer(){this._renderer&&this.deleteRenderer(),this._renderer=new Pg,this._renderer.initialize(this._model)}deleteRenderer(){null!=this._renderer&&(this._renderer.release(),this._renderer=null)}motionEventFired(e){Vn("{0}",e.s)}static cubismDefaultMotionEventCallback(e,n,r){r?.motionEventFired(n)}release(){null!=this._motionManager&&(this._motionManager.release(),this._motionManager=null),null!=this._expressionManager&&(this._expressionManager.release(),this._expressionManager=null),null!=this._moc&&(this._moc.deleteModel(this._model),this._moc.release(),this._moc=null),this._modelMatrix=null,ga.delete(this._pose),_g.delete(this._eyeBlink),fa.delete(this._breath),this._dragManager=null,Ca.delete(this._physics),Da.delete(this._modelUserData),this.deleteRenderer()}}!function(t){t.CubismUserModel=Yu}(cb||(cb={}));class ge{static loadFileAsBytes(e,n){fetch(e).then(r=>r.arrayBuffer()).then(r=>n(r,r.byteLength))}static getDeltaTime(){return this.s_deltaTime}static updateTime(){this.s_currentFrame=Date.now(),this.s_deltaTime=(this.s_currentFrame-this.s_lastFrame)/1e3,this.s_lastFrame=this.s_currentFrame}static printMessage(e){console.log(e)}}function db(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function hb(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){db(s,r,i,o,a,"next",l)}function a(l){db(s,r,i,o,a,"throw",l)}o(void 0)})}}ge.lastUpdate=Date.now(),ge.s_currentFrame=0,ge.s_lastFrame=0,ge.s_deltaTime=0;let Bs=null;class Fg{constructor(){this._loadFiletoBytes=(e,n)=>{this._byteReader._fileByte=e,this._byteReader._fileDataView=new DataView(this._byteReader._fileByte),this._byteReader._fileSize=n},this._pcmData=null,this._userTimeSeconds=0,this._lastRms=0,this._sampleOffset=0,this._wavFileInfo=new Rj,this._byteReader=new Fj}static getInstance(){return null==Bs&&(Bs=new Fg),Bs}static releaseInstance(){null!=Bs&&(Bs=void 0),Bs=null}update(e){let n,r;if(null==this._pcmData||this._sampleOffset>=this._wavFileInfo._samplesPerChannel)return this._lastRms=0,!1;this._userTimeSeconds+=e,n=Math.floor(this._userTimeSeconds*this._wavFileInfo._samplingRate),n>this._wavFileInfo._samplesPerChannel&&(n=this._wavFileInfo._samplesPerChannel),r=0;for(let i=0;i<this._wavFileInfo._numberOfChannels;i++)for(let s=this._sampleOffset;s<n;s++){const o=this._pcmData[i][s];r+=o*o}return r=Math.sqrt(r/(this._wavFileInfo._numberOfChannels*(n-this._sampleOffset))),this._lastRms=r,this._sampleOffset=n,!0}start(e){this._sampleOffset=0,this._userTimeSeconds=0,this._lastRms=0,this.loadWavFile(e)}getRms(){return this._lastRms}loadWavFile(e){var n=this;let r=!1;null!=this._pcmData&&this.releasePcmData();const i=function(){var o=hb(function*(){return fetch(e).then(a=>a.arrayBuffer())});return function(){return o.apply(this,arguments)}}();return hb(function*(){if(n._byteReader._fileByte=yield i(),n._byteReader._fileDataView=new DataView(n._byteReader._fileByte),n._byteReader._fileSize=n._byteReader._fileByte.byteLength,n._byteReader._readOffset=0,null==n._byteReader._fileByte||n._byteReader._fileSize<4)return!1;n._wavFileInfo._fileName=e;try{if(!n._byteReader.getCheckSignature("RIFF"))throw r=!1,new Error('Cannot find Signeture "RIFF".');if(n._byteReader.get32LittleEndian(),!n._byteReader.getCheckSignature("WAVE"))throw r=!1,new Error('Cannot find Signeture "WAVE".');if(!n._byteReader.getCheckSignature("fmt "))throw r=!1,new Error('Cannot find Signeture "fmt".');const o=n._byteReader.get32LittleEndian();if(1!=n._byteReader.get16LittleEndian())throw r=!1,new Error("File is not linear PCM.");for(n._wavFileInfo._numberOfChannels=n._byteReader.get16LittleEndian(),n._wavFileInfo._samplingRate=n._byteReader.get32LittleEndian(),n._byteReader.get32LittleEndian(),n._byteReader.get16LittleEndian(),n._wavFileInfo._bitsPerSample=n._byteReader.get16LittleEndian(),o>16&&(n._byteReader._readOffset+=o-16);!n._byteReader.getCheckSignature("data")&&n._byteReader._readOffset<n._byteReader._fileSize;)n._byteReader._readOffset+=n._byteReader.get32LittleEndian()+4;if(n._byteReader._readOffset>=n._byteReader._fileSize)throw r=!1,new Error('Cannot find "data" Chunk.');{const a=n._byteReader.get32LittleEndian();n._wavFileInfo._samplesPerChannel=8*a/(n._wavFileInfo._bitsPerSample*n._wavFileInfo._numberOfChannels)}n._pcmData=new Array(n._wavFileInfo._numberOfChannels);for(let a=0;a<n._wavFileInfo._numberOfChannels;a++)n._pcmData[a]=new Float32Array(n._wavFileInfo._samplesPerChannel);for(let a=0;a<n._wavFileInfo._samplesPerChannel;a++)for(let l=0;l<n._wavFileInfo._numberOfChannels;l++)n._pcmData[l][a]=n.getPcmSample();r=!0}catch(o){console.log(o)}})(),r}getPcmSample(){let e;switch(this._wavFileInfo._bitsPerSample){case 8:e=this._byteReader.get8()-128,e<<=24;break;case 16:e=this._byteReader.get16LittleEndian()<<16;break;case 24:e=this._byteReader.get24LittleEndian()<<8;break;default:e=0}return e/2147483647}releasePcmData(){for(let e=0;e<this._wavFileInfo._numberOfChannels;e++)delete this._pcmData[e];delete this._pcmData,this._pcmData=null}}class Rj{constructor(){this._fileName="",this._numberOfChannels=0,this._bitsPerSample=0,this._samplingRate=0,this._samplesPerChannel=0}}class Fj{constructor(){this._fileByte=null,this._fileDataView=null,this._fileSize=0,this._readOffset=0}get8(){const e=this._fileDataView.getUint8(this._readOffset);return this._readOffset++,e}get16LittleEndian(){const e=this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=2,e}get24LittleEndian(){const e=this._fileDataView.getUint8(this._readOffset+2)<<16|this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=3,e}get32LittleEndian(){const e=this._fileDataView.getUint8(this._readOffset+3)<<24|this._fileDataView.getUint8(this._readOffset+2)<<16|this._fileDataView.getUint8(this._readOffset+1)<<8|this._fileDataView.getUint8(this._readOffset);return this._readOffset+=4,e}getCheckSignature(e){const n=new Uint8Array(4),r=(new TextEncoder).encode(e);if(4!=e.length)return!1;for(let i=0;i<4;i++)n[i]=this.get8();return n[0]==r[0]&&n[1]==r[1]&&n[2]==r[2]&&n[3]==r[3]}}var le=(()=>(function(t){t[t.LoadAssets=0]="LoadAssets",t[t.LoadModel=1]="LoadModel",t[t.WaitLoadModel=2]="WaitLoadModel",t[t.LoadExpression=3]="LoadExpression",t[t.WaitLoadExpression=4]="WaitLoadExpression",t[t.LoadPhysics=5]="LoadPhysics",t[t.WaitLoadPhysics=6]="WaitLoadPhysics",t[t.LoadPose=7]="LoadPose",t[t.WaitLoadPose=8]="WaitLoadPose",t[t.SetupEyeBlink=9]="SetupEyeBlink",t[t.SetupBreath=10]="SetupBreath",t[t.LoadUserData=11]="LoadUserData",t[t.WaitLoadUserData=12]="WaitLoadUserData",t[t.SetupEyeBlinkIds=13]="SetupEyeBlinkIds",t[t.SetupLipSyncIds=14]="SetupLipSyncIds",t[t.SetupLayout=15]="SetupLayout",t[t.LoadMotion=16]="LoadMotion",t[t.WaitLoadMotion=17]="WaitLoadMotion",t[t.CompleteInitialize=18]="CompleteInitialize",t[t.CompleteSetupModel=19]="CompleteSetupModel",t[t.LoadTexture=20]="LoadTexture",t[t.WaitLoadTexture=21]="WaitLoadTexture",t[t.CompleteSetup=22]="CompleteSetup"}(le||(le={})),le))();class fb extends Yu{constructor(e,n=!1){super(),this._showModel=n,this._eventCallback=e,this._isMotionCompleted=!1,this._modelSetting=null,this._modelHomeDir=null,this._userTimeSeconds=0,this._eyeBlinkIds=new Z,this._lipSyncIds=new Z,this._motions=new On,this._expressions=new On,this._hitArea=new Z,this._userArea=new Z,this._idParamAngleX=de.getIdManager().getId(T.ParamAngleX),this._idParamAngleY=de.getIdManager().getId(T.ParamAngleY),this._idParamAngleZ=de.getIdManager().getId(T.ParamAngleZ),this._idParamEyeBallX=de.getIdManager().getId(T.ParamEyeBallX),this._idParamEyeBallY=de.getIdManager().getId(T.ParamEyeBallY),this._idParamBodyAngleX=de.getIdManager().getId(T.ParamBodyAngleX),this._state=le.LoadAssets,this._expressionCount=0,this._textureCount=0,this._motionCount=0,this._allMotionCount=0,this._wavFileHandler=new Fg,this._enaMotions=new _a,this._enaExpressions=new _a}get isModelShown(){return this._showModel}showModel(){this._showModel=!0}hideModel(){this._showModel=!1}loadAssets(e,n){this._modelHomeDir=e,fetch(`${this._modelHomeDir}${n}`).then(r=>r.arrayBuffer()).then(r=>{const i=new YM(r,r.byteLength);this._state=le.LoadModel,this.setupModel(i)})}setupModel(e){if(this._updating=!0,this._initialized=!1,this._modelSetting=e,""!=this._modelSetting.getModelFileName()){const h=this._modelSetting.getModelFileName();fetch(`${this._modelHomeDir}${h}`).then(f=>f.arrayBuffer()).then(f=>{this.loadModel(f),this._state=le.LoadExpression,n()}),this._state=le.WaitLoadModel}else ge.printMessage("Model data does not exist.");const n=()=>{if(this._modelSetting.getExpressionCount()>0){const h=this._modelSetting.getExpressionCount();for(let f=0;f<h;f++){const g=this._modelSetting.getExpressionName(f),p=this._modelSetting.getExpressionFileName(f);fetch(`${this._modelHomeDir}${p}`).then(m=>m.arrayBuffer()).then(m=>{const _=this.loadExpression(m,m.byteLength,g);null!=this._expressions.getValue(g)&&(Ns.delete(this._expressions.getValue(g)),this._expressions.setValue(g,null)),this._expressions.setValue(g,_),this._expressionCount++,this._expressionCount>=h&&(this._state=le.LoadPhysics,r())})}this._state=le.WaitLoadExpression}else this._state=le.LoadPhysics,r()},r=()=>{if(""!=this._modelSetting.getPhysicsFileName()){const h=this._modelSetting.getPhysicsFileName();fetch(`${this._modelHomeDir}${h}`).then(f=>f.arrayBuffer()).then(f=>{this.loadPhysics(f,f.byteLength),this._state=le.LoadPose,i()}),this._state=le.WaitLoadPhysics}else this._state=le.LoadPose,i()},i=()=>{if(""!=this._modelSetting.getPoseFileName()){const h=this._modelSetting.getPoseFileName();fetch(`${this._modelHomeDir}${h}`).then(f=>f.arrayBuffer()).then(f=>{this.loadPose(f,f.byteLength),this._state=le.SetupEyeBlink,s()}),this._state=le.WaitLoadPose}else this._state=le.SetupEyeBlink,s()},s=()=>{this._modelSetting.getEyeBlinkParameterCount()>0&&(this._eyeBlink=_g.create(this._modelSetting),this._state=le.SetupBreath),o()},o=()=>{this._breath=fa.create();const h=new Z;h.pushBack(new Fs(this._idParamAngleX,0,15,6.5345,.5)),h.pushBack(new Fs(this._idParamAngleY,0,8,3.5345,.5)),h.pushBack(new Fs(this._idParamAngleZ,0,10,5.5345,.5)),h.pushBack(new Fs(this._idParamBodyAngleX,0,4,15.5345,.5)),h.pushBack(new Fs(de.getIdManager().getId(T.ParamBreath),.5,.5,3.2345,1)),this._breath.setParameters(h),this._state=le.LoadUserData,a()},a=()=>{if(""!=this._modelSetting.getUserDataFile()){const h=this._modelSetting.getUserDataFile();fetch(`${this._modelHomeDir}${h}`).then(f=>f.arrayBuffer()).then(f=>{this.loadUserData(f,f.byteLength),this._state=le.SetupEyeBlinkIds,l()}),this._state=le.WaitLoadUserData}else this._state=le.SetupEyeBlinkIds,l()},l=()=>{const h=this._modelSetting.getEyeBlinkParameterCount();for(let f=0;f<h;++f)this._eyeBlinkIds.pushBack(this._modelSetting.getEyeBlinkParameterId(f));this._state=le.SetupLipSyncIds,u()},u=()=>{const h=this._modelSetting.getLipSyncParameterCount();for(let f=0;f<h;++f)this._lipSyncIds.pushBack(this._modelSetting.getLipSyncParameterId(f));this._state=le.SetupLayout,c()},c=()=>{const h=new On;this._modelSetting.getLayoutMap(h),this._modelMatrix.setupFromLayout(h),this._state=le.LoadMotion,d()},d=()=>{this._state=le.WaitLoadMotion,this._model.saveParameters(),this._allMotionCount=0,this._motionCount=0;const h=[],f=this._modelSetting.getMotionGroupCount();for(let g=0;g<f;g++)h[g]=this._modelSetting.getMotionGroupName(g),this._allMotionCount+=this._modelSetting.getMotionCount(h[g]);for(let g=0;g<f;g++)this.preLoadMotionGroup(h[g]);0==f&&(this._state=le.LoadTexture,this._motionManager.stopAllMotions(),this._updating=!1,this._initialized=!0,this.createRenderer(),this.setupTextures(),this.getRenderer().startUp(E))}}setupTextures(){if(this._state==le.LoadTexture){const n=this._modelSetting.getTextureCount();for(let r=0;r<n;r++){if(""==this._modelSetting.getTextureFileName(r)){console.log("getTextureFileName null");continue}let i=this._modelSetting.getTextureFileName(r);i=this._modelHomeDir+i;const s=o=>{this.getRenderer().bindTexture(r,o.id),this._textureCount++,this._textureCount>=n&&(this._eventCallback(xr.ModelLoaded),this._state=le.CompleteSetup)};me.getInstance().getTextureManager().createTextureFromPngFile(i,!0,s),this.getRenderer().setIsPremultipliedAlpha(!0)}this._state=le.WaitLoadTexture}}reloadRenderer(){this.deleteRenderer(),this.createRenderer(),this.setupTextures()}update(){let e=!1;const n=ge.getDeltaTime();if(this._userTimeSeconds+=n,this._dragManager.update(n),this._dragX=this._dragManager.getX(),this._dragY=this._dragManager.getY(),!this._isMotionCompleted){if(this._state!=le.CompleteSetup)return;if(this._model.loadParameters(),this._motionManager.isFinished()||(e=this._motionManager.updateMotion(this._model,n)),this._model.saveParameters(),this._lipsync){let r=0;this._wavFileHandler.update(n),r=this._wavFileHandler.getRms();for(let i=0;i<this._lipSyncIds.getSize();++i)this._model.addParameterValueById(this._lipSyncIds.at(i),r,.8)}null!=this._pose&&this._pose.updateParameters(this._model,n),null!=this._breath&&this._breath.updateParameters(this._model,n),null!=this._physics&&this._physics.evaluate(this._model,n)}e||null!=this._eyeBlink&&this._eyeBlink.updateParameters(this._model,n),null!=this._expressionManager&&this._expressionManager.updateMotion(this._model,n),this._model.update()}startMotion(e,n,r,i){if(3==r)this._motionManager.setReservePriority(r);else if(!this._motionManager.reserveMotion(r))return this._debugMode&&ge.printMessage("[APP]can't start motion."),$u;const s=this._modelSetting.getMotionFileName(e,n);let a=this._motions.getValue(`${e}_${n}`),l=!1;null==a?fetch(`${this._modelHomeDir}${s}`).then(c=>c.arrayBuffer()).then(c=>{a=this.loadMotion(c,c.byteLength,null,i);let d=this._modelSetting.getMotionFadeInTimeValue(e,n);d>=0&&a.setFadeInTime(d),d=this._modelSetting.getMotionFadeOutTimeValue(e,n),d>=0&&a.setFadeOutTime(d),a.setEffectIds(this._eyeBlinkIds,this._lipSyncIds),l=!0}):a.setFinishedMotionHandler(i);const u=this._modelSetting.getMotionSoundFileName(e,n);if(0!=u.localeCompare("")){let c=u;c=this._modelHomeDir+c,this._wavFileHandler.start(c)}return this._debugMode&&ge.printMessage(`[APP]start motion: [${e}_${n}`),this._motionManager.startMotionPriority(a,l,r)}startRandomMotion(e,n,r){if(0==this._modelSetting.getMotionCount(e))return $u;const i=Math.floor(Math.random()*this._modelSetting.getMotionCount(e));return this.startMotion(e,i,n,r)}setExpression(e){const n=this._expressions.getValue(e);this._debugMode&&ge.printMessage(`[APP]expression: [${e}]`),null!=n?this._expressionManager.startMotionPriority(n,!1,3):this._debugMode&&ge.printMessage(`[APP]expression[${e}] is null`)}setRandomExpression(){if(0==this._expressions.getSize())return;const e=Math.floor(Math.random()*this._expressions.getSize());for(let n=0;n<this._expressions.getSize();n++)if(n==e)return void this.setExpression(this._expressions._keyValues[n].first)}motionEventFired(e){Vn("{0} is fired on LAppModel!!",e.s)}hitTest(e,n,r){return this._opacity<1||this._modelSetting.getHitAreasCount(),!1}preLoadMotionGroup(e){for(let n=0;n<this._modelSetting.getMotionCount(e);n++){const r=this._modelSetting.getMotionFileName(e,n),i=`${e}_${n}`;this._debugMode&&ge.printMessage(`[APP]load motion: ${r} => [${i}]`),fetch(`${this._modelHomeDir}${r}`).then(s=>s.arrayBuffer()).then(s=>{const o=this.loadMotion(s,s.byteLength,i);let a=this._modelSetting.getMotionFadeInTimeValue(e,n);a>=0&&o.setFadeInTime(a),a=this._modelSetting.getMotionFadeOutTimeValue(e,n),a>=0&&o.setFadeOutTime(a),o.setEffectIds(this._eyeBlinkIds,this._lipSyncIds),null!=this._motions.getValue(i)&&Ns.delete(this._motions.getValue(i)),this._motions.setValue(i,o),this._motionCount++,this._motionCount>=this._allMotionCount&&(this._state=le.LoadTexture,this._motionManager.stopAllMotions(),this._updating=!1,this._initialized=!0,this.createRenderer(),this.setupTextures(),this.getRenderer().startUp(E))})}}releaseMotions(){this._motions.clear()}releaseExpressions(){this._expressions.clear()}doDraw(){if(null==this._model)return;const e=[0,0,Xe.width,Xe.height];this.getRenderer().setRenderState(Ng,e),this.getRenderer().drawModel()}draw(e){null!=this._model&&this._state==le.CompleteSetup&&(e.multiplyByMatrix(this._modelMatrix),this.getRenderer().setMvpMatrix(e),this.doDraw())}}let Ls=null;class ir{constructor(e){this._finishedMotion=n=>{ge.printMessage("Motion Finished:"),console.log(n)},this._eventCallback=e,this._viewMatrix=new Ye,this._models=new Z,this._sceneIndex=0}static getInstance(e){return null==Ls&&(Ls=new ir(e)),Ls}static releaseInstance(){null!=Ls&&(Ls=void 0),Ls=null}getModel(e){return e<this._models.getSize()?this._models.at(e):null}releaseAllModel(){for(let e=0;e<this._models.getSize();e++)this._models.at(e).release(),this._models.set(e,null);this._models.clear()}onDrag(e,n){for(let r=0;r<this._models.getSize();r++){const i=this.getModel(r);i&&i.setDragging(e,n)}}onTap(e,n){ge.printMessage(`[APP]tap point: {x: ${e.toFixed(2)} y: ${n.toFixed(2)}}`);for(let r=0;r<this._models.getSize();r++)this._models.at(r).hitTest("Head",e,n)?(ge.printMessage("[APP]hit area: [Head]"),this._models.at(r).setRandomExpression()):this._models.at(r).hitTest("Body",e,n)&&(ge.printMessage("[APP]hit area: [Body]"),this._models.at(r).startRandomMotion("TapBody",2,this._finishedMotion))}onUpdate(){const{width:e,height:n}=Xe,r=this._models.get().filter(i=>i.isModelShown).length;for(let i=0;i<r;++i){const s=new Ye,o=this.getModel(i);o.getModel()&&(o.getModel().getCanvasWidth()>1&&e<n?(o.getModelMatrix().setWidth(2),s.scale(1,e/n)):s.scale(n/e,1),o.getModelMatrix().setWidth(2.05),s.translate(0,-.15),s.translateRelative(0,-.15),2==r?(s.translate(0==i?-.15:.15,-.15),s.translateRelative(0==i?-.15:.15,-.15)):r>2&&(s.translate(.3*i-.3,-.15),s.translateRelative(.3*i-.3,-.15)),null!=this._viewMatrix&&s.multiplyByMatrix(this._viewMatrix)),o.update(),o.draw(s)}}nextScene(){this.changeScene((this._sceneIndex+1)%YL)}changeScene(e){this._sceneIndex=e,ge.printMessage(`[APP]model index: ${this._sceneIndex}`);for(let n=0;n<Rs.length;n++){const i=OM+Rs[n]+"/";let s=Rs[n];s+=".model3.json",this._models.pushBack(new fb(this._eventCallback,!0)),this._models.at(n).loadAssets(i,s)}}loadModels(){for(let e=0;e<3;e++)ge.printMessage(`[APP]model load: ${e}`),this.loadModel(Rs[e],e)}loadModel(e,n){const i=OM+e+"/";let s=e;s+=".model3.json",this._models.pushBack(new fb(this._eventCallback,!0)),this._models.at(this._models.getSize()-1).loadAssets(i,s)}setViewMatrix(e){for(let n=0;n<16;n++)this._viewMatrix.getArray()[n]=e.getArray()[n]}}class Nj{constructor(){this._textures=new Z}release(){for(let e=this._textures.begin();e.notEqual(this._textures.end());e.preIncrement())E.deleteTexture(e.ptr().id);this._textures=null}createTextureFromPngFile(e,n,r){for(let s=this._textures.begin();s.notEqual(this._textures.end());s.preIncrement())if(s.ptr().fileName==e&&s.ptr().usePremultply==n)return s.ptr().img=new Image,s.ptr().img.onload=()=>r(s.ptr()),void(s.ptr().img.src=e);const i=new Image;i.onload=()=>{const s=E.createTexture();E.bindTexture(E.TEXTURE_2D,s),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.LINEAR_MIPMAP_LINEAR),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.LINEAR),n&&E.pixelStorei(E.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,i),E.generateMipmap(E.TEXTURE_2D),E.bindTexture(E.TEXTURE_2D,null);const o=new kj;null!=o&&(o.fileName=e,o.width=i.width,o.height=i.height,o.id=s,o.img=i,o.usePremultply=n,this._textures.pushBack(o)),r(o)},i.src=e}releaseTextures(){for(let e=0;e<this._textures.getSize();e++)this._textures.set(e,null);this._textures.clear()}releaseTextureByTexture(e){for(let n=0;n<this._textures.getSize();n++)if(this._textures.at(n).id==e){this._textures.set(n,null),this._textures.remove(n);break}}releaseTextureByFilePath(e){for(let n=0;n<this._textures.getSize();n++)if(this._textures.at(n).fileName==e){this._textures.set(n,null),this._textures.remove(n);break}}}class kj{constructor(){this.id=null,this.width=0,this.height=0}}class gb extends Ye{constructor(){super(),this._screenLeft=0,this._screenRight=0,this._screenTop=0,this._screenBottom=0,this._maxLeft=0,this._maxRight=0,this._maxTop=0,this._maxBottom=0,this._maxScale=0,this._minScale=0}adjustTranslate(e,n){this._tr[0]*this._maxLeft+(this._tr[12]+e)>this._screenLeft&&(e=this._screenLeft-this._tr[0]*this._maxLeft-this._tr[12]),this._tr[0]*this._maxRight+(this._tr[12]+e)<this._screenRight&&(e=this._screenRight-this._tr[0]*this._maxRight-this._tr[12]),this._tr[5]*this._maxTop+(this._tr[13]+n)<this._screenTop&&(n=this._screenTop-this._tr[5]*this._maxTop-this._tr[13]),this._tr[5]*this._maxBottom+(this._tr[13]+n)>this._screenBottom&&(n=this._screenBottom-this._tr[5]*this._maxBottom-this._tr[13]);const r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1]);Ye.multiply(r,this._tr,this._tr)}adjustScale(e,n,r){const i=this.getMaxScale(),s=this.getMinScale(),o=r*this._tr[0];o<s?this._tr[0]>0&&(r=s/this._tr[0]):o>i&&this._tr[0]>0&&(r=i/this._tr[0]);const a=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,e,n,0,1]),l=new Float32Array([r,0,0,0,0,r,0,0,0,0,1,0,0,0,0,1]),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,-e,-n,0,1]);Ye.multiply(u,this._tr,this._tr),Ye.multiply(l,this._tr,this._tr),Ye.multiply(a,this._tr,this._tr)}setScreenRect(e,n,r,i){this._screenLeft=e,this._screenRight=n,this._screenBottom=r,this._screenTop=i}setMaxScreenRect(e,n,r,i){this._maxLeft=e,this._maxRight=n,this._maxTop=i,this._maxBottom=r}setMaxScale(e){this._maxScale=e}setMinScale(e){this._minScale=e}getMaxScale(){return this._maxScale}getMinScale(){return this._minScale}isMaxScale(){return this.getScaleX()>=this._maxScale}isMinScale(){return this.getScaleX()<=this._minScale}getScreenLeft(){return this._screenLeft}getScreenRight(){return this._screenRight}getScreenBottom(){return this._screenBottom}getScreenTop(){return this._screenTop}getMaxLeft(){return this._maxLeft}getMaxRight(){return this._maxRight}getMaxBottom(){return this._maxBottom}getMaxTop(){return this._maxTop}}var pb;!function(t){t.CubismViewMatrix=gb}(pb||(pb={}));class Vj{constructor(){this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._lastX1=0,this._lastY1=0,this._lastX2=0,this._lastY2=0,this._lastTouchDistance=0,this._deltaX=0,this._deltaY=0,this._scale=1,this._touchSingle=!1,this._flipAvailable=!1}getCenterX(){return this._lastX}getCenterY(){return this._lastY}getDeltaX(){return this._deltaX}getDeltaY(){return this._deltaY}getStartX(){return this._startX}getStartY(){return this._startY}getScale(){return this._scale}getX(){return this._lastX}getY(){return this._lastY}getX1(){return this._lastX1}getY1(){return this._lastY1}getX2(){return this._lastX2}getY2(){return this._lastY2}isSingleTouch(){return this._touchSingle}isFlickAvailable(){return this._flipAvailable}disableFlick(){this._flipAvailable=!1}touchesBegan(e,n){this._lastX=e,this._lastY=n,this._startX=e,this._startY=n,this._lastTouchDistance=-1,this._flipAvailable=!0,this._touchSingle=!0}touchesMoved(e,n){this._lastX=e,this._lastY=n,this._lastTouchDistance=-1,this._touchSingle=!0}getFlickDistance(){return this.calculateDistance(this._startX,this._startY,this._lastX,this._lastY)}calculateDistance(e,n,r,i){return Math.sqrt((e-r)*(e-r)+(n-i)*(n-i))}calculateMovingAmount(e,n){if(e>0!=n>0)return 0;const r=e>0?1:-1,i=Math.abs(e),s=Math.abs(n);return r*(i<s?i:s)}}class Oj{constructor(){this._programId=null,this._back=null,this._gear=null,this._touchManager=new Vj,this._deviceToScreen=new Ye,this._viewMatrix=new gb}setEventCallback(e){this._eventCallback=e}initialize(){const{width:e,height:n}=Xe,r=e/n,i=-r,s=r;if(this._viewMatrix.setScreenRect(i,s,-1,1),this._viewMatrix.scale(1,1),this._deviceToScreen.loadIdentity(),e>n){const l=Math.abs(s-i);this._deviceToScreen.scaleRelative(l/e,-l/e)}else{const l=Math.abs(2);this._deviceToScreen.scaleRelative(l/n,-l/n)}this._deviceToScreen.translateRelative(.5*-e,.5*-n),this._viewMatrix.setMaxScale(2),this._viewMatrix.setMinScale(.8),this._viewMatrix.setMaxScreenRect(-2,2,-2,2)}release(){this._viewMatrix=null,this._touchManager=null,this._deviceToScreen=null,E.deleteProgram(this._programId),this._programId=null}render(){E.useProgram(this._programId),E.flush();const e=ir.getInstance();e.setViewMatrix(this._viewMatrix),e.onUpdate()}initializeSprite(){null==this._programId&&(this._programId=me.getInstance().createShader())}onTouchesBegan(e,n){this._touchManager.touchesBegan(e,n)}onTouchesMoved(e,n){const r=this.transformViewX(this._touchManager.getX()),i=this.transformViewY(this._touchManager.getY());this._touchManager.touchesMoved(e,n),ir.getInstance().onDrag(r,i)}onTouchesEnded(e,n){const r=ir.getInstance();r.onDrag(0,0);{const i=this._deviceToScreen.transformX(this._touchManager.getX()),s=this._deviceToScreen.transformY(this._touchManager.getY());r.onTap(i,s)}}transformViewX(e){const n=this._deviceToScreen.transformX(e);return this._viewMatrix.invertTransformX(n)}transformViewY(e){const n=this._deviceToScreen.transformY(e);return this._viewMatrix.invertTransformY(n)}transformScreenX(e){return this._deviceToScreen.transformX(e)}transformScreenY(e){return this._deviceToScreen.transformY(e)}}let Xe=null,Ei=null,E=null,Ng=null;class me{constructor(){this._captured=!1,this._mouseX=0,this._mouseY=0,this._isEnd=!1,this._cubismOption=new LL,this._view=new Oj,this._textureManager=new Nj}static getInstance(){return null==Ei&&(Ei=new me),Ei}changeMotion(e,n,r,i){ir.getInstance().getModel(n).startRandomMotion(e,r??1,()=>{i&&i(),this._eventCallback(xr.MotionCompleted)})}loadModel(e){ir.getInstance().loadModel(Rs[e],e)}releaseModels(){ir.getInstance().releaseAllModel(),this._eventCallback(xr.ModelReleased)}static releaseInstance(){Ei?.release(),Ei=null}eventListener(e){this._eventCallback=e,this._view.setEventCallback(e)}initialize(){var e=document.getElementById("l2d-canvas");return Xe=document.createElement("canvas"),Xe.style.marginTop="5px",this._resizeCanvas(),E=Xe.getContext("webgl",{alpha:!0})||Xe.getContext("experimental-webgl"),E?(e.appendChild(Xe),Ng||(Ng=E.getParameter(E.FRAMEBUFFER_BINDING)),E.enable(E.BLEND),E.blendFunc(E.SRC_ALPHA,E.ONE_MINUS_SRC_ALPHA),"ontouchend"in Xe?(Xe.ontouchstart=Uj,Xe.ontouchmove=Hj,Xe.ontouchend=$j,Xe.ontouchcancel=zj):(Xe.onmousedown=Bj,Xe.onmousemove=Lj,Xe.onmouseup=jj),this._view.initialize(),this.initializeCubism(),!0):(alert("Cannot initialize WebGL. This browser does not support."),E=null,e.innerHTML="This browser does not support the <code>&lt;canvas&gt;</code> element.",!1)}onResize(){this._resizeCanvas(),this._view.initialize(),this._view.initializeSprite()}release(){this._textureManager.release(),this._textureManager=null,this._view.release(),this._view=null,ir.releaseInstance(),de.dispose()}run(){const e=()=>{null!=Ei&&(ge.updateTime(),E.clearColor(0,0,0,0),E.enable(E.DEPTH_TEST),E.depthFunc(E.LEQUAL),E.clear(E.COLOR_BUFFER_BIT|E.DEPTH_BUFFER_BIT),E.clearDepth(1),E.enable(E.BLEND),E.blendFunc(E.SRC_ALPHA,E.ONE_MINUS_SRC_ALPHA),E.enable(E.BLEND),E.blendFunc(E.SRC_ALPHA,E.ONE_MINUS_SRC_ALPHA),this._view.render(),requestAnimationFrame(e))};e()}createShader(){const e=E.createShader(E.VERTEX_SHADER);if(null==e)return ge.printMessage("failed to create vertexShader"),null;E.shaderSource(e,"precision mediump float;attribute vec3 position;attribute vec2 uv;varying vec2 vuv;void main(void){   gl_Position = vec4(position, 1.0);   vuv = uv;}"),E.compileShader(e);const r=E.createShader(E.FRAGMENT_SHADER);if(null==r)return ge.printMessage("failed to create fragmentShader"),null;E.shaderSource(r,"precision mediump float;varying vec2 vuv;uniform sampler2D texture;void main(void){   gl_FragColor = texture2D(texture, vuv);}"),E.compileShader(r);const s=E.createProgram();return E.attachShader(s,e),E.attachShader(s,r),E.deleteShader(e),E.deleteShader(r),E.linkProgram(s),E.useProgram(s),s}getView(){return this._view}getTextureManager(){return this._textureManager}initializeCubism(){this._cubismOption.logFunction=ge.printMessage,this._cubismOption.loggingLevel=JL,de.startUp(this._cubismOption),de.initialize(),ir.getInstance(this._eventCallback),ge.updateTime(),this._view.initializeSprite()}_resizeCanvas(){Xe.width=window.innerWidth,Xe.height=window.innerHeight-3.001}}function Bj(t){if(!me.getInstance()._view)return void ge.printMessage("view notfound");me.getInstance()._captured=!0;const e=t.pageX,n=t.pageY;me.getInstance()._view.onTouchesBegan(e,n)}function Lj(t){if(!me.getInstance()._captured)return;if(!me.getInstance()._view)return void ge.printMessage("view notfound");const e=t.target.getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top;me.getInstance()._view.onTouchesMoved(n,r)}function jj(t){if(me.getInstance()._captured=!1,!me.getInstance()._view)return void ge.printMessage("view notfound");const e=t.target.getBoundingClientRect(),n=t.clientX-e.left,r=t.clientY-e.top;me.getInstance()._view.onTouchesEnded(n,r)}function Uj(t){if(!me.getInstance()._view)return void ge.printMessage("view notfound");me.getInstance()._captured=!0;const e=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY;me.getInstance()._view.onTouchesBegan(e,n)}function Hj(t){if(!me.getInstance()._captured)return;if(!me.getInstance()._view)return void ge.printMessage("view notfound");const e=t.target.getBoundingClientRect(),n=t.changedTouches[0].clientX-e.left,r=t.changedTouches[0].clientY-e.top;me.getInstance()._view.onTouchesMoved(n,r)}function $j(t){if(me.getInstance()._captured=!1,!me.getInstance()._view)return void ge.printMessage("view notfound");const e=t.target.getBoundingClientRect(),n=t.changedTouches[0].clientX-e.left,r=t.changedTouches[0].clientY-e.top;me.getInstance()._view.onTouchesEnded(n,r)}function zj(t){if(me.getInstance()._captured=!1,!me.getInstance()._view)return void ge.printMessage("view notfound");const e=t.target.getBoundingClientRect(),n=t.changedTouches[0].clientX-e.left,r=t.changedTouches[0].clientY-e.top;me.getInstance()._view.onTouchesEnded(n,r)}var kg;class Q{}kg=Q,Q.characterName="Honami",Q.portName=`${kg.characterName} (Emma-Kun)`,Q.character=kt.Honami,Q.directoryIndex=kg.character,Q.motions=new class qj{constructor(){this.happyGlad1="w-happy-glad01",this.cuteGlad1="w-cute-glad01",this.cuteShy1="w-cute-shy01",this.cutePoseNod1="w-cute-posenod01",this.cuteSmug1="w-cute-smug01"}},Q.expressions=new class Gj{constructor(){this.sparkling="face_sparkling_01",this.smile1="face_smile_01",this.smile2="face_smile_02",this.closeEye2="face_closeeye_02"}};class M{constructor({index:e=0,character:n,motion:r,expression:i,triggeredText:s}){this._index=e,this._character=n,this._motion=r,this._expression=i,this._triggeredText=s,this._l2dDelegate=me.getInstance()}get hasTriggeredText(){return null!=this._triggeredText}get characterIndex(){return this._index}get triggeredText(){return this._triggeredText}run(e){this.hasTriggeredText&&e?e.includes(this._triggeredText)&&this._runMotion():this._runMotion()}_runMotion(){this._l2dDelegate.changeMotion(this._expression,this._index??this._character,3),this._l2dDelegate.changeMotion(this._motion,this._index??this._character,3)}}class R{constructor({page:e,characterName:n,dialog:r,modelMotion:i,changeModels:s,modalContent:o}){this.currentDialog="",this._isMotionRunning=[],this._page=e,this.characterName=n,this._dialogArray=Array.from(r),this._dialogString=r,this._motion=i,this._changeModels=s,this._modalContent=o}get length(){return this._dialogArray.length}get fullDialog(){return this._dialogString}get page(){return this._page}get motionLength(){return this._motion.length}get hasChangeModels(){return null!=this._changeModels&&this._changeModels.length>0}get hasModalContents(){return null!=this._modalContent}get changeModelLength(){return this._changeModels?this._changeModels.length:0}getDialogChar(e){return this._dialogArray[e]}getModalContents(){return this._modalContent}runMotion(e){this._motion&&this._motion.length>0&&(e?this._motion[e].run():this._motion.filter(r=>!r.hasTriggeredText).forEach(r=>r.run()))}updateModels(){if(this.hasChangeModels){const e=me.getInstance();e.releaseModels(),this._changeModels.forEach(n=>{e.loadModel(n)})}}dialogOnChange(){if(this._motion&&this._motion.filter(e=>e.hasTriggeredText).length>0){const e=this._motion.filter(n=>this.currentDialog.includes(n.triggeredText));if(e.length>0)for(let n=0;n<e.length;n++){const r=e[n];this._isMotionRunning.includes(r.characterIndex)||(this._isMotionRunning.push(r.characterIndex),e[n].run())}}}}let mb=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:Q.portName,dialog:"Happy Birthday Akari!!! Sana ay masaya ka sa birthday mo. Pasensya kung kulang2x features\n        ng Project Akari: Birthday Stage! HAHAHA Ito lang nakayanan ni Emma xD.",changeModels:[Q.character],modelMotion:[new M({character:Q.character,motion:Q.motions.cuteGlad1,expression:Q.expressions.smile2}),new M({character:Q.character,motion:Q.motions.cuteShy1,expression:Q.expressions.smile1,triggeredText:"Stage!"})]})),this.dialogs.push(new R({page:2,characterName:Q.portName,dialog:"Sana ay makuha mo mga gusto mo sa buhay at si Ena Hihihi. Stay Healthy ka palagi kung hindi\n        matatalo na kita sa project sekai at kukunin ko trono mo xD",modelMotion:[new M({character:Q.character,motion:Q.motions.cutePoseNod1,expression:Q.expressions.sparkling}),new M({character:Q.character,motion:Q.motions.cuteSmug1,expression:Q.expressions.sparkling,triggeredText:"matatalo"})]}))}}return t.greetingId="emmakun",t})();var Vg,Og,_b,Bg,Lg,jg,Ug,yb,Hg,$g,zg;class Ke{}Vg=Ke,Ke.characterName="Akito",Ke.portName=`${Vg.characterName} (Doru)`,Ke.character=kt.Akito,Ke.directoryIndex=Vg.character,Ke.motions=new class Yj{constructor(){this.adultTilthead0304="m-adultnormal-tilthead0304"}},Ke.expressions=new class Wj{constructor(){this.smile1="face_smile_01"}};class Pe{}Og=Pe,Pe.characterName="An",Pe.portName=`${Og.characterName} (Sham)`,Pe.character=kt.An,Pe.directoryIndex=Og.character,Pe.motions=new class Kj{constructor(){this.happyForward2="w-happy-forward02",this.coolNodTilthead0102="w-cool-nodtilthead0102"}},Pe.expressions=new class Xj{constructor(){this.smile5="face_smile_05",this.sparkling="face_sparkling_01"}};class Me{}_b=Me,Me.characterName="Ena",Me.character=kt.Ena,Me.directoryIndex=_b.character,Me.motions=new class Qj{constructor(){this.adultGlad1="w-adult-glad01",this.adultPoseTrouble="w-adult-posetrouble02",this.adultTilthead1="w-adult-tilthead01",this.cuteSmug1="w-cute-smug01",this.coolShakehand1="w-cool-shakehand01"}},Me.expressions=new class Zj{constructor(){this.smile1="face_smile_01",this.smile5="face_smile_05",this.smile8="face_smile_08",this.Shy2="face_shy_02"}};class _e{}Bg=_e,_e.characterName="Haruka",_e.portName=`${Bg.characterName} (Juicy)`,_e.character=kt.Haruka,_e.directoryIndex=Bg.character,_e.motions=new class eU{constructor(){this.coolBlushed1="w-cool-blushed01",this.coolNod1="w-cool-nod01",this.adultTilthead2="w-adult-tilthead02",this.cuteFidget1="w-cute-fidget01"}},_e.expressions=new class Jj{constructor(){this.smile1="face_smile_01",this.shy1="face_shy_01",this.sparkling="face_sparkling_01"}};class Se{}Lg=Se,Se.characterName="Kaito",Se.portName=`${Lg.characterName} (Yuyan)`,Se.character=kt.Kaito,Se.directoryIndex=Lg.character,Se.motions=new class nU{constructor(){this.adultTilthead1="m-adult-tilthead01",this.normalShakehand1="m-normal-shakehand01",this.normalSmug1="m-normal-smug01",this.coolPlan1="m-cool-plan01"}},Se.expressions=new class tU{constructor(){this.smile1="face_smile_01",this.smile2="face_smile_02",this.smile3="face_smile_03"}};class ye{}jg=ye,ye.characterName="Kanade",ye.portName=`${jg.characterName} (Asra)`,ye.character=kt.Kanade,ye.directoryIndex=jg.character,ye.motions=new class iU{constructor(){this.animalTiltheadNod0101="w-animal-tiltheadnod0101",this.normalNod5="w-normal-nod05",this.cuteGlad5="w-cute-glad05"}},ye.expressions=new class rU{constructor(){this.smile1="face_smile_01",this.smile5="face_smile_05",this.normal2="face_normal_02"}};class j{}Ug=j,j.characterName="Luka",j.portName=`${Ug.characterName} (Arya)`,j.character=kt.Luka,j.directoryIndex=Ug.character,j.motions=new class oU{constructor(){this.coolPoseNod1="w-cool-posenod01",this.adultNod3="w-adult-nod03",this.adultTilthead2="w-adult-tilthead02",this.happyForward1="w-happy-forward01",this.happyShakehand1="w-happy-shakehand01"}},j.expressions=new class sU{constructor(){this.smile1="face_smile_01",this.darkSmile1="face_darksmile_01",this.sparkling="face_sparkling_01",this.sad2="face_sad_02"}};class oe{}yb=oe,oe.characterName="Mafuyu",oe.character=kt.Mafuyu,oe.directoryIndex=yb.character,oe.motions=new class lU{constructor(){this.coolPoseNod3="w-cool-posenod03",this.adultNod1="w-adult-nod01",this.happyPoseNode3="w-happy-posenod03",this.cutePoseTilthead4="w-cute-posetilthead04",this.cuteShakehead2="w-cute-shakehead02",this.cuteShakehead3="w-cute-shakehead03",this.cuteShakehand1="w-cool-shakehand01"}},oe.expressions=new class aU{constructor(){this.normal1="face_normal_01",this.smile1="face_smile_01",this.smile3="face_smile_03",this.smile4="face_smile_04",this.smile5="face_smile_05",this.darkSmile2="face_darksmile_02",this.shy2="face_shy_02"}};class G{}Hg=G,G.characterName="Shizuku",G.portName=`${Hg.characterName} (Jikan)`,G.character=kt.Shizuku,G.directoryIndex=Hg.character,G.motions=new class cU{constructor(){this.happyTilthead1="w-happy-tilthead01",this.coolTilthead2="w-cool-tilthead02",this.adultNod3="w-adult-nod03",this.adultBlushed3="w-adult-blushed03"}},G.expressions=new class uU{constructor(){this.smile1="face_smile_01",this.smile2="face_smile_02",this.smile5="face_smile_05",this.sparkling1="face_sparkling_01"}};class A{}$g=A,A.characterName="Touya",A.portName=`${$g.characterName} (Sky)`,A.character=kt.Touya,A.directoryIndex=$g.character,A.motions=new class hU{constructor(){this.adultTilthead1="m-adult-tilthead01",this.adultTilthead0304="m-adultnormal-tilthead0304",this.coolTilthead1="m-cool-tilthead01",this.coolTrouble1="m-cool-trouble01",this.coolThink2="m-cool-think02"}},A.expressions=new class dU{constructor(){this.smile1="face_smile_01",this.smile3="face_smile_03",this.normal1="face_normal_01",this.sad2="face_sad_02"}};class Ze{}zg=Ze,Ze.characterName="Tsukasa",Ze.portName=`${zg.characterName} (Bene)`,Ze.character=kt.Tsukasa,Ze.directoryIndex=zg.character,Ze.motions=new class gU{constructor(){this.adultTilthead2="m-adult-tilthead02",this.lookup1="m-tsukasa-lookup01",this.adultTilthead1="m-adult-tilthead01"}},Ze.expressions=new class fU{constructor(){this.smile2="face_smile_02",this.smile6="face_smile_06",this.sad1="face_sad_01"}};class Ge{constructor({title:e,isImage:n=!0,isEmbed:r=!1,isPortrait:i,link:s}){this._modalTitle=e,this._isImage=n&&!r,this._isEmbed=r,this._isPortrait=i,this._link=s}get title(){return this._modalTitle}get isImage(){return this._isImage}get isEmbed(){return this._isEmbed}get isPortrait(){return this._isPortrait}get link(){return this._link}buildEmbed(e,n=!0){const r=document.createElement("iframe");return r.src=this.link,n&&(r.style.display="none"),e.append(r),r}buildImage(e,n=!0){const r=document.createElement("img");return r.src=this.link,n&&(r.style.display="none"),e.append(r),r}}let Gg=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:G.portName,dialog:"Happy birthday Akarin!! Sana ay mabuhay ka pa nang matagal and enjoy your life to the fullest!\n       alam kong super bait mo kaya you deserve all the good things in life and",changeModels:[G.character],modelMotion:[new M({character:G.character,motion:G.motions.happyTilthead1,expression:G.expressions.smile1}),new M({character:G.character,motion:G.motions.coolTilthead2,expression:G.expressions.smile1,triggeredText:"alam kong"})]})),this.dialogs.push(new R({page:2,characterName:G.portName,dialog:"hope that never a bad day approach you though it's impossible but I hope the world will be always gentle to you.",modelMotion:[new M({character:G.character,motion:G.motions.adultNod3,expression:G.expressions.smile5})]})),this.dialogs.push(new R({page:3,characterName:G.portName,dialog:" Enjoy your day and always take care of yourself <3 I love you! And always know you have me\n        and Port Caf\xe9 always. *Shows you a picture of both of you together and a cover song*",modelMotion:[new M({character:G.character,motion:G.motions.adultBlushed3,expression:G.expressions.sparkling1})],modalContent:[new Ge({title:"Jikan",isPortrait:!1,link:"assets/img/greetings/jikan/genshin.png"}),new Ge({title:"Jikan",isPortrait:!1,isEmbed:!0,link:"https://drive.google.com/file/d/1-H6liL_fORi_ZxZ0NT9IqpFv7ZcOGvRk/preview"})]}))}}return t.greetingId="jikan",t})(),vb=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:_e.portName,dialog:"Happy Birthday Akari. *Shows you a birthday card and\n        an art*",changeModels:[_e.character],modelMotion:[new M({character:_e.character,motion:_e.motions.cuteFidget1,expression:_e.expressions.shy1})],modalContent:[new Ge({title:"Juicy",isPortrait:!0,link:"assets/img/greetings/juicy/greeting.png"}),new Ge({title:"Juicy",isPortrait:!1,link:"assets/img/greetings/juicy/art.png"})]}))}}return t.greetingId="juicy",t})(),Cb=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:Ke.portName,dialog:"Happy Birthday Akarin! *Shows you a picture message*",changeModels:[Ke.character],modelMotion:[new M({character:Ke.character,motion:Ke.motions.adultTilthead0304,expression:Ke.expressions.smile1})],modalContent:[new Ge({title:"Doru",isPortrait:!1,link:"assets/img/greetings/doru/greeting.jpg"})]}))}}return t.greetingId="doru",t})(),wb=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:Pe.portName,dialog:"Hallo ate Koharu my project sekai buddy!! Happy happy birthday!!!\n        I wuv u!!! Sana ay mag enjoy k sa iyong kaarawan!!!! *Shows you a drawing*",changeModels:[Pe.character],modelMotion:[new M({character:Pe.character,motion:Pe.motions.coolNodTilthead0102,expression:Pe.expressions.smile5})],modalContent:[new Ge({title:"Sham",isPortrait:!0,link:"assets/img/greetings/sham/art.png"})]}))}}return t.greetingId="sham",t})(),Db=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:A.portName,dialog:"Happy Birthday Akari! Thanks for being such a good friend.\n        Palagi kang nandyan para makinig sa mga problema ko at palagi mo akong sinasamahan sa mga laro. ",changeModels:[A.character],modelMotion:[new M({character:A.character,motion:A.motions.coolTilthead1,expression:A.expressions.normal1}),new M({character:A.character,motion:A.motions.adultTilthead0304,expression:A.expressions.smile1,triggeredText:"Palagi kang"})]})),this.dialogs.push(new R({page:2,characterName:A.portName,dialog:"Thank you kasi palagi mong sinasabayan mga trip ko at mga plans ko katulad nung sa party natin sa Port.\n        Wish ko na sana mas alagaan mo na sarili mo.",modelMotion:[new M({character:A.character,motion:A.motions.coolThink2,expression:A.expressions.smile3})]})),this.dialogs.push(new R({page:3,characterName:A.portName,dialog:"Nakakabahala kayo palagi sa Port pag may nagkakasakit dahil sa kakapuyat niyo or dahil\n        hindi kayo kumakain nang maayos. Wag masyadong matigas ang ulo!",modelMotion:[new M({character:A.character,motion:A.motions.coolTrouble1,expression:A.expressions.sad2})]})),this.dialogs.push(new R({page:4,characterName:A.portName,dialog:"Enjoy your day! More birthdays and more games to come. God Bless! Lablab! *Shows you a video*",modelMotion:[new M({character:A.character,motion:A.motions.adultTilthead1,expression:A.expressions.smile1})],modalContent:[new Ge({title:"Sky",isPortrait:!1,isEmbed:!0,link:"https://drive.google.com/file/d/15mwpgUyylwdwtIpixTsooU7bKiKvXJ6x/preview"})]}))}}return t.greetingId="sky",t})(),Mb=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:Ze.portName,dialog:'"Happy birthday AKARIN!!! Hope na makuha mo lahat ng mga gusto mo sa buhay pati si SUI-CHAN XDDDD!\n        and MBTC! Greet muna ngayon ha! bawi ako pag di na busy" - Pogi pero Gwapo (Bene)',changeModels:[Ze.character],modelMotion:[new M({character:Ze.character,motion:Ze.motions.lookup1,expression:Ze.expressions.smile6})]}))}}return t.greetingId="bene",t})(),Sb=(()=>{class t{constructor(){this.greetingId=t.greetingId,this.dialogs=[],this._initDialog()}getDialog(n){return this.dialogs.filter(r=>r.page==n)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:ye.portName,dialog:"Happy birthday, Akarin! Sana nagustuhan mo yung skin na ginawa ko sa OC mo hehe \u{1f642} nag-improvise nako,\n      shoulder bust lang yon eh :PepeLaugh:",changeModels:[ye.character],modelMotion:[new M({character:ye.character,motion:ye.motions.normalNod5,expression:ye.expressions.normal2})]})),this.dialogs.push(new R({page:2,characterName:ye.portName,dialog:"I hope you enjoy your day to the fullest, and more birthdays to come!",modelMotion:[new M({character:ye.character,motion:ye.motions.cuteGlad5,expression:ye.expressions.smile5})],modalContent:[new Ge({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc.png"}),new Ge({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc2.png"}),new Ge({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc3.png"}),new Ge({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc4.png"})]}))}}return t.greetingId="asra",t})();class bb{static getGreeting(e){const n=this._greetings.filter(r=>r.greetingId==e);return n.length>0?n[0]:null}}function mU(t,e){if(1&t){const n=fs();fe(0,"app-modal",7),Ve("onClose",function(){return Oi(n),Bi(mr().modalOnClose())}),Te()}2&t&&ke("modalContents",mr().dialog.getModalContents())}bb._greetings=[new class pU{constructor(){this.dialogs=[],this.greetingId="intro",this._initDialog()}getDialog(e){return this.dialogs.filter(n=>n.page==e)[0]}_initDialog(){this.dialogs.push(new R({page:1,characterName:"Everyone",dialog:"Happy Birthday Akari!!!",changeModels:[Me.character,j.character,oe.character],modelMotion:[new M({index:0,character:Me.character,motion:Me.motions.adultGlad1,expression:Me.expressions.smile1}),new M({index:1,character:j.character,motion:j.motions.coolPoseNod1,expression:j.expressions.smile1}),new M({index:2,character:oe.character,motion:oe.motions.coolPoseNod3,expression:oe.expressions.smile1})]})),this.dialogs.push(new R({page:2,characterName:Me.characterName,dialog:"It's our first time celebrating Akari's birthday together.",modelMotion:[new M({index:0,character:Me.character,motion:Me.motions.adultTilthead1,expression:Me.expressions.smile5}),new M({index:1,character:j.character,motion:j.motions.adultNod3,expression:j.expressions.sparkling}),new M({index:2,character:oe.character,motion:oe.motions.adultNod1,expression:oe.expressions.smile3})]})),this.dialogs.push(new R({page:3,characterName:j.characterName,dialog:"Yeah, It's kind of sad that we didn't met Akari back then.",modelMotion:[new M({index:1,character:j.character,motion:j.motions.adultTilthead2,expression:j.expressions.sad2})]})),this.dialogs.push(new R({page:4,characterName:oe.characterName,dialog:"By the way, Honami told me the other day that she was about to cry when she didn't get my card. Fufu",modelMotion:[new M({index:0,character:Me.character,motion:Me.motions.cuteSmug1,expression:Me.expressions.smile8}),new M({index:1,character:j.character,motion:j.motions.happyForward1,expression:j.expressions.darkSmile1}),new M({index:2,character:oe.character,motion:oe.motions.happyPoseNode3,expression:oe.expressions.darkSmile2})]})),this.dialogs.push(new R({page:5,characterName:oe.characterName,dialog:"I hope you will get my card on your birthday. Why don't you\n        try to pull right now Akari? Hehehe",modelMotion:[new M({index:2,character:oe.character,motion:oe.motions.cutePoseTilthead4,expression:oe.expressions.smile4}),new M({index:2,character:oe.character,motion:oe.motions.cuteShakehead3,expression:oe.expressions.smile5,triggeredText:"pull"})]})),this.dialogs.push(new R({page:6,characterName:j.characterName,dialog:"Oh. Everyone is here!",modelMotion:[new M({index:0,character:Me.character,motion:Me.motions.coolShakehand1,expression:Me.expressions.smile1}),new M({index:1,character:j.character,motion:j.motions.happyShakehand1,expression:j.expressions.sparkling}),new M({index:2,character:oe.character,motion:oe.motions.cuteShakehand1,expression:oe.expressions.shy2})]})),this.dialogs.push(new R({page:7,characterName:"Everyone",dialog:"Happy Birthday Akari!!",changeModels:[_e.character,Pe.character,Q.character],modelMotion:[new M({index:0,character:_e.character,motion:_e.motions.coolBlushed1,expression:_e.expressions.sparkling}),new M({index:1,character:Pe.character,motion:Pe.motions.happyForward2,expression:Pe.expressions.sparkling}),new M({index:2,character:Q.character,motion:Q.motions.happyGlad1,expression:Q.expressions.sparkling})]})),this.dialogs.push(new R({page:8,characterName:"Everyone",dialog:"Happy Birthday Akari!!",changeModels:[Ke.character,A.character,Ze.character],modelMotion:[new M({index:0,character:Ke.character,motion:Ke.motions.adultTilthead0304,expression:Ke.expressions.smile1}),new M({index:1,character:A.character,motion:A.motions.adultTilthead1,expression:A.expressions.smile1}),new M({index:2,character:Ze.character,motion:Ze.motions.adultTilthead2,expression:Ze.expressions.smile2})]})),this.dialogs.push(new R({page:9,characterName:"Everyone",dialog:"Happy Birthday Akari!!",changeModels:[ye.character,Se.character,G.character],modelMotion:[new M({index:0,character:ye.character,motion:ye.motions.animalTiltheadNod0101,expression:ye.expressions.smile1}),new M({index:1,character:Se.character,motion:Se.motions.adultTilthead1,expression:Se.expressions.smile2}),new M({index:2,character:G.character,motion:G.motions.happyTilthead1,expression:G.expressions.smile1})]})),this.dialogs.push(new R({page:10,characterName:j.characterName,dialog:"Since everyone is here, why don't we read our greetings to\n        Akari? then I will start first.",changeModels:[j.character],modelMotion:[new M({index:0,character:j.character,motion:j.motions.adultNod3,expression:j.expressions.smile1})]})),this.dialogs.push(new R({page:11,characterName:j.portName,dialog:'"Are you enjoying your day so far? Know this, superstar\n        A wonderful day still awaits you Right now is a grand moment for you\n        I wish you a great day and happy birthday" - Arya',modelMotion:[new M({character:j.character,motion:j.motions.adultTilthead2,expression:j.expressions.smile1})]})),this.dialogs.push(new R({page:12,characterName:j.characterName,dialog:"I'm done reading mine. Who's next?",modelMotion:[new M({character:j.character,motion:j.motions.coolPoseNod1,expression:j.expressions.smile1})]})),this.dialogs.push(new R({page:13,characterName:Se.characterName,dialog:"Me.",changeModels:[Se.character],modelMotion:[new M({character:Se.character,motion:Se.motions.normalShakehand1,expression:Se.expressions.smile3})]})),this.dialogs.push(new R({page:14,characterName:Se.portName,dialog:'"Happy Birthday Akariiiiiiiiin. Sana maging happy ang\n        araw mo today at wag ka pa stress sa work. Abusuhin ang VL\n        if ma pwede gashaahs chz" - Yuyan',modelMotion:[new M({character:Se.character,motion:Se.motions.normalSmug1,expression:Se.expressions.smile1}),new M({character:Se.character,motion:Se.motions.adultTilthead1,expression:Se.expressions.smile3,triggeredText:"Abusuhin"})]})),this.dialogs.push(new R({page:15,characterName:Se.characterName,dialog:"That's all.",modelMotion:[new M({character:Se.character,motion:Se.motions.adultTilthead1,expression:Se.expressions.smile1})]})),this.dialogs.push(new R({page:16,characterName:_e.characterName,dialog:"Then I'm next.",changeModels:[_e.character],modelMotion:[new M({character:_e.character,motion:_e.motions.coolBlushed1,expression:_e.expressions.smile1})]})),this.dialogs.push(new R({page:17,characterName:_e.portName,dialog:"Happy Birthday Akari. *Shows you a birthday card and\n        a drawing*",modelMotion:[new M({character:_e.character,motion:_e.motions.cuteFidget1,expression:_e.expressions.shy1})],modalContent:[new Ge({title:"Juicy",isPortrait:!0,link:"assets/img/greetings/juicy/greeting.png"}),new Ge({title:"Juicy",isPortrait:!1,link:"assets/img/greetings/juicy/art.png"})]})),this.dialogs.push(new R({page:18,characterName:_e.characterName,dialog:"I'm done.",modelMotion:[new M({character:_e.character,motion:_e.motions.coolNod1,expression:_e.expressions.smile1})]})),this.dialogs.push(new R({page:19,characterName:Pe.portName,dialog:'I\'m next. "Hallo ate Koharu my project sekai buddy!! Happy happy birthday!!!\n        I wuv u!!! Sana ay mag enjoy k sa iyong kaarawan!!!!" - Sham. *Shows you a drawing*',changeModels:[Pe.character],modelMotion:[new M({character:Pe.character,motion:Pe.motions.coolNodTilthead0102,expression:Pe.expressions.smile5})],modalContent:[new Ge({title:"Sham",isPortrait:!0,link:"assets/img/greetings/sham/art.png"})]})),this.dialogs.push(new R({page:20,characterName:Pe.characterName,dialog:"I'm done.",modelMotion:[new M({character:Pe.character,motion:Pe.motions.happyForward2,expression:Pe.expressions.smile5})]})),this.dialogs.push(new R({page:21,characterName:A.portName,dialog:"Oh It's my turn. \"Happy Birthday Akari! Thanks for being such a good friend.\n        Palagi kang nandyan para makinig sa mga problema ko at palagi mo akong sinasamahan sa mga laro. ",changeModels:[A.character],modelMotion:[new M({character:A.character,motion:A.motions.coolTilthead1,expression:A.expressions.normal1}),new M({character:A.character,motion:A.motions.adultTilthead0304,expression:A.expressions.smile1,triggeredText:"Palagi kang"})]})),this.dialogs.push(new R({page:22,characterName:A.portName,dialog:"Thank you kasi palagi mong sinasabayan mga trip ko at mga plans ko katulad nung sa party natin sa Port.\n        Wish ko na sana mas alagaan mo na sarili mo.",modelMotion:[new M({character:A.character,motion:A.motions.coolThink2,expression:A.expressions.smile3})]})),this.dialogs.push(new R({page:23,characterName:A.portName,dialog:"Nakakabahala kayo palagi sa Port pag may nagkakasakit dahil sa kakapuyat niyo or dahil\n        hindi kayo kumakain nang maayos. Wag masyadong matigas ang ulo!",modelMotion:[new M({character:A.character,motion:A.motions.coolTrouble1,expression:A.expressions.sad2})]})),this.dialogs.push(new R({page:24,characterName:A.portName,dialog:'Enjoy your day! More birthdays and more games to come. God Bless! Lablab!" - From your Anghel Friend.\n        *Shows you a video from Sky*',modelMotion:[new M({character:A.character,motion:A.motions.adultTilthead1,expression:A.expressions.smile1})],modalContent:[new Ge({title:"Sky",isPortrait:!1,isEmbed:!0,link:"https://drive.google.com/file/d/15mwpgUyylwdwtIpixTsooU7bKiKvXJ6x/preview"})]})),this.dialogs.push(new R({page:25,characterName:A.characterName,dialog:"That's all.",modelMotion:[new M({character:A.character,motion:A.motions.coolTilthead1,expression:A.expressions.smile3})]})),this.dialogs.push(new R({page:26,characterName:G.portName,dialog:'My turn. "Happy birthday Akarin!! Sana ay mabuhay ka pa nang matagal and enjoy your life to the fullest!\n       alam kong super bait mo kaya you deserve all the good things in life and',changeModels:[G.character],modelMotion:[new M({character:G.character,motion:G.motions.happyTilthead1,expression:G.expressions.smile1}),new M({character:G.character,motion:G.motions.coolTilthead2,expression:G.expressions.smile1,triggeredText:"alam kong"})]})),this.dialogs.push(new R({page:27,characterName:G.portName,dialog:"hope that never a bad day approach you though it's impossible but I hope the world will be always gentle to you.",modelMotion:[new M({character:G.character,motion:G.motions.adultNod3,expression:G.expressions.smile5})]})),this.dialogs.push(new R({page:28,characterName:G.portName,dialog:' Enjoy your day and always take care of yourself <3 I love you! And always know you have me\n        and Port Caf\xe9 always." - Jikan. *Shows you a picture of both of you together and a cover song*',modelMotion:[new M({character:G.character,motion:G.motions.adultBlushed3,expression:G.expressions.sparkling1})],modalContent:[new Ge({title:"Jikan",isPortrait:!1,link:"assets/img/greetings/jikan/genshin.png"}),new Ge({title:"Jikan",isPortrait:!1,isEmbed:!0,link:"https://drive.google.com/file/d/1-H6liL_fORi_ZxZ0NT9IqpFv7ZcOGvRk/preview"})]})),this.dialogs.push(new R({page:29,characterName:Ke.portName,dialog:"Oh, It's my turn. Happy Birthday Akarin! *Shows you a picture message*",changeModels:[Ke.character],modelMotion:[new M({character:Ke.character,motion:Ke.motions.adultTilthead0304,expression:Ke.expressions.smile1})],modalContent:[new Ge({title:"Doru",isPortrait:!1,link:"assets/img/greetings/doru/greeting.jpg"})]})),this.dialogs.push(new R({page:30,characterName:Ze.portName,dialog:'"Happy birthday AKARIN!!! Hope na makuha mo lahat ng mga gusto mo sa buhay pati si SUI-CHAN XDDDD!\n        and MBTC! Greet muna ngayon ha! bawi ako pag di na busy" - Pogi pero Gwapo (Bene)',changeModels:[Ze.character],modelMotion:[new M({character:Ze.character,motion:Ze.motions.lookup1,expression:Ze.expressions.smile6})]})),this.dialogs.push(new R({page:31,characterName:ye.portName,dialog:'"Happy birthday, Akarin! Sana nagustuhan mo yung skin na ginawa ko sa OC mo hehe \u{1f642} nag-improvise nako,\n      shoulder bust lang yon eh :PepeLaugh:',changeModels:[ye.character],modelMotion:[new M({character:ye.character,motion:ye.motions.normalNod5,expression:ye.expressions.normal2})]})),this.dialogs.push(new R({page:32,characterName:ye.portName,dialog:'I hope you enjoy your day to the fullest, and more birthdays to come!" - Endergorl sa port',modelMotion:[new M({character:ye.character,motion:ye.motions.cuteGlad5,expression:ye.expressions.smile5})],modalContent:[new Ge({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc.png"}),new Ge({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc2.png"}),new Ge({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc3.png"}),new Ge({title:"Asra",isPortrait:!0,link:"assets/img/greetings/asra/oc4.png"})]})),this.dialogs.push(new R({page:33,characterName:Q.portName,dialog:"I'm last. \"Happy Birthday Akari!!! Sana ay masaya ka sa birthday mo. Pasensya kung kulang2x features\n        ng Project Akari: Birthday Stage! HAHAHA Ito lang nakayanan ni Emma xD.",changeModels:[Q.character],modelMotion:[new M({character:Q.character,motion:Q.motions.cuteGlad1,expression:Q.expressions.smile2}),new M({character:Q.character,motion:Q.motions.cuteShy1,expression:Q.expressions.smile1,triggeredText:"Stage!"})]})),this.dialogs.push(new R({page:34,characterName:Q.portName,dialog:'Sana ay makuha mo mga gusto mo sa buhay at si Ena Hihihi. Stay Healthy ka palagi kung hindi\n        matatalo na kita sa project sekai at kukunin ko trono mo xD" - Emma',modelMotion:[new M({character:Q.character,motion:Q.motions.cutePoseNod1,expression:Q.expressions.sparkling}),new M({character:Q.character,motion:Q.motions.cuteSmug1,expression:Q.expressions.sparkling,triggeredText:"matatalo"})]})),this.dialogs.push(new R({page:35,characterName:j.characterName,dialog:"I think Honami was the last one. Happy Birthday Akari and Enjoy your day. Good Bye!",changeModels:[Me.character,j.character,oe.character],modelMotion:[new M({index:0,character:Me.character,motion:Me.motions.adultGlad1,expression:Me.expressions.smile1}),new M({index:1,character:j.character,motion:j.motions.coolPoseNod1,expression:j.expressions.smile1}),new M({index:2,character:oe.character,motion:oe.motions.coolPoseNod3,expression:oe.expressions.smile1}),new M({index:0,character:Me.character,motion:Me.motions.coolShakehand1,expression:Me.expressions.smile1,triggeredText:"Good Bye"}),new M({index:1,character:j.character,motion:j.motions.happyShakehand1,expression:j.expressions.smile1,triggeredText:"Good Bye"}),new M({index:2,character:oe.character,motion:oe.motions.cuteShakehand1,expression:oe.expressions.smile1,triggeredText:"Good Bye"})]}))}},new Gg,new mb,new vb,new Cb,new wb,new Db,new Mb,new Sb];let _U=(()=>{class t{constructor(n){this.router=n,this.isShowModal=!1,this._isDialogCompleted=!1,this._timeouts=[],this._modalTimeouts=[],this._page=1,this._hasModalShown=!1,this.onExit=new Be}ngOnChanges(n){this.dialog&&this.dialog.hasChangeModels&&n.modelLoaded.currentValue==this.dialog.changeModelLength&&this.dialog.runMotion()}ngOnInit(){this.dialog=this.greeting.getDialog(this._page++),this.startDialog()}_showModal(n){this.isShowModal=n}startDialog(){for(;this._timeouts.length;)clearTimeout(this._timeouts.pop());for(;this._modalTimeouts.length;)clearTimeout(this._modalTimeouts.pop());this._hasModalShown=!this.dialog.hasModalContents,this._isDialogCompleted&&(this._isDialogCompleted=!1),this.dialog.hasChangeModels||this.dialog.runMotion();for(let n=0;n<this.dialog.length;n++)this._timeouts.push(setTimeout(()=>{this.dialog.currentDialog+=this.dialog.getDialogChar(n),this.dialog.dialogOnChange(),this.dialog.length-1==n&&(this._modalTimeouts.push(setTimeout(()=>{this.dialog.hasModalContents&&this._showModal(!0)},1300)),this._isDialogCompleted=!0)},20*n))}dialogOnClick(){if(this._isDialogCompleted)this._hasModalShown&&(this.greeting.dialogs.length!=this._page-1?(this.dialog=this.greeting.getDialog(this._page++),this.dialog.updateModels(),this.dialog&&this.startDialog()):(this.dialog.currentDialog="",this.onExit.emit(),Mu.isIntroSkipped()||Mu.toggleIntro(),setTimeout(()=>{this.router.navigate(["/characters"])},500)));else{for(;this._timeouts.length;)clearTimeout(this._timeouts.pop());const n=this.dialog.motionLength;n>1&&this.dialog.runMotion(n-1),this._isDialogCompleted=!0,this.dialog.currentDialog=this.dialog.fullDialog,this._modalTimeouts.push(setTimeout(()=>{this.dialog.hasModalContents&&this._showModal(!0)},1300))}}modalOnClose(){this._showModal(!1),this._hasModalShown=!0}}return t.\u0275fac=function(n){return new(n||t)(D(Rt))},t.\u0275cmp=$n({type:t,selectors:[["app-dialog-box"]],inputs:{greeting:"greeting",modelLoaded:"modelLoaded"},outputs:{onExit:"onExit"},features:[jt],decls:9,vars:3,consts:[[1,"dialog-container","fade-in"],[1,"dialog-title"],[1,"dialog-title-box"],[1,"dialog-title-content"],[1,"dialog-body",3,"click"],[1,"dialog-body-content"],[3,"modalContents","onClose",4,"ngIf"],[3,"modalContents","onClose"]],template:function(n,r){1&n&&(fe(0,"div",0)(1,"div",1),ft(2,"div",2),fe(3,"div",3),In(4),Te()(),fe(5,"div",4),Ve("click",function(){return r.dialogOnClick()}),fe(6,"div",5),In(7),Te()()(),cn(8,mU,1,1,"app-modal",6)),2&n&&($e(4),ps(" ",r.dialog.characterName," "),$e(3),ps(" ",r.dialog.currentDialog," "),$e(1),ke("ngIf",r.isShowModal))},dependencies:[jo,yM],styles:['[_nghost-%COMP%]{position:fixed;bottom:10%;left:10%;height:200px;width:80%;z-index:3}div[_ngcontent-%COMP%]{box-sizing:unset!important}.dialog-container[_ngcontent-%COMP%]{position:relative;width:100%}.dialog-title[_ngcontent-%COMP%]{position:relative;padding:10px;top:-38px;left:6%;height:50px;width:30%;z-index:4;border-radius:200px;background-color:#67658a;border:3px solid #c5cbe1}.dialog-title-box[_ngcontent-%COMP%]{position:absolute;height:20px;width:20px;background-color:#00f7d6;transform:rotate(44deg);top:34%;left:7%}.dialog-title-box[_ngcontent-%COMP%]:after{position:absolute;top:-15px;left:-4px;font-size:30px;font-weight:700;color:#676688;margin-left:10px;content:"."}.dialog-title-content[_ngcontent-%COMP%]{position:absolute;font-size:30px;font-weight:400;color:#fff;top:24%;left:16%}.dialog-body[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:0;left:0;background-color:#fff;height:200px;width:100%;border-radius:500px;border:3px solid rgb(184,184,184)}.dialog-body-content[_ngcontent-%COMP%]{cursor:pointer;position:relative;font-size:30px;font-weight:400;color:#fff;top:24%;padding:0 8%;color:#67658a}.fade-in[_ngcontent-%COMP%]{animation:fadeIn 1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}']}),t})(),yU=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=$n({type:t,selectors:[["app-loading-screen"]],decls:3,vars:0,consts:[[1,"loading-screen-bg"],[1,"loading-screen-loading"]],template:function(n,r){1&n&&(fe(0,"div",0)(1,"div",1),In(2," Now Loading... "),Te()())},styles:[".loading-screen-bg[_ngcontent-%COMP%]{position:relative;top:0;left:0;z-index:100;background-color:#fff;width:100vw;height:100vh}.loading-screen-loading[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:15px;background-color:#363535;padding:10px;color:#fff;font-size:25px;font-weight:700;border-radius:10px}"]}),t})();function vU(t,e){if(1&t){const n=fs();fe(0,"app-dialog-box",4),Ve("onExit",function(){return Oi(n),Bi(mr().onExit())}),Te()}if(2&t){const n=mr();ke("greeting",n.greeting)("modelLoaded",n.modelLoadedCount)}}function CU(t,e){1&t&&ft(0,"app-loading-screen")}let wU=(()=>{class t{constructor(n){this.routh=n,this.showDialogBox=!1,this.isModelLoaded=!1,this.modelLoadedCount=0,this._isDialogShown=!1}ngOnInit(){this.routh.queryParams.subscribe(n=>{this._initlAppDelegate(),this.greeting=bb.getGreeting(n.greetedby),this.greeting.getDialog(1).updateModels()})}ngOnDestroy(){me.releaseInstance()}onExit(){this.isModelLoaded=!1}_initlAppDelegate(){const n=me.getInstance();n.eventListener(r=>{switch(r){case xr.ModelLoaded:this._isDialogShown||setTimeout(()=>{this.isModelLoaded=!0,this.showDialogBox=!0,this._isDialogShown=!0,this.greeting.getDialog(1).runMotion()},200),++this.modelLoadedCount,console.log("Model Loaded");break;case xr.MotionCompleted:console.log("Motion Completed");break;case xr.ModelReleased:this.modelLoadedCount=0,console.log("Model Released")}}),0!=n.initialize()&&n.run()}}return t.\u0275fac=function(n){return new(n||t)(D(mi))},t.\u0275cmp=$n({type:t,selectors:[["app-greetings"]],decls:4,vars:2,consts:[["src","assets/img/background/classroom.jpg","alt","",1,"background"],["id","l2d-canvas"],[3,"greeting","modelLoaded","onExit",4,"ngIf"],[4,"ngIf"],[3,"greeting","modelLoaded","onExit"]],template:function(n,r){1&n&&(ft(0,"img",0)(1,"div",1),cn(2,vU,1,2,"app-dialog-box",2),cn(3,CU,1,0,"app-loading-screen",3)),2&n&&($e(2),ke("ngIf",r.showDialogBox),$e(1),ke("ngIf",!r.isModelLoaded))},dependencies:[jo,_U,yU],styles:[".background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100%;z-index:0}#l2d-canvas[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100%;z-index:1}#l2d-canvas[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();class Ir{constructor({group:e,greetingId:n,portName:r,imgUrl:i}){this._group=e,this._greetingId=n,this._portName=r,this._imgUrl=i}get group(){return this._group}get greetingId(){return this._greetingId}get portName(){return this._portName}get imgUrl(){return this._imgUrl}}var Re=(()=>(function(t){t[t.virtualSinger=0]="virtualSinger",t[t.leoNeed=1]="leoNeed",t[t.moreMoreJump=2]="moreMoreJump",t[t.vividSquad=3]="vividSquad",t[t.wxS=4]="wxS",t[t.n25=5]="n25"}(Re||(Re={})),Re))();class js{constructor({groupName:e,imgUrl:n,bgImgUrl:r,groupKey:i,members:s}){this._groupName=e,this._groupImgUrl=n,this._groupBGImgUrl=r,this._groupKey=i,this._members=s}get name(){return this._groupName}get imgUrl(){return this._groupImgUrl}get bgImgUrl(){return this._groupBGImgUrl}get key(){return this._groupKey}get members(){return this._members}getClass(e){return this.key==e?"group-logo-img active":"group-logo-img"}}class Ot{static getGroup(e){switch(e){case Re.virtualSinger:return this.virtualSinger;case Re.leoNeed:return this.leoNeed;case Re.moreMoreJump:return this.moreMoreJump;case Re.vividSquad:return this.vividSquad;case Re.wxS:return this.wonderlandxS;case Re.n25:return this.nightCordAt25;default:return null}}}function DU(t,e){if(1&t){const n=fs();fe(0,"div",9)(1,"img",10),Ve("click",function(){const s=Oi(n).$implicit;return Bi(mr().logoOnClick(s))}),Te()()}if(2&t){const n=e.$implicit,r=mr();$e(1),El("alt","",n.name," Logo"),ke("ngClass",n.getClass(r.selectedGroup.key))("src",n.imgUrl,fo)}}Ot.virtualSinger=new js({groupName:"Virtual Singer",imgUrl:"assets/img/group-logo/VirtualSinger.png",bgImgUrl:"assets/img/background/virtual-singer.png",groupKey:Re.virtualSinger,members:[new Ir({group:Re.virtualSinger,greetingId:Gg.greetingId,portName:"Jikan",imgUrl:"assets/img/characters/Jikan.png"})]}),Ot.leoNeed=new js({groupName:"Virtual Singer",imgUrl:"assets/img/group-logo/LeoNeed.png",bgImgUrl:"assets/img/background/leo-need.png",groupKey:Re.leoNeed,members:[new Ir({group:Re.leoNeed,greetingId:mb.greetingId,portName:"Emma-Kun",imgUrl:"assets/img/characters/EmmaKun.png"})]}),Ot.moreMoreJump=new js({groupName:"More More Jump",imgUrl:"assets/img/group-logo/MoreMoreJump.png",bgImgUrl:"assets/img/background/more-more-jump.png",groupKey:Re.moreMoreJump,members:[new Ir({group:Re.moreMoreJump,greetingId:vb.greetingId,portName:"Juicy",imgUrl:"assets/img/characters/Juicy.png"}),new Ir({group:Re.moreMoreJump,greetingId:Gg.greetingId,portName:"Jikan",imgUrl:"assets/img/characters/Jikan2.png"})]}),Ot.vividSquad=new js({groupName:"Vivid Bad Squad",imgUrl:"assets/img/group-logo/VividSquad.png",bgImgUrl:"assets/img/background/vivid.png",groupKey:Re.vividSquad,members:[new Ir({group:Re.vividSquad,greetingId:Cb.greetingId,portName:"Doru",imgUrl:"assets/img/characters/Doru.png"}),new Ir({group:Re.vividSquad,greetingId:wb.greetingId,portName:"Sham",imgUrl:"assets/img/characters/Sham.png"}),new Ir({group:Re.vividSquad,greetingId:Db.greetingId,portName:"Sky",imgUrl:"assets/img/characters/Sky.png"})]}),Ot.wonderlandxS=new js({groupName:"Wonderlands x Showtime",imgUrl:"assets/img/group-logo/WxS.png",bgImgUrl:"assets/img/background/WxS.png",groupKey:Re.wxS,members:[new Ir({group:Re.wxS,greetingId:Mb.greetingId,portName:"Bene",imgUrl:"assets/img/characters/Bene.png"})]}),Ot.nightCordAt25=new js({groupName:"Nightcord at 25:00",imgUrl:"assets/img/group-logo/N25.png",bgImgUrl:"assets/img/background/n25.png",groupKey:Re.n25,members:[new Ir({group:Re.n25,greetingId:Sb.greetingId,portName:"Asra",imgUrl:"assets/img/characters/Asra.png"})]}),Ot.groups=[Ot.virtualSinger,Ot.leoNeed,Ot.moreMoreJump,Ot.vividSquad,Ot.wonderlandxS,Ot.nightCordAt25];const MU=function(){return["/greetings"]},SU=function(t){return{greetedby:t}};function bU(t,e){if(1&t&&(fe(0,"li",11),ft(1,"img",12),Te()),2&t){const n=e.$implicit;ke("routerLink",function lC(t,e,n){const r=Et()+t,i=w();return i[r]===z?Yn(i,r,n?e.call(n):e()):function wo(t,e){return t[e]}(i,r)}(4,MU))("queryParams",uC(5,SU,n.greetingId)),$e(1),ke("src",n.imgUrl,fo)("alt",n.portName)}}const EU=[{path:"",component:TL},{path:"greetings",component:wU},{path:"characters",component:(()=>{class t{constructor(){this.groups=Ot.groups}ngOnInit(){this.selectedGroup=Ot.getGroup(Re.virtualSinger)}logoOnClick(n){this.selectedGroup=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=$n({type:t,selectors:[["app-characters"]],decls:11,vars:5,consts:[[1,"characters-body"],[1,"overlay"],[1,"header"],[1,"header-title"],[1,"group-logo"],[1,"row","align-items-center"],["class","col animate__animated animate__fadeInRight",4,"ngFor","ngForOf"],[1,"group-body"],["class","animate__animated animate__zoomIn",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"col","animate__animated","animate__fadeInRight"],[3,"ngClass","src","alt","click"],[1,"animate__animated","animate__zoomIn",3,"routerLink","queryParams"],[1,"group-character",3,"src","alt"]],template:function(n,r){1&n&&(fe(0,"div",0),ft(1,"div",1),fe(2,"div",2)(3,"div",3),In(4," Characters "),Te()(),fe(5,"div",4)(6,"div",5),cn(7,DU,2,3,"div",6),Te()(),fe(8,"div",7)(9,"ul"),cn(10,bU,2,7,"li",8),Te()()()),2&n&&(function mv(t,e,n){Kn(ss(w(),t,e,n))}("background-image: url('",r.selectedGroup.bgImgUrl,"'), linear-gradient(rgba(0, 0, 0, 0.5),rgba(0,0,0,0.5))"),$e(7),ke("ngForOf",r.groups),$e(3),ke("ngForOf",r.selectedGroup.members))},dependencies:[T0,P0,Du],styles:[".characters-body[_ngcontent-%COMP%]{height:100vh;width:100vw;background-repeat:no-repeat;background-size:cover;background-position:center;background-blend-mode:overlay}.header[_ngcontent-%COMP%]{position:relative;background:linear-gradient(to right,#00ffdd 0%,rgba(255,255,255,0) 120%);height:80px;width:100%;display:flex;justify-self:center;align-items:center}.header-title[_ngcontent-%COMP%]{position:absolute;left:44%;font-size:35px;font-weight:700;color:#446}.group-logo[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;padding:15px}.group-logo-img[_ngcontent-%COMP%]{cursor:pointer;width:150px;opacity:.3}.group-logo-img.active[_ngcontent-%COMP%]{opacity:1}.group-body[_ngcontent-%COMP%]{padding:20px;height:70%;display:flex;justify-content:center;align-items:center}.group-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden}.group-body[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;padding:20px 10px}.group-character[_ngcontent-%COMP%]{cursor:pointer;height:402px;border-radius:10px;width:200px;box-shadow:0 0 10px #0000004d;border:2px solid white}"]}),t})()}];let xU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vn({type:t}),t.\u0275inj=sn({imports:[uD.forRoot(EU),uD]}),t})(),IU=(()=>{class t{constructor(){this.title="project-akari"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=$n({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&ft(0,"router-outlet")},dependencies:[Ff]}),t})();const TU=["addListener","removeListener"],AU=["addEventListener","removeEventListener"],PU=["on","off"];function Xu(t,e,n,r){if(ie(n)&&(r=n,n=void 0),r)return Xu(t,e,n).pipe(mf(r));const[i,s]=function NU(t){return ie(t.addEventListener)&&ie(t.removeEventListener)}(t)?AU.map(o=>a=>t[o](e,a,n)):function RU(t){return ie(t.addListener)&&ie(t.removeListener)}(t)?TU.map(Eb(t,e)):function FU(t){return ie(t.on)&&ie(t.off)}(t)?PU.map(Eb(t,e)):[];if(!i&&ic(t))return ot(o=>Xu(o,e,n))(_n(t));if(!i)throw new TypeError("Invalid event target");return new Fe(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function Eb(t,e){return n=>r=>t[n](e,r)}const Kr=new Fe(Aa),VU={connector:()=>new zt};function xb(t,e=VU){const{connector:n}=e;return it((r,i)=>{const s=n();Qe(t(function kU(t){return new Fe(e=>t.subscribe(e))}(s))).subscribe(i),i.add(r.subscribe(s))})}class LU extends $t{constructor(e,n){super()}schedule(e,n=0){return this}}const Ku={setInterval(t,e,...n){const{delegate:r}=Ku;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Ku;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},Ib={now:()=>(Ib.delegate||Date).now(),delegate:void 0};class Ma{constructor(e,n=Ma.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ma.now=Ib.now;const Tb=new class UU extends Ma{constructor(e,n=Ma.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class jU extends LU{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Ku.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;Ku.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ti(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),HU=Tb;function Ab(t,e){return e?n=>zo(e.pipe(Gt(1),function $U(){return it((t,e)=>{t.subscribe(st(e,Aa))})}()),n.pipe(Ab(t))):ot((n,r)=>t(n,r).pipe(Gt(1),uw(n)))}const Sa="Service workers are disabled or not supported by this browser";class Zu{constructor(e){if(this.serviceWorker=e,e){const r=Xu(e,"controllerchange").pipe(ae(()=>e.controller)),s=zo(au(()=>L(e.controller)),r);this.worker=s.pipe(fn(c=>!!c)),this.registration=this.worker.pipe(Fn(()=>e.getRegistration()));const u=Xu(e,"message").pipe(ae(c=>c.data)).pipe(fn(c=>c&&c.type)).pipe(function BU(t){return t?e=>xb(t)(e):e=>function OU(t,e){const n=ie(t)?t:()=>t;return ie(e)?xb(e,{connector:n}):r=>new yf(r,n)}(new zt)(e)}());u.connect(),this.events=u}else this.worker=this.events=this.registration=function WU(t){return au(()=>Ss(new Error(t)))}(Sa)}postMessage(e,n){return this.worker.pipe(Gt(1),pt(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const i=this.waitForOperationCompleted(r),s=this.postMessage(e,n);return Promise.all([s,i]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(fn(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Gt(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(fn(n=>n.nonce===e),Gt(1),ae(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let YU=(()=>{class t{constructor(n){if(this.sw=n,this.subscriptionChanges=new zt,!n.isEnabled)return this.messages=Kr,this.notificationClicks=Kr,void(this.subscription=Kr);this.messages=this.sw.eventsOfType("PUSH").pipe(ae(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ae(i=>i.data)),this.pushManager=this.sw.registration.pipe(ae(i=>i.pushManager));const r=this.pushManager.pipe(Fn(i=>i.getSubscription()));this.subscription=oc(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(n){if(!this.sw.isEnabled)return Promise.reject(new Error(Sa));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return r.applicationServerKey=s,this.pushManager.pipe(Fn(o=>o.subscribe(r)),Gt(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Gt(1),Fn(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Sa))}decodeBase64(n){return atob(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Zu))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})(),XU=(()=>{class t{constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=Kr,this.available=Kr,this.activated=Kr,void(this.unrecoverable=Kr);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(fn(r=>"VERSION_READY"===r.type),ae(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Sa));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Sa));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}}return t.\u0275fac=function(n){return new(n||t)(I(Zu))},t.\u0275prov=Y({token:t,factory:t.\u0275fac}),t})();class qg{}const Pb=new H("NGSW_REGISTER_SCRIPT");function KU(t,e,n,r){return()=>{if(!O0(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)s=n.registrationStrategy();else{const[a,...l]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=L(null);break;case"registerWithDelay":s=Rb(+l[0]||0);break;case"registerWhenStable":s=l[0]?oc(Fb(t),Rb(+l[0])):Fb(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(qe).runOutsideAngular(()=>s.pipe(Gt(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function Rb(t){return L(null).pipe(function qU(t,e=Tb){const n=function GU(t=0,e,n=HU){let r=-1;return null!=e&&(pp(e)?n=e:r=e),new Fe(i=>{let s=function zU(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,e);return Ab(()=>n)}(t))}function Fb(t){return t.get(ko).isStable.pipe(fn(n=>n))}function ZU(t,e){return new Zu(O0(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let QU=(()=>{class t{static register(n,r={}){return{ngModule:t,providers:[{provide:Pb,useValue:n},{provide:qg,useValue:r},{provide:Zu,useFactory:ZU,deps:[qg,jl]},{provide:Bl,useFactory:KU,deps:[Tt,Pb,qg,jl],multi:!0}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vn({type:t}),t.\u0275inj=sn({providers:[YU,XU]}),t})();let JU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=vn({type:t,bootstrap:[IU]}),t.\u0275inj=sn({imports:[Hk,xU,vL,QU.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),t})();(function bF(){s0=!1})(),Uk().bootstrapModule(JU).catch(t=>console.error(t))}},ie=>{ie(ie.s=997)}]);